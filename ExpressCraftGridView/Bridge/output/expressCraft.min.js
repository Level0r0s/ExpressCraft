Bridge.assembly("ExpressCraft",function($asm){"use strict";Bridge.define("ExpressCraft.Control",{statics:{ControlClass:"control",cva:null,baseClass:function(add){return add===void 0&&(add=!0),add?" control":ExpressCraft.Control.ControlClass},getImageString:function(s){return System.String.format("url('data:image/png;base64,{0}') no-repeat",s)},getPdfString:function(s){return System.String.format("data:application/pdf;base64,{0}",s)},getImageStringURI:function(s,useResourceURL){return useResourceURL===void 0&&(useResourceURL=!0),System.String.format("url('{0}{1}') no-repeat",useResourceURL?ExpressCraft.Settings.resourceURL:"",s)},div:function(){return Bridge.merge(document.createElement("div"),{className:ExpressCraft.Control.baseClass(!1)})},div$1:function(cn){return Bridge.merge(document.createElement("div"),{className:System.String.concat(cn,ExpressCraft.Control.baseClass(!0))})},span:function(){return Bridge.merge(document.createElement("span"),{className:ExpressCraft.Control.baseClass(!1)})},span$1:function(cn){return Bridge.merge(document.createElement("span"),{className:System.String.concat(cn,ExpressCraft.Control.baseClass(!0))})},label$2:function(Caption,X,Y,IsBold,IsTiny){IsBold===void 0&&(IsBold=!1);IsTiny===void 0&&(IsTiny=!1);var lbl=Bridge.merge(document.createElement("span"),{className:ExpressCraft.Control.baseClass(!1)});return lbl.innerHTML=ExpressCraft.Helper.htmlEscape$1(Caption),ExpressCraft.Helper.setLocation(lbl,X,Y),ExpressCraft.Control.setBT(lbl,IsBold,IsTiny),lbl},label$5:function(Caption,X,Y,width,height,IsBold,IsTiny,classr,Alignment,Forecolor){IsBold===void 0&&(IsBold=!1);IsTiny===void 0&&(IsTiny=!1);classr===void 0&&(classr="");Alignment===void 0&&(Alignment=3);Forecolor===void 0&&(Forecolor=null);var lbl=Bridge.merge(document.createElement("span"),{className:System.String.concat(classr,ExpressCraft.Control.baseClass(!System.String.isNullOrWhiteSpace(classr)))});return lbl.innerHTML=ExpressCraft.Helper.htmlEscape$1(Caption),ExpressCraft.Helper.setBounds(lbl,X,Y,width,height),Alignment!=="left"&&(lbl.style.textAlign=Alignment),ExpressCraft.Control.setBT(lbl,IsBold,IsTiny),Forecolor!=null&&(lbl.style.color=Forecolor),lbl},label$3:function(Caption,X,Y,width,IsBold,IsTiny,classr,Alignment,Forecolor){IsBold===void 0&&(IsBold=!1);IsTiny===void 0&&(IsTiny=!1);classr===void 0&&(classr="");Alignment===void 0&&(Alignment=3);Forecolor===void 0&&(Forecolor=null);var lbl=document.createElement("span");return lbl.className=System.String.concat(classr,ExpressCraft.Control.baseClass(!System.String.isNullOrWhiteSpace(classr))),lbl.innerHTML=ExpressCraft.Helper.htmlEscape$1(Caption),ExpressCraft.Helper.setLocation(lbl,X,Y),lbl.style.width=ExpressCraft.Helper.toPx$2(width),Alignment!=="left"&&(Alignment==="right"?lbl.style.direction="rtl":lbl.style.textAlign=Alignment),ExpressCraft.Control.setBT(lbl,IsBold,IsTiny),Forecolor!=null&&(lbl.style.color=Forecolor),lbl},label$4:function(c,X,Y,width,height,IsBold,IsTiny,classr){IsBold===void 0&&(IsBold=!1);IsTiny===void 0&&(IsTiny=!1);classr===void 0&&(classr="");var lbl=Bridge.merge(document.createElement("span"),{className:System.String.concat(classr,ExpressCraft.Control.baseClass(!System.String.isNullOrWhiteSpace(classr)))});return lbl.innerHTML=ExpressCraft.Helper.htmlEscape$1(c),ExpressCraft.Helper.setBounds(lbl,X,Y,width,height),ExpressCraft.Control.setBT(lbl,IsBold,IsTiny),lbl},label$1:function(c,X,Y,width,IsBold,IsTiny,classr){IsBold===void 0&&(IsBold=!1);IsTiny===void 0&&(IsTiny=!1);classr===void 0&&(classr="");var lbl=Bridge.merge(document.createElement("span"),{className:System.String.concat(classr,ExpressCraft.Control.baseClass(!System.String.isNullOrWhiteSpace(classr)))});return lbl.innerHTML=ExpressCraft.Helper.htmlEscape$1(c),ExpressCraft.Helper.setLocation(lbl,X,Y),lbl.style.width=ExpressCraft.Helper.toPx$1(width),ExpressCraft.Control.setBT(lbl,IsBold,IsTiny),lbl},label:function(c,X,Y,IsBold,IsTiny){return IsBold===void 0&&(IsBold=!1),IsTiny===void 0&&(IsTiny=!1),ExpressCraft.Control.label$2(c,X,Y,IsBold,IsTiny)},setBT:function(lbl,IsBold,IsTiny){IsBold&&(lbl.style.fontWeight="bold");IsTiny&&(lbl.style.fontSize="6.75pt")},comboBox:function(cn,ct){var combo=Bridge.merge(document.createElement("select"),{className:System.String.concat(cn,ExpressCraft.Control.baseClass(!0))});return ct===ExpressCraft.ComboBoxTypes.Default,combo},button:function(cn,bt){return Bridge.merge(document.createElement("button"),{className:System.String.concat(cn,ExpressCraft.Control.baseClass(!0)),type:bt})},input:function(cn,it){var input=document.createElement("input"),ty;return(input.className=System.String.concat(cn,ExpressCraft.Control.baseClass(!System.String.isNullOrWhiteSpace(cn))),ty=it,(Bridge.referenceEquals(ty,"text")||Bridge.referenceEquals(ty,"date")||Bridge.referenceEquals(ty,19)||Bridge.referenceEquals(ty,3))&&Bridge.Browser.isIE)?input:(input.type=it,input)},getTextMetrics:function(t,f){var $t,c=(ExpressCraft.Control.cva||($t=document.createElement("canvas"),ExpressCraft.Control.cva=$t,$t)).getContext("2d");return c.font=f,c.measureText(t)},getTextWidth:function(t,f){return ExpressCraft.Control.getTextMetrics(t,f).width},op_Implicit:function(control){return ExpressCraft.Settings.autoRender&&!control.getHasRendered()&&control.render(),control.content}},content:null,onResize:null,onLoaded:null,contextMenu:null,linkedForm:null,config:{properties:{Name:null,HasRendered:!1}},ctor:function(){this.$initialize();this.content=ExpressCraft.Control.div()},$ctor1:function(cn){this.$initialize();this.content=ExpressCraft.Control.div$1(cn)},$ctor2:function(cn,bt){this.$initialize();this.content=ExpressCraft.Control.button(cn,bt)},$ctor4:function(cn,ct){this.$initialize();this.content=ExpressCraft.Control.comboBox(cn,ct)},$ctor3:function(cn,it){this.$initialize();this.content=ExpressCraft.Control.input(cn,it)},getWidth:function(){return this.content.style.width},setWidth:function(value){this.content.style.width=ExpressCraft.Helper.toHtmlValue(value)},getHeight:function(){return this.content.style.height},setHeight:function(value){this.content.style.height=ExpressCraft.Helper.toHtmlValue(value)},getLeft:function(){return this.content.style.left},setLeft:function(value){this.content.style.left=ExpressCraft.Helper.toHtmlValue(value)},getTop:function(){return this.content.style.top},setTop:function(value){this.content.style.top=ExpressCraft.Helper.toHtmlValue(value)},getSize:function(){return new ExpressCraft.Vector2.$ctor1(this.getWidth(),this.getHeight())},setSize:function(value){this.setWidth(value.x);this.setHeight(value.y)},getLocation:function(){return new ExpressCraft.Vector2.$ctor1(this.getLeft(),this.getTop())},setLocation:function(value){this.setLeft(value.x);this.setTop(value.y)},getBounds:function(){return new ExpressCraft.Vector4.$ctor1(this.getLeft(),this.getTop(),this.getWidth(),this.getHeight())},setBounds:function(value){this.setLeft(value.x);this.setTop(value.y);this.setWidth(value.z);this.setHeight(value.m)},render:function(){this.setHasRendered(!0)},changeState:function(s,sf){sf===void 0&&(sf="disabled");s?this.content.classList.remove(sf):this.content.classList.add(sf)}});Bridge.define("ExpressCraft.AceModeTypes",{$kind:"enum",statics:{abap:0,abc:1,actionscript:2,ada:3,apache_conf:4,asciidoc:5,assembly_x86:6,autohotkey:7,batchfile:8,bro:9,c_cpp:10,c9search:11,cirru:12,clojure:13,cobol:14,coffee:15,coldfusion:16,csharp:17,css:18,curly:19,d:20,dart:21,diff:22,dockerfile:23,dot:24,drools:25,dummy:26,dummysyntax:27,eiffel:28,ejs:29,elixir:30,elm:31,erlang:32,forth:33,fortran:34,ftl:35,gcode:36,gherkin:37,gitignore:38,glsl:39,gobstones:40,golang:41,groovy:42,haml:43,handlebars:44,haskell:45,haskell_cabal:46,haxe:47,hjson:48,html:49,html_elixir:50,html_ruby:51,ini:52,io:53,jack:54,jade:55,java:56,javascript:57,json:58,jsoniq:59,jsp:60,jsx:61,julia:62,kotlin:63,latex:64,less:65,liquid:66,lisp:67,livescript:68,logiql:69,lsl:70,lua:71,luapage:72,lucene:73,makefile:74,markdown:75,mask:76,matlab:77,maze:78,mel:79,mushcode:80,mysql:81,nix:82,nsis:83,objectivec:84,ocaml:85,pascal:86,perl:87,pgsql:88,php:89,powershell:90,praat:91,prolog:92,properties:93,protobuf:94,python:95,r:96,razor:97,rdoc:98,rhtml:99,rst:100,ruby:101,rust:102,sass:103,scad:104,scala:105,scheme:106,scss:107,sh:108,sjs:109,smarty:110,snippets:111,soy_template:112,space:113,sql:114,sqlserver:115,stylus:116,svg:117,swift:118,tcl:119,tex:120,text:121,textile:122,toml:123,tsx:124,twig:125,typescript:126,vala:127,vbscript:128,velocity:129,verilog:130,vhdl:131,wollok:132,xml:133,xquery:134,yaml:135,django:136}});Bridge.define("ExpressCraft.AceThemeTypes",{$kind:"enum",statics:{label:0,chrome:1,clouds:2,crimson_editor:3,dawn:4,dreamweaver:5,eclipse:6,github:7,solarized_light:8,textmate:9,tomorrow:10,xcode:11,clouds_midnight:12,cobalt:13,idle_fingers:14,kr_theme:15,merbivore:16,merbivore_soft:17,mono_industrial:18,monokai:19,pastel_on_dark:20,solarized_dark:21,terminal:22,tomorrow_night:23,tomorrow_night_blue:24,tomorrow_night_bright:25,tomorrow_night_eighties:26,twilight:27,vibrant_ink:28}});Bridge.define("ExpressCraft.App",{$main:function(){ExpressCraft.Settings.setup();ExpressCraft.Form.setup();ExpressCraft.Settings.showExceptionDialog=!1;ExpressCraft.Application.run(ExpressCraft.ApplicationDefitnion.ExpressCraftConsole);var x=Bridge.Int.div(10,0)|0}});Bridge.define("ExpressCraft.Application",{statics:{mainForm:null,_applicationDefition:0,getAplicationDefition:function(){return ExpressCraft.Application._applicationDefition},close:function(){ExpressCraft.Application.mainForm!=null&&ExpressCraft.Application.mainForm.close();window.close();window.location.reload()},run:function(applicationDefition){applicationDefition===void 0&&(applicationDefition=0);ExpressCraft.Application._applicationDefition=applicationDefition;switch(applicationDefition){case ExpressCraft.ApplicationDefitnion.BrowserConsole:Bridge.Console.log=function(message){console.log(message)};Bridge.Console.error=function(message){console.error(message)};Bridge.Console.debug=function(message){console.debug(message)};Bridge.Console.clear=function(){console.clear()};break;case ExpressCraft.ApplicationDefitnion.ExpressCraftConsole:Bridge.Console.log=function(message){ExpressCraft.ConsoleForm.log(message)};Bridge.Console.error=function(message){ExpressCraft.ConsoleForm.log(message,ExpressCraft.ConsoleLogType.Error)};Bridge.Console.debug=function(message){ExpressCraft.ConsoleForm.log(message,ExpressCraft.ConsoleLogType.Debug)};console.clear=function(){ExpressCraft.ConsoleForm.clear()}}},run$1:function(_Mainform,applicationDefition){applicationDefition===void 0&&(applicationDefition=0);ExpressCraft.Application.mainForm=_Mainform;ExpressCraft.Application.mainForm.showStartNewLevel();ExpressCraft.Application.run(applicationDefition)}}});Bridge.define("ExpressCraft.ApplicationDefitnion",{$kind:"enum",statics:{BrowserConsole:0,BridgeConsole:1,ExpressCraftConsole:2}});Bridge.define("ExpressCraft.Color",{$kind:"struct",statics:{ctor:function(){ExpressCraft.Color.empty=new ExpressCraft.Color.ctor;ExpressCraft.Color.stateKnownColorValid=1;ExpressCraft.Color.stateARGBValueValid=2;ExpressCraft.Color.stateValueMask=ExpressCraft.Color.stateARGBValueValid;ExpressCraft.Color.stateNameValid=8;ExpressCraft.Color.notDefinedValue=System.Int64(0)},stateKnownColorValid:0,stateARGBValueValid:0,stateValueMask:0,stateNameValid:0,notDefinedValue:System.Int64(0),ARGBAlphaShift:24,ARGBRedShift:16,ARGBGreenShift:8,ARGBBlueShift:0,config:{init:function(){this.empty=new ExpressCraft.Color}},getTransparent:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Transparent)},getAliceBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.AliceBlue)},getAntiqueWhite:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.AntiqueWhite)},getAqua:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Aqua)},getAquamarine:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Aquamarine)},getAzure:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Azure)},getBeige:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Beige)},getBisque:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Bisque)},getBlack:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Black)},getBlanchedAlmond:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.BlanchedAlmond)},getBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Blue)},getBlueViolet:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.BlueViolet)},getBrown:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Brown)},getBurlyWood:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.BurlyWood)},getCadetBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.CadetBlue)},getChartreuse:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Chartreuse)},getChocolate:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Chocolate)},getCoral:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Coral)},getCornflowerBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.CornflowerBlue)},getCornsilk:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Cornsilk)},getCrimson:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Crimson)},getCyan:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Cyan)},getDarkBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkBlue)},getDarkCyan:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkCyan)},getDarkGoldenrod:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkGoldenrod)},getDarkGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkGray)},getDarkGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkGreen)},getDarkKhaki:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkKhaki)},getDarkMagenta:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkMagenta)},getDarkOliveGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkOliveGreen)},getDarkOrange:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkOrange)},getDarkOrchid:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkOrchid)},getDarkRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkRed)},getDarkSalmon:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkSalmon)},getDarkSeaGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkSeaGreen)},getDarkSlateBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkSlateBlue)},getDarkSlateGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkSlateGray)},getDarkTurquoise:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkTurquoise)},getDarkViolet:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DarkViolet)},getDeepPink:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DeepPink)},getDeepSkyBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DeepSkyBlue)},getDimGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DimGray)},getDodgerBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.DodgerBlue)},getFirebrick:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Firebrick)},getFloralWhite:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.FloralWhite)},getForestGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.ForestGreen)},getFuchsia:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Fuchsia)},getGainsboro:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Gainsboro)},getGhostWhite:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.GhostWhite)},getGold:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Gold)},getGoldenrod:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Goldenrod)},getGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Gray)},getGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Green)},getGreenYellow:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.GreenYellow)},getHoneydew:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Honeydew)},getHotPink:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.HotPink)},getIndianRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.IndianRed)},getIndigo:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Indigo)},getIvory:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Ivory)},getKhaki:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Khaki)},getLavender:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Lavender)},getLavenderBlush:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LavenderBlush)},getLawnGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LawnGreen)},getLemonChiffon:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LemonChiffon)},getLightBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightBlue)},getLightCoral:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightCoral)},getLightCyan:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightCyan)},getLightGoldenrodYellow:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightGoldenrodYellow)},getLightGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightGreen)},getLightGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightGray)},getLightPink:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightPink)},getLightSalmon:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightSalmon)},getLightSeaGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightSeaGreen)},getLightSkyBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightSkyBlue)},getLightSlateGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightSlateGray)},getLightSteelBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightSteelBlue)},getLightYellow:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LightYellow)},getLime:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Lime)},getLimeGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.LimeGreen)},getLinen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Linen)},getMagenta:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Magenta)},getMaroon:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Maroon)},getMediumAquamarine:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumAquamarine)},getMediumBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumBlue)},getMediumOrchid:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumOrchid)},getMediumPurple:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumPurple)},getMediumSeaGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumSeaGreen)},getMediumSlateBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumSlateBlue)},getMediumSpringGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumSpringGreen)},getMediumTurquoise:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumTurquoise)},getMediumVioletRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MediumVioletRed)},getMidnightBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MidnightBlue)},getMintCream:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MintCream)},getMistyRose:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.MistyRose)},getMoccasin:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Moccasin)},getNavajoWhite:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.NavajoWhite)},getNavy:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Navy)},getOldLace:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.OldLace)},getOlive:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Olive)},getOliveDrab:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.OliveDrab)},getOrange:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Orange)},getOrangeRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.OrangeRed)},getOrchid:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Orchid)},getPaleGoldenrod:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PaleGoldenrod)},getPaleGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PaleGreen)},getPaleTurquoise:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PaleTurquoise)},getPaleVioletRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PaleVioletRed)},getPapayaWhip:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PapayaWhip)},getPeachPuff:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PeachPuff)},getPeru:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Peru)},getPink:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Pink)},getPlum:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Plum)},getPowderBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.PowderBlue)},getPurple:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Purple)},getRed:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Red)},getRosyBrown:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.RosyBrown)},getRoyalBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.RoyalBlue)},getSaddleBrown:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SaddleBrown)},getSalmon:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Salmon)},getSandyBrown:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SandyBrown)},getSeaGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SeaGreen)},getSeaShell:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SeaShell)},getSienna:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Sienna)},getSilver:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Silver)},getSkyBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SkyBlue)},getSlateBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SlateBlue)},getSlateGray:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SlateGray)},getSnow:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Snow)},getSpringGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SpringGreen)},getSteelBlue:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.SteelBlue)},getTan:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Tan)},getTeal:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Teal)},getThistle:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Thistle)},getTomato:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Tomato)},getTurquoise:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Turquoise)},getViolet:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Violet)},getWheat:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Wheat)},getWhite:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.White)},getWhiteSmoke:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.WhiteSmoke)},getYellow:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.Yellow)},getYellowGreen:function(){return new ExpressCraft.Color.$ctor1(ExpressCraft.KnownColor.YellowGreen)},checkByte:function(value,name){if(value<0||value>255){var args=System.Array.init([name,value,0,255],Object);throw new System.ArgumentException("InvalidEx2BoundArgument");}},makeArgb:function(alpha,red,green,blue){return System.Int64.clip64(Bridge.Int.clipu64(red<<16|green<<8|blue|alpha<<24).and(System.UInt64(System.Int64([-1,0]))))},fromArgb:function(argb){return new ExpressCraft.Color.$ctor2(System.Int64(argb).and(System.Int64([-1,0])),ExpressCraft.Color.stateARGBValueValid,null,0)},fromArgb$3:function(alpha,red,green,blue){return ExpressCraft.Color.checkByte(alpha,"alpha"),ExpressCraft.Color.checkByte(red,"red"),ExpressCraft.Color.checkByte(green,"green"),ExpressCraft.Color.checkByte(blue,"blue"),new ExpressCraft.Color.$ctor2(ExpressCraft.Color.makeArgb(alpha&255,red&255,green&255,blue&255),ExpressCraft.Color.stateARGBValueValid,null,0)},fromArgb$1:function(alpha,baseColor){return ExpressCraft.Color.checkByte(alpha,"alpha"),new ExpressCraft.Color.$ctor2(ExpressCraft.Color.makeArgb(alpha&255,baseColor.getR(),baseColor.getG(),baseColor.getB()),ExpressCraft.Color.stateARGBValueValid,null,0)},fromArgb$2:function(red,green,blue){return ExpressCraft.Color.fromArgb$3(255,red,green,blue)},isEnumValid:function(enumValue,value,minValue,maxValue){return value>=minValue&&value<=maxValue},fromKnownColor:function(color){return new ExpressCraft.Color.$ctor1(color)},fromHex:function(value){return System.String.startsWith(value,"#")?ExpressCraft.Color.fromHex(value.substr(1)):ExpressCraft.Color.fromArgb(parseInt(value))},op_Implicit$1:function(color){return color.toHex()},op_Implicit:function(hexValue){return ExpressCraft.Color.fromHex(hexValue)},op_Equality:function(left,right){return left.value.ne(right.value)||left.state!==right.state||left.knownColor!==right.knownColor?!1:Bridge.referenceEquals(left.name,right.name)||left.name!=null&&right.name!=null&&System.String.equals(left.name,right.name)},op_Inequality:function(left,right){return!ExpressCraft.Color.op_Equality(left,right)},getDefaultValue:function(){return new ExpressCraft.Color}},name:null,value:System.Int64(0),knownColor:0,state:0,$ctor1:function(knownColor){this.$initialize();this.value=System.Int64(0);this.state=ExpressCraft.Color.stateKnownColorValid;this.name=null;this.knownColor=Bridge.Int.sxs(knownColor&65535)},$ctor2:function(value,state,name,knownColor){this.$initialize();this.value=value;this.state=state;this.name=name;this.knownColor=Bridge.Int.sxs(knownColor&65535)},ctor:function(){this.$initialize()},getR:function(){return System.Int64.clipu8(this.getValue().shr(16).and(System.Int64(255)))},getG:function(){return System.Int64.clipu8(this.getValue().shr(8).and(System.Int64(255)))},getB:function(){return System.Int64.clipu8(this.getValue().and(System.Int64(255)))},getA:function(){return System.Int64.clipu8(this.getValue().shr(24).and(System.Int64(255)))},getIsKnownColor:function(){return(this.state&ExpressCraft.Color.stateKnownColorValid)>0},getIsEmpty:function(){return this.state===0},getIsNamedColor:function(){return(this.state&ExpressCraft.Color.stateNameValid)==0?this.getIsKnownColor():!0},getIsSystemColor:function(){return this.getIsKnownColor()?this.knownColor>26?this.knownColor>167:!0:!1},getNameAndARGBValue:function(){var args=System.Array.init([this.getName(),this.getA(),this.getR(),this.getG(),this.getB()],Object);return System.String.format.apply(System.String,["{{Name={0}, ARGB=({1}, {2}, {3}, {4})}}"].concat(args))},getName:function(){if((this.state&ExpressCraft.Color.stateNameValid)!=0)return this.name;if(!this.getIsKnownColor())return System.Convert.toStringInBase(this.value,16,11);var str=ExpressCraft.KnownColorTable.knownColorToName(this.knownColor);return str!=null?str:this.knownColor.toString()},getValue:function(){return(this.state&ExpressCraft.Color.stateValueMask)!=0?this.value:this.getIsKnownColor()?System.Int64(ExpressCraft.KnownColorTable.knownColorToArgb(this.knownColor)):ExpressCraft.Color.notDefinedValue},componentToHex:function(value){var x=value.toString(16);return System.String.concat(x.length===1?"0":"",x)},toHex:function(){return this.getA()!==255?System.String.format("#{0}{1}{2}{3}",this.componentToHex(this.getA()),this.componentToHex(this.getR()),this.componentToHex(this.getG()),this.componentToHex(this.getB())):System.String.format("#{0}{1}{2}",this.componentToHex(this.getR()),this.componentToHex(this.getG()),this.componentToHex(this.getB()))},getBrightness:function(){var num=this.getR()/255,num2=this.getG()/255,num3=this.getB()/255,num4=num,num5=num;return num2>num4&&(num4=num2),num3>num4&&(num4=num3),num2<num5&&(num5=num2),num3<num5&&(num5=num3),(num4+num5)/2},getHue:function(){var num6;if(this.getR()===this.getG()&&this.getG()===this.getB())return 0;var num=this.getR()/255,num2=this.getG()/255,num3=this.getB()/255,num7=0,num4=num,num5=num;return num2>num4&&(num4=num2),num3>num4&&(num4=num3),num2<num5&&(num5=num2),num3<num5&&(num5=num3),num6=num4-num5,num===num4?num7=(num2-num3)/num6:num2===num4?num7=2+(num3-num)/num6:num3===num4&&(num7=4+(num-num2)/num6),num7*=60,num7<0&&(num7+=360),num7},getSaturation:function(){var num=this.getR()/255,num2=this.getG()/255,num3=this.getB()/255,num4=num,num5=num,num6;return(num2>num4&&(num4=num2),num3>num4&&(num4=num3),num2<num5&&(num5=num2),num3<num5&&(num5=num3),num4===num5)?0:(num6=(num4+num5)/2,num6<=.5)?(num4-num5)/(num4+num5):(num4-num5)/(2-num4-num5)},toArgb:function(){return System.Int64.clip32(this.getValue())},toKnownColor:function(){return this.knownColor},toString:function(){var builder=new System.Text.StringBuilder("",32);return builder.append(Bridge.Reflection.getTypeName(Bridge.getType(this))),builder.append(" ["),(this.state&ExpressCraft.Color.stateNameValid)!=0?builder.append(this.getName()):(this.state&ExpressCraft.Color.stateKnownColorValid)!=0?builder.append(this.getName()):(this.state&ExpressCraft.Color.stateValueMask)!=0?(builder.append("A="),builder.append(this.getA()),builder.append(", R="),builder.append(this.getR()),builder.append(", G="),builder.append(this.getG()),builder.append(", B="),builder.append(this.getB())):builder.append("Empty"),builder.append("]"),builder.toString()},equals:function(obj){if(Bridge.is(obj,ExpressCraft.Color)){var color=System.Nullable.getValue(Bridge.cast(obj,ExpressCraft.Color));if(this.value.equals(color.value)&&this.state===color.state&&this.knownColor===color.knownColor)return Bridge.referenceEquals(this.name,color.name)||this.name!=null&&color.name!=null&&System.String.equals(this.name,this.name)}return!1},getHashCode:function(){return Bridge.getHashCode(this.value)^Bridge.getHashCode(this.state)^Bridge.getHashCode(this.knownColor)},$clone:function(to){var s=to||new ExpressCraft.Color;return s.name=this.name,s.value=this.value,s.knownColor=this.knownColor,s.state=this.state,s}});Bridge.define("ExpressCraft.ComboBoxTypes",{$kind:"enum",statics:{Default:0}});Bridge.define("ExpressCraft.ConsoleLogType",{$kind:"enum",statics:{Log:0,Debug:1,Error:2}});Bridge.define("ExpressCraft.ContextItem",{caption:"",onItemClick:null,beginGroup:!1,enabled:!0,ctor:function(){this.$initialize()},$ctor2:function(caption,beginGroup){beginGroup===void 0&&(beginGroup=!1);this.$initialize();this.caption=caption;this.beginGroup=beginGroup},$ctor1:function(caption,_OnItemClick,beginGroup){beginGroup===void 0&&(beginGroup=!1);this.$initialize();this.caption=caption;this.beginGroup=beginGroup;this.onItemClick=_OnItemClick}});Bridge.define("ExpressCraft.DataColumn",{fieldName:null,dataType:0,getDisplayValue$1:function(rowIndex,formatString){var obj,d,str;switch(this.dataType){default:case ExpressCraft.DataType.Object:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnObject).cells.getItem(rowIndex));case ExpressCraft.DataType.DateTime:return(obj=Bridge.cast(this,ExpressCraft.DataColumnDateTime).cells.getItem(rowIndex),obj==null)?"":Bridge.is(obj,Date)?System.String.format(formatString,Bridge.cast(obj,Date)):(d={},Bridge.Date.tryParse(obj,null,d))?System.String.format(formatString,d.v):(str=Bridge.as(obj,String),System.String.isNullOrWhiteSpace(str))?"":System.String.format(formatString,str);case ExpressCraft.DataType.String:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnString).cells.getItem(rowIndex));case ExpressCraft.DataType.Integer:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnInteger).cells.getItem(rowIndex));case ExpressCraft.DataType.Long:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnLong).cells.getItem(rowIndex));case ExpressCraft.DataType.Float:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnFloat).cells.getItem(rowIndex));case ExpressCraft.DataType.Double:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnDouble).cells.getItem(rowIndex));case ExpressCraft.DataType.Decimal:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnDecimal).cells.getItem(rowIndex));case ExpressCraft.DataType.Byte:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnByte).cells.getItem(rowIndex));case ExpressCraft.DataType.Short:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnShort).cells.getItem(rowIndex));case ExpressCraft.DataType.Bool:return System.String.format(formatString,Bridge.cast(this,ExpressCraft.DataColumnBool).cells.getItem(rowIndex))}},getDisplayValue:function(rowIndex){switch(this.dataType){default:case ExpressCraft.DataType.Object:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnObject).cells.getItem(rowIndex));case ExpressCraft.DataType.DateTime:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnDateTime).cells.getItem(rowIndex));case ExpressCraft.DataType.String:return Bridge.cast(this,ExpressCraft.DataColumnString).cells.getItem(rowIndex);case ExpressCraft.DataType.Integer:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnInteger).cells.getItem(rowIndex));case ExpressCraft.DataType.Long:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnLong).cells.getItem(rowIndex));case ExpressCraft.DataType.Float:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnFloat).cells.getItem(rowIndex));case ExpressCraft.DataType.Double:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnDouble).cells.getItem(rowIndex));case ExpressCraft.DataType.Decimal:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnDecimal).cells.getItem(rowIndex));case ExpressCraft.DataType.Byte:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnByte).cells.getItem(rowIndex));case ExpressCraft.DataType.Bool:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnBool).cells.getItem(rowIndex));case ExpressCraft.DataType.Short:return System.Convert.toString(Bridge.cast(this,ExpressCraft.DataColumnShort).cells.getItem(rowIndex))}},getCellValue:function(rowIndex){switch(this.dataType){default:case ExpressCraft.DataType.Object:return Bridge.cast(this,ExpressCraft.DataColumnObject).cells.getItem(rowIndex);case ExpressCraft.DataType.DateTime:return Bridge.cast(this,ExpressCraft.DataColumnDateTime).cells.getItem(rowIndex);case ExpressCraft.DataType.String:return Bridge.cast(this,ExpressCraft.DataColumnString).cells.getItem(rowIndex);case ExpressCraft.DataType.Integer:return Bridge.cast(this,ExpressCraft.DataColumnInteger).cells.getItem(rowIndex);case ExpressCraft.DataType.Long:return Bridge.cast(this,ExpressCraft.DataColumnLong).cells.getItem(rowIndex);case ExpressCraft.DataType.Float:return Bridge.cast(this,ExpressCraft.DataColumnFloat).cells.getItem(rowIndex);case ExpressCraft.DataType.Double:return Bridge.cast(this,ExpressCraft.DataColumnDouble).cells.getItem(rowIndex);case ExpressCraft.DataType.Decimal:return Bridge.cast(this,ExpressCraft.DataColumnDecimal).cells.getItem(rowIndex);case ExpressCraft.DataType.Byte:return Bridge.cast(this,ExpressCraft.DataColumnByte).cells.getItem(rowIndex);case ExpressCraft.DataType.Bool:return Bridge.cast(this,ExpressCraft.DataColumnBool).cells.getItem(rowIndex);case ExpressCraft.DataType.Short:return Bridge.cast(this,ExpressCraft.DataColumnShort).cells.getItem(rowIndex)}}});Bridge.define("ExpressCraft.DataItem",{text:null,value:null,$ctor1:function(text,value){this.$initialize();this.text=text;this.value=value},ctor:function(text){this.$initialize();this.text=text;this.value=text}});Bridge.define("ExpressCraft.DataRow",{parentTable:null,rowIndex:-1,batchData:null,ctor:function(){this.$initialize()},$ctor2:function(columnLength){this.$initialize();this.parentTable=null;this.rowIndex=-1;this.batchData=System.Array.init(columnLength,null,Object)},$ctor1:function(parentTable,rowIndex){rowIndex===void 0&&(rowIndex=-1);this.$initialize();this.parentTable=parentTable;this.rowIndex=rowIndex;rowIndex===-1&&(this.batchData=System.Array.init(parentTable.getColumnCount(),null,Object))},getItem:function(columnIndex){if(this.rowIndex===-1)return this.batchData[columnIndex];var col=this.parentTable.columns.getItem(columnIndex);return col.cells.items[this.rowIndex]},setItem:function(columnIndex,value){if(this.rowIndex===-1){Bridge.referenceEquals(this.batchData[columnIndex],value)||(this.batchData[columnIndex]=value,this.parentTable.requireOnDataChangeEvent());return}var col=this.parentTable.columns.getItem(columnIndex);Bridge.referenceEquals(col.cells.items[this.rowIndex],value)||(col.cells.items[this.rowIndex]=value,this.parentTable.requireOnDataChangeEvent())},getOfflineDataRow:function(){for(var dr=new ExpressCraft.DataRow.$ctor2(this.parentTable.getColumnCount()),data=System.Array.init(this.parentTable.getColumnCount(),null,Object),i=0;i<this.parentTable.getColumnCount();i=i+1|0)data[i]=this.getItem(i);return dr.batchData=data,dr}});Bridge.define("ExpressCraft.DataTable",{columns:null,_inDataChange:!1,_requestedOnDataChange:!1,_ColCount:0,_RowCount:0,newRows:null,config:{events:{OnDataSourceChanged:null},init:function(){this.columns=new(System.Collections.Generic.List$1(ExpressCraft.DataColumn));this.newRows=new(System.Collections.Generic.List$1(ExpressCraft.DataRow))}},getColumnCount:function(){return this._ColCount},getRowCount:function(){return this._RowCount},getItem:function(rowIndex){return new ExpressCraft.DataRow.$ctor1(this,rowIndex)},requireOnDataChangeEvent:function(){this._inDataChange?this._requestedOnDataChange=!0:(this._requestedOnDataChange=!1,Bridge.staticEquals(this.OnDataSourceChanged,null)||this.OnDataSourceChanged(this,null))},clearRows:function(){this._RowCount=0;for(var i=0;i<this.columns.getCount();i=i+1|0)this.clearCells(this.columns.getItem(i))},clearCells$1:function(T,_column){var _col=_column;_col.cells=new(System.Collections.Generic.List$1(T))},clearCells:function(_column){switch(_column.dataType){default:case ExpressCraft.DataType.Object:this.clearCells$1(Object,_column);break;case ExpressCraft.DataType.DateTime:this.clearCells$1(System.Nullable$1(Date),_column);break;case ExpressCraft.DataType.String:this.clearCells$1(String,_column);break;case ExpressCraft.DataType.Integer:this.clearCells$1(System.Nullable$1(System.Int32),_column);break;case ExpressCraft.DataType.Long:this.clearCells$1(System.Nullable$1(System.Int64),_column);break;case ExpressCraft.DataType.Float:this.clearCells$1(System.Nullable$1(System.Single),_column);break;case ExpressCraft.DataType.Double:this.clearCells$1(System.Nullable$1(System.Double),_column);break;case ExpressCraft.DataType.Decimal:this.clearCells$1(System.Nullable$1(System.Decimal),_column);break;case ExpressCraft.DataType.Bool:this.clearCells$1(System.Nullable$1(Boolean),_column);break;case ExpressCraft.DataType.Byte:this.clearCells$1(System.Nullable$1(System.Byte),_column);break;case ExpressCraft.DataType.Short:this.clearCells$1(System.Nullable$1(System.Int16),_column)}this.requireOnDataChangeEvent()},getColumnByDataType:function(type){type===void 0&&(type=0);switch(type){default:case ExpressCraft.DataType.Object:return new ExpressCraft.DataColumnObject;case ExpressCraft.DataType.DateTime:return new ExpressCraft.DataColumnDateTime;case ExpressCraft.DataType.String:return new ExpressCraft.DataColumnString;case ExpressCraft.DataType.Integer:return new ExpressCraft.DataColumnInteger;case ExpressCraft.DataType.Long:return new ExpressCraft.DataColumnLong;case ExpressCraft.DataType.Float:return new ExpressCraft.DataColumnFloat;case ExpressCraft.DataType.Double:return new ExpressCraft.DataColumnDouble;case ExpressCraft.DataType.Decimal:return new ExpressCraft.DataColumnDecimal;case ExpressCraft.DataType.Bool:return new ExpressCraft.DataColumnBool;case ExpressCraft.DataType.Byte:return new ExpressCraft.DataColumnByte;case ExpressCraft.DataType.Short:return new ExpressCraft.DataColumnShort}},addColumn:function(fieldName,type){type===void 0&&(type=0);var col=this.getColumnByDataType(type);col.fieldName=fieldName;this.columns.add(col);this._ColCount=this.columns.getCount();this.requireOnDataChangeEvent()},beginNewRow:function(EstimatedNewRows){this.newRows=new(System.Collections.Generic.List$1(ExpressCraft.DataRow))(EstimatedNewRows);this.beginDataUpdate()},addRow:function(){for(var col,dr=new ExpressCraft.DataRow.$ctor1(this,Bridge.identity(this._RowCount,this._RowCount=this._RowCount+1|0)),colLength=this.columns.getCount(),x=0;x<colLength;x=x+1|0)col=this.columns.getItem(x),col.cells.add(null);return this.requireOnDataChangeEvent(),dr},addRow$1:function(row){var colLength,x,col;if(row===void 0&&(row=[]),row.length===this.getColumnCount()){for(this._RowCount=this._RowCount+1|0,colLength=this.columns.getCount(),x=0;x<colLength;x=x+1|0)col=this.columns.getItem(x),col.cells.add(row[x]);this.requireOnDataChangeEvent()}},newRow:function(){var dr=new ExpressCraft.DataRow.$ctor1(this);return this.newRows.add(dr),dr},acceptNewRows:function(){var x,col,DataCells,y,y1,y2;if(this.newRows!=null&&this.newRows.getCount()!==0){var colLength=this.columns.getCount(),rowLength=this.newRows.getCount(),colN1=colLength-1|0;for(x=0;x<colLength;x=x+1|0){if(col=this.columns.getItem(x),DataCells=System.Array.init(rowLength,null,Object),x===0)for(y=0;y<rowLength;y=y+1|0)this.newRows.getItem(y).rowIndex=Bridge.identity(this._RowCount,this._RowCount=this._RowCount+1|0),DataCells[y]=this.newRows.getItem(y).batchData[x];else if(x===colN1)for(y1=0;y1<rowLength;y1=y1+1|0)DataCells[y1]=this.newRows.getItem(y1).batchData[x],this.newRows.getItem(y1).batchData=null;else for(y2=0;y2<rowLength;y2=y2+1|0)DataCells[y2]=this.newRows.getItem(y2).batchData[x];col.cells.addRange(DataCells)}this.newRows.clear();this.endDataUpdate()}},beginDataUpdate:function(){this._inDataChange=!0;this._requestedOnDataChange=!1},endDataUpdate:function(){this._inDataChange=!1;this._requestedOnDataChange&&(this._requestedOnDataChange=!1,Bridge.staticEquals(this.OnDataSourceChanged,null)||this.OnDataSourceChanged(this,null))},rejectNewRows:function(){this.newRows.clear();this._inDataChange=!1}});Bridge.define("ExpressCraft.DataType",{$kind:"enum",statics:{Object:0,DateTime:1,String:2,Integer:3,Long:4,Float:5,Double:6,Decimal:7,Bool:8,Byte:9,Short:10}});Bridge.define("ExpressCraft.DialogResult",{resultEnum:0,callBack:null,ctor:function(resultEnum,callBack){this.$initialize();this.resultEnum=resultEnum;this.callBack=callBack},invokeIfResult:function(resultEnum){resultEnum!==this.resultEnum||Bridge.staticEquals(this.callBack,null)||this.callBack()}});Bridge.define("ExpressCraft.DialogResultEnum",{$kind:"enum",statics:{None:0,OK:1,Cancel:2,Abort:3,Retry:4,Ignore:5,Yes:6,No:7}});Bridge.define("ExpressCraft.ExternalPlugin",{sourceUrl:null,setupCompleted:!1,inLoad:!1,onReady:null,ctor:function(sourceUrl){this.$initialize();this.sourceUrl=sourceUrl},setup:function(){if(!this.setupCompleted){if(this.inLoad)return;this.inLoad=!0;document.head.appendChild(Bridge.merge(document.createElement("script"),{onload:Bridge.fn.bind(this,$asm.$.ExpressCraft.ExternalPlugin.f1),src:this.sourceUrl}))}},usageCheck:function(){if(!this.setupCompleted)throw new System.Exception(System.String.concat("'",this.sourceUrl,"' requires to be setup!"));if(this.inLoad)throw new System.Exception(System.String.concat("'",this.sourceUrl,"' is currently loading, Please try again in a few seconds!"));}});Bridge.ns("ExpressCraft.ExternalPlugin",$asm.$);Bridge.apply($asm.$.ExpressCraft.ExternalPlugin,{f1:function(){this.setupCompleted=!0;this.inLoad=!1;Bridge.staticEquals(this.onReady,null)||this.onReady()}});Bridge.define("ExpressCraft.Firebase",{statics:{externalFireBase:null,displayName:null,photoURL:null,userSignedIn:!1,config:{init:function(){this.externalFireBase=new ExpressCraft.ExternalPlugin("https://www.gstatic.com/firebasejs/3.6.8/firebase.js")}},setup:function(OnReady){OnReady===void 0&&(OnReady=null);ExpressCraft.Firebase.externalFireBase.onReady=OnReady;ExpressCraft.Firebase.externalFireBase.setup()},initializeApp:function(ApiKey,AuthDomain,DatabaseURL,ProjectId,StorageBucket,MessagingSenderId){if(ExpressCraft.Firebase.externalFireBase.usageCheck(),System.String.isNullOrWhiteSpace(ApiKey))throw new System.Exception(System.String.format("Invalid Firebase {0} !","ApiKey"));if(System.String.isNullOrWhiteSpace(AuthDomain))throw new System.Exception(System.String.format("Invalid Firebase {0}!","AuthDomain"));if(System.String.isNullOrWhiteSpace(DatabaseURL))throw new System.Exception(System.String.format("Invalid Firebase {0}!","DatabaseURL"));if(System.String.isNullOrWhiteSpace(ProjectId))throw new System.Exception(System.String.format("Invalid Firebase {0}!","ProjectId"));if(System.String.isNullOrWhiteSpace(StorageBucket))throw new System.Exception(System.String.format("Invalid Firebase {0}!","StorageBucket"));if(System.String.isNullOrWhiteSpace(MessagingSenderId))throw new System.Exception(System.String.format("Invalid Firebase {0}!","MessagingSenderId"));firebase.initializeApp({apiKey:ApiKey,authDomain:AuthDomain,databaseURL:DatabaseURL,projectId:ProjectId,storageBucket:StorageBucket,messagingSenderId:MessagingSenderId});firebase.auth().onAuthStateChanged(function(user){user?(this.UserSignedIn=!0,this.DisplayName=user.displayName,this.PhotoURL=user.photoURL):this.UserSignedIn=!1})},signIn:function(){firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider)},signOut:function(){firebase.auth().signOut()},databaseRef:function(name){var dataRef=firebase.database().ref(name);return dataRef.off(),dataRef},isSignedInWithFirebase:function(){return}}});Bridge.define("ExpressCraft.FixedSplitterPosition",{$kind:"enum",statics:{Panel1:0,Panel2:1,None:2}});Bridge.define("ExpressCraft.FormButtonType",{$kind:"enum",statics:{Close:0,Maximize:1,Minimize:2,Restore:3,Help:4}});Bridge.define("ExpressCraft.FormCollection",{formOwner:null,visibleForms:null,config:{init:function(){this.visibleForms=new(System.Collections.Generic.List$1(ExpressCraft.Form))}},ctor:function(formOwner){this.$initialize();this.formOwner=formOwner}});Bridge.define("ExpressCraft.FormStartPosition",{$kind:"enum",statics:{Manual:0,Center:1,WindowsDefaultLocation:2}});Bridge.define("ExpressCraft.GoogleCloudPrint",{statics:{externalGoogleCloudPrint:null,config:{init:function(){this.externalGoogleCloudPrint=new ExpressCraft.ExternalPlugin("https://www.google.com/cloudprint/client/cpgadget.js")}},setup:function(){ExpressCraft.GoogleCloudPrint.externalGoogleCloudPrint.setup()}},_source:null,_mimetype:null,_encoding:"",_title:null,_gadget:null,ctor:function(source,title,gcpmt,encoding){title===void 0&&(title="");gcpmt===void 0&&(gcpmt=0);encoding===void 0&&(encoding="");this.$initialize();Object.call(this);this._title=title;this._source=source;this._encoding=encoding;this._mimetype=System.String.replaceAll(System.Enum.format(ExpressCraft.GoogleCloudPrintingMimeType,gcpmt,"G").toLowerCase(),"_",".")},show:function(){ExpressCraft.GoogleCloudPrint.externalGoogleCloudPrint.usageCheck();this._gadget=new cloudprint.Gadget;System.String.isNullOrWhiteSpace(this._encoding)?this._gadget.setPrintDocument(this._mimetype,this._title,this._source):this._gadget.setPrintDocument(this._mimetype,this._title,this._source,this._encoding);this._gadget.openPrintDialog();this._gadget.setOnCloseCallback(this.clearContent)},clearContent:function(){try{ExpressCraft.Helper.delete($(".__gcp_dialog_container_cls").parent().get(0))}catch($e1){$e1=System.Exception.create($e1)}},close:function(){this._gadget!=null&&(this._gadget.closePrintDialog(),this._gadget=null)}});Bridge.define("ExpressCraft.GoogleCloudPrintingMimeType",{$kind:"enum",statics:{Url:0,DataUrl:1,Google_Drawing:2,Google_Drive:3,Google_Kix:4,Google_Mail:5,Google_Presentation:6,Google_Spreadsheet:7}});Bridge.define("ExpressCraft.GridViewCellApparence",{isBold:!1,alignment:"left",forecolor:null,ctor:function(){this.$initialize()},$ctor1:function(isBold){this.$initialize();this.isBold=isBold},$ctor2:function(isBold,alignment){this.$initialize();this.isBold=isBold;this.alignment=alignment},$ctor3:function(isBold,alignment,forecolor){this.$initialize();this.isBold=isBold;this.alignment=alignment;this.forecolor=forecolor}});Bridge.define("ExpressCraft.GridViewCellDisplay",{useDefaultElement:!1,onCreate:function(){return null},onCreateDefault:function(originalElement){return originalElement}});Bridge.define("ExpressCraft.GridViewColumn",{column:null,view:null,caption:null,visible:!1,cachedX:0,formatString:"",headingApparence:null,bodyApparence:null,cellDisplay:null,sortedMode:0,filterEdit:null,filterValue:null,allowEdit:!0,readOnly:!1,_width:0,config:{init:function(){this.headingApparence=new ExpressCraft.GridViewCellApparence.ctor;this.bodyApparence=new ExpressCraft.GridViewCellApparence.ctor}},ctor:function(view,width){width===void 0&&(width=100);this.$initialize();this.view=view;this._width=width},getFilterValue:function(){return this.filterValue},setFilterValue:function(value){Bridge.referenceEquals(this.filterValue,value)||(this.filterValue=value,this.view.getShowAutoFilterRow()&&this.view.calculateVisibleRows())},getWidth:function(){return this._width},setWidth:function(value){value<24&&(value=24);this._width!==value&&(this._width=value,this.view.renderGrid())},valueMatchFilter:function(index){if(this.filterValue==null)return!0;var abc=this.getDisplayValueByDataRowHandle(index);switch(this.column.dataType){default:case ExpressCraft.DataType.Object:case ExpressCraft.DataType.Integer:case ExpressCraft.DataType.Long:case ExpressCraft.DataType.Float:case ExpressCraft.DataType.Double:case ExpressCraft.DataType.Decimal:case ExpressCraft.DataType.Bool:case ExpressCraft.DataType.Byte:case ExpressCraft.DataType.Short:return Bridge.referenceEquals(abc,this.filterValue);case ExpressCraft.DataType.DateTime:case ExpressCraft.DataType.String:return System.String.startsWith(System.String.concat(abc,""),System.String.concat(this.filterValue,""))}},getDataColumnIndex:function(){for(var length=this.view.getDataSource().getColumnCount(),i=0;i<length;i=i+1|0)if(Bridge.referenceEquals(this.view.getDataSource().columns.getItem(i),this.column))return i;return-1},getDisplayValueByDataRowHandle:function(RowHandle){return System.String.isNullOrWhiteSpace(this.formatString)?this.column.getDisplayValue(RowHandle):this.column.getDisplayValue$1(RowHandle,this.formatString)},getDisplayValue:function(RowHandle){return this.view.visibleRowHandles!=null&&(RowHandle=this.view.visibleRowHandles.getItem(RowHandle)),System.String.isNullOrWhiteSpace(this.formatString)?this.column.getDisplayValue(RowHandle):this.column.getDisplayValue$1(RowHandle,this.formatString)}});Bridge.define("ExpressCraft.GridViewSortMode",{$kind:"enum",statics:{None:0,Asc:1,Desc:2}});Bridge.define("ExpressCraft.HardSoftList$1",function(T){return{hardList:null,softList:null,hardHardList:null,limit:0,hardLength:0,defaultValue:Bridge.getDefaultValue(T),config:{init:function(){this.hardList=new(System.Collections.Generic.List$1(ExpressCraft.IndexValue$1(T)));this.softList=new(System.Collections.Generic.List$1(System.Int32));this.hardHardList=new(System.Collections.Generic.List$1(T))}},ctor:function(defaultValue,limit){limit===void 0&&(limit=1e4);this.$initialize();this.defaultValue=defaultValue;this.limit=limit},getIndexValueByHardListIndex:function(index){return this.hardList.getItem(index)},clearAll:function(){this.hardHardList=new(System.Collections.Generic.List$1(T));this.hardList=new(System.Collections.Generic.List$1(ExpressCraft.IndexValue$1(T)));this.softList=new(System.Collections.Generic.List$1(System.Int32));this.hardLength=0},clearAllSetHardRange:function(value,Indexs){var max,i,length,i1,i2,i3,i4;if(Indexs===void 0&&(Indexs=[]),this.hardLength=0,Indexs==null||Indexs.length===0)this.clearAll();else if(Indexs.length>this.limit){for(this.hardLength=Indexs.length,this.hardList=new(System.Collections.Generic.List$1(ExpressCraft.IndexValue$1(T))),this.softList=new(System.Collections.Generic.List$1(System.Int32)),max=0,i=0;i<this.hardLength;i=i+1|0)Indexs[i]>max&&(max=Indexs[i]);if(length=max+1|0,this.hardHardList=new(System.Collections.Generic.List$1(T))(length),length===Indexs.length)for(i1=0;i1<this.hardLength;i1=i1+1|0)this.hardHardList.add(value);else{for(i2=0;i2<length;i2=i2+1|0)this.hardHardList.add(this.defaultValue);for(i3=0;i3<this.hardLength;i3=i3+1|0)this.hardHardList.setItem(Indexs[i3],value)}}else{for(this.hardHardList=new(System.Collections.Generic.List$1(T)),this.hardLength=Indexs.length,this.hardList=new(System.Collections.Generic.List$1(ExpressCraft.IndexValue$1(T)))(this.hardLength),i4=0;i4<this.hardLength;i4=i4+1|0)this.hardList.add(new(ExpressCraft.IndexValue$1(T))(Indexs[i4],value));this.softList=new(System.Collections.Generic.List$1(System.Int32))}},clearSoftList:function(){this.softList=new(System.Collections.Generic.List$1(System.Int32))},clearAndAddOrSet:function(value,index,AddToSoftList){AddToSoftList===void 0&&(AddToSoftList=!1);this.hardHardList=new(System.Collections.Generic.List$1(T));this.hardList=new(System.Collections.Generic.List$1(ExpressCraft.IndexValue$1(T)));this.softList=new(System.Collections.Generic.List$1(System.Int32));this.hardLength=0;this.addOrSet(value,index,AddToSoftList)},getHardOrSoftIndexValue:function(index,AddToSoftList){var length,i,slI,i1,hli;for(AddToSoftList===void 0&&(AddToSoftList=!1),length=this.softList.getCount(),i=0;i<length;i=i+1|0)if(slI=this.softList.getItem(i),this.hardList.getItem(slI).index===index)return this.hardList.getItem(slI);for(length=this.hardList.getCount(),i1=0;i1<length;i1=i1+1|0)if(hli=this.hardList.getItem(i1),hli.index===index)return AddToSoftList&&this.softList.add(i1),hli;return null},getHardIndexValue:function(index){for(var hli,length=this.hardList.getCount(),i=0;i<length;i=i+1|0)if(hli=this.hardList.getItem(i),hli.index===index.v)return index.v=i,hli;return index.v=length,null},getValue:function(index,AddToSoftList){if(AddToSoftList===void 0&&(AddToSoftList=!1),this.hardLength>this.limit)return this.hardHardList.getItem(index);var hiv=this.getHardOrSoftIndexValue(index,AddToSoftList);return hiv==null?this.defaultValue:hiv.value},getIndex:function(index){if(this.hardLength>this.limit)return index;var hiv=this.getHardOrSoftIndexValue(index);return hiv==null?-1:hiv.index},addOrSet:function(value,index,AddToSoftList){var addDiff,data,i,length,i1,hli,hindex,hiv;if(AddToSoftList===void 0&&(AddToSoftList=!1),this.hardLength>this.limit){if(index>=this.hardLength){if(addDiff=(index+1|0)-this.hardHardList.getCount()|0,addDiff>0){for(data=System.Array.init(addDiff,function(){return Bridge.getDefaultValue(T)},T),i=0;i<addDiff;i=i+1|0)data[i]=this.defaultValue;this.hardHardList.addRange(data)}this.hardHardList.add(value);this.hardLength=this.hardHardList.getCount()}else this.hardHardList.setItem(index,value);return}for(length=this.softList.getCount(),i1=0;i1<length;i1=i1+1|0)if(hli=this.hardList.getItem(this.softList.getItem(i1)),hli.index===index){hli.value=value;return}hindex={v:index};hiv=this.getHardIndexValue(hindex);hiv==null?this.hardList.add(hiv=new(ExpressCraft.IndexValue$1(T))(index,value)):hiv.value=value;AddToSoftList&&this.softList.add(hindex.v)},remove:function(index,OnlySoftList){var i,Length,i1,sli,length,i2,hli;if(OnlySoftList===void 0&&(OnlySoftList=!1),this.hardLength>this.limit)if((this.hardLength-1|0)>this.limit)this.hardHardList.setItem(index,this.defaultValue);else{for(i=0;i<this.hardLength;i=i+1|0)i===index||Bridge.equals(this.hardHardList.getItem(i),this.defaultValue)||this.hardList.add(new(ExpressCraft.IndexValue$1(T))(i,this.hardHardList.getItem(i)));this.hardLength=this.hardLength-1|0}else{for(Length=this.softList.getCount(),i1=0;i1<Length;i1=i1+1|0)if(sli=this.softList.getItem(i1),this.hardList.getItem(sli).index===index){if(this.softList.removeAt(i1),OnlySoftList)return;this.hardList.removeAt(sli);return}for(length=this.hardList.getCount(),i2=0;i2<length;i2=i2+1|0)if(hli=this.hardList.getItem(i2),hli.index===index){this.hardList.removeAt(i2);return}}}}});Bridge.define("ExpressCraft.Helper",{statics:{isTrue:function(value){return Bridge.referenceEquals(value=value.toLowerCase(),"true")||Bridge.referenceEquals(value,"1")||Bridge.referenceEquals(value,"on")?1:0},isNumber:function(value){return Bridge.is(value,System.SByte)||Bridge.is(value,System.Byte)||Bridge.is(value,System.Int16)||Bridge.is(value,System.UInt16)||Bridge.is(value,System.Int32)||Bridge.is(value,System.UInt32)||Bridge.is(value,System.Int64)||Bridge.is(value,System.UInt64)||Bridge.is(value,System.Single)||Bridge.is(value,System.Double)||Bridge.is(value,System.Decimal)},empty:function(element){for(var len=element.childNodes.length;len--;)element.removeChild(element.lastChild)},getClientMouseLocation:function(e){var x=0,y=0,e;return e||(e=window.event),e.pageX||e.pageY?(x=e.pageX,y=e.pageY):(e.clientX||e.clientY)&&(x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),new ExpressCraft.Vector2.$ctor1(x,y)},setChecked$1:function(input,value){ExpressCraft.Helper.setChecked(input.content,value)},setChecked:function(input,value){var check=!1,strValue;value!=null&&(Bridge.is(value,Boolean)||ExpressCraft.Helper.isNumber(value)?check=System.Nullable.getValue(Bridge.cast(value,Boolean)):Bridge.is(value,String)&&(strValue=Bridge.cast(value,String),check=Bridge.referenceEquals(strValue,"1")||System.String.compare(strValue.toLowerCase(),"true")===0));check?input.setAttribute(ExpressCraft.GridViewCellDisplayCheckBox.resource_checked,null):input.removeAttribute(ExpressCraft.GridViewCellDisplayCheckBox.resource_checked)},"delete":function(c){$(c).remove()},toPx$2:function(i){return i+"px"},toPx$1:function(i){return i+"px"},toPx:function(i){return i+"px"},log:function(jso){console.log(jso)},appendChildren:function(c,Nodes){if(Nodes===void 0&&(Nodes=[]),Nodes!=null&&Nodes.length>0)for(var i=0;i<Nodes.length;i=i+1|0)c.appendChild(Nodes[i])},appendChildren$2:function(c,Nodes){Nodes===void 0&&(Nodes=[]);ExpressCraft.Helper.appendChildren$1(c.content,Nodes)},appendChildren$1:function(c,Nodes){if(Nodes===void 0&&(Nodes=[]),Nodes!=null&&Nodes.length>0)for(var i=0;i<Nodes.length;i=i+1|0)c.appendChild(ExpressCraft.Control.op_Implicit(Nodes[i]))},appendChildrenTabIndex:function(c,Nodes){if(Nodes===void 0&&(Nodes=[]),Nodes!=null&&Nodes.length>0)for(var i=0;i<Nodes.length;i=i+1|0)Nodes[i].content.tabIndex=i,c.appendChild(ExpressCraft.Control.op_Implicit(Nodes[i]))},appendChildrenTabIndex$1:function(c,Nodes){Nodes===void 0&&(Nodes=[]);ExpressCraft.Helper.appendChildrenTabIndex(c.content,Nodes)},appendChild:function(c,Node){c.content.appendChild(ExpressCraft.Control.op_Implicit(Node))},setBounds$1:function(c,left,top,width,height){ExpressCraft.Helper.setBounds(c.content,left,top,width,height)},setBounds:function(c,left,top,width,height){c.style.left=ExpressCraft.Helper.toHtmlValue(left);c.style.top=ExpressCraft.Helper.toHtmlValue(top);c.style.width=ExpressCraft.Helper.toHtmlValue(width);c.style.height=ExpressCraft.Helper.toHtmlValue(height)},setBoundsFull$1:function(c){ExpressCraft.Helper.setBoundsFull(c.content)},setBoundsFull:function(c){ExpressCraft.Helper.setBounds(c,0,0,"100%","100%")},setSize$1:function(c,width,height){ExpressCraft.Helper.setSize(c.content,width,height)},setSize:function(c,width,height){c.style.width=ExpressCraft.Helper.toHtmlValue(width);c.style.height=ExpressCraft.Helper.toHtmlValue(height)},toHtmlValue:function(value){return Bridge.is(value,String)?value:Bridge.is(value,System.Int32)?ExpressCraft.Helper.toPx$1(value):ExpressCraft.Helper.toPx$2(value)},setImage$1:function(c,str,useURL){useURL===void 0&&(useURL=!0);System.String.startsWith(str,"url(")||(str=useURL?ExpressCraft.Control.getImageStringURI(str):ExpressCraft.Control.getImageString(str));ExpressCraft.Helper.setImage(c.content,str,useURL)},setImage:function(c,str,useURL){if(useURL===void 0&&(useURL=!0),System.String.isNullOrWhiteSpace(str)){c.style.background="";c.style.backgroundSize="";return}System.String.startsWith(str,"url(")||(str=useURL?ExpressCraft.Control.getImageStringURI(str):ExpressCraft.Control.getImageString(str));c.style.background=str;c.style.backgroundSize="100% 100%"},setLocation$2:function(c,left,top){ExpressCraft.Helper.setLocation(c.content,ExpressCraft.Helper.toPx$1(left),ExpressCraft.Helper.toPx$1(top))},setLocation$1:function(c,left,top){ExpressCraft.Helper.setLocation(c.content,left,top)},setLocation:function(c,left,top){c.style.left=ExpressCraft.Helper.toHtmlValue(left);c.style.top=ExpressCraft.Helper.toHtmlValue(top)},htmlEscape:function(obj){return ExpressCraft.Helper.htmlEscape$1(Bridge.as(obj,String))},htmlEscape$1:function(input){return System.String.isNullOrEmpty(input)?"":System.String.replaceAll(System.String.replaceAll(ExpressCraft.Helper.htmlUrlEscape(input),"\\/","&#x2F"),'"',"&quot")},htmlUrlUnescape:function(input){return System.String.isNullOrEmpty(input)?"":System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(input,"&amp","&"),"&lt","<"),"&gt",">"),"&#x27","'")},htmlUrlEscape:function(input){return System.String.isNullOrEmpty(input)?"":System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(System.String.replaceAll(input,"&","&amp"),"<","&lt"),">","&gt"),"'","&#x27")},htmlUnescape:function(input){return System.String.isNullOrEmpty(input)?"":System.String.replaceAll(System.String.replaceAll(ExpressCraft.Helper.htmlUrlUnescape(input),"&#x2F","\\/"),"&quot",'"')},getBoundInteger:function(control,x,y,w,h){if(control==null||control.content==null){x.v=0;y.v=0;w.v=0;h.v=0;return}x.v=parseInt(control.content.style.left);y.v=parseInt(control.content.style.top);w.v=parseInt(control.content.style.width);h.v=parseInt(control.content.style.height)},exchangeClass$1:function(control,oldClass,newClass){ExpressCraft.Helper.exchangeClass(control.content,oldClass,newClass)},exchangeClass:function(control,oldClass,newClass){control.classList.contains(oldClass)&&control.classList.remove(oldClass);control.classList.contains(newClass)||control.classList.add(newClass)}}});Bridge.define("ExpressCraft.Helper.DataTableJson",{statics:{fromExternal:function(o){var sw=System.Diagnostics.Stopwatch.startNew(),obj=Bridge.merge(Bridge.createInstance(ExpressCraft.Helper.DataTableJson),o);return sw.stop(),Bridge.Console.log("FromExternal: "+sw.milliseconds()),obj},parse:function(o){for(var i1,dr,dt=new ExpressCraft.DataTable,length=o.fieldNames.length,i=0;i<length;i=i+1|0)dt.addColumn(o.fieldNames[i],o.dataTypes[i]);if(o.rows!=null){for(length=o.rows.length,dt.beginNewRow(length),i1=0;i1<length;i1=i1+1|0)dr=dt.newRow(),dr.batchData=o.rows[i1];dt.acceptNewRows()}return dt}},fieldNames:null,rows:null,dataTypes:null,toTable:function(){for(var i1,dr,sw=System.Diagnostics.Stopwatch.startNew(),dt=new ExpressCraft.DataTable,i=0;i<this.fieldNames.length;i=i+1|0)dt.addColumn(this.fieldNames[i],this.dataTypes[i]);if(this.rows!=null){for(dt.beginNewRow(this.rows.length),i1=0;i1<this.rows.length;i1=i1+1|0)dr=dt.newRow(),dr.batchData=this.rows[i1];dt.acceptNewRows()}return sw.stop(),Bridge.Console.log("ToTable: "+sw.milliseconds()),dt}});Bridge.define("ExpressCraft.IndexValue$1",function(T){return{index:0,value:Bridge.getDefaultValue(T),ctor:function(index,value){this.$initialize();this.index=index;this.value=value}}});Bridge.define("ExpressCraft.KnownColor",{$kind:"enum",statics:{ActiveBorder:1,ActiveCaption:2,ActiveCaptionText:3,AliceBlue:28,AntiqueWhite:29,AppWorkspace:4,Aqua:30,Aquamarine:31,Azure:32,Beige:33,Bisque:34,Black:35,BlanchedAlmond:36,Blue:37,BlueViolet:38,Brown:39,BurlyWood:40,ButtonFace:168,ButtonHighlight:169,ButtonShadow:170,CadetBlue:41,Chartreuse:42,Chocolate:43,Control:5,ControlDark:6,ControlDarkDark:7,ControlLight:8,ControlLightLight:9,ControlText:10,Coral:44,CornflowerBlue:45,Cornsilk:46,Crimson:47,Cyan:48,DarkBlue:49,DarkCyan:50,DarkGoldenrod:51,DarkGray:52,DarkGreen:53,DarkKhaki:54,DarkMagenta:55,DarkOliveGreen:56,DarkOrange:57,DarkOrchid:58,DarkRed:59,DarkSalmon:60,DarkSeaGreen:61,DarkSlateBlue:62,DarkSlateGray:63,DarkTurquoise:64,DarkViolet:65,DeepPink:66,DeepSkyBlue:67,Desktop:11,DimGray:68,DodgerBlue:69,Firebrick:70,FloralWhite:71,ForestGreen:72,Fuchsia:73,Gainsboro:74,GhostWhite:75,Gold:76,Goldenrod:77,GradientActiveCaption:171,GradientInactiveCaption:172,Gray:78,GrayText:12,Green:79,GreenYellow:80,Highlight:13,HighlightText:14,Honeydew:81,HotPink:82,HotTrack:15,InactiveBorder:16,InactiveCaption:17,InactiveCaptionText:18,IndianRed:83,Indigo:84,Info:19,InfoText:20,Ivory:85,Khaki:86,Lavender:87,LavenderBlush:88,LawnGreen:89,LemonChiffon:90,LightBlue:91,LightCoral:92,LightCyan:93,LightGoldenrodYellow:94,LightGray:95,LightGreen:96,LightPink:97,LightSalmon:98,LightSeaGreen:99,LightSkyBlue:100,LightSlateGray:101,LightSteelBlue:102,LightYellow:103,Lime:104,LimeGreen:105,Linen:106,Magenta:107,Maroon:108,MediumAquamarine:109,MediumBlue:110,MediumOrchid:111,MediumPurple:112,MediumSeaGreen:113,MediumSlateBlue:114,MediumSpringGreen:115,MediumTurquoise:116,MediumVioletRed:117,Menu:21,MenuBar:173,MenuHighlight:174,MenuText:22,MidnightBlue:118,MintCream:119,MistyRose:120,Moccasin:121,NavajoWhite:122,Navy:123,OldLace:124,Olive:125,OliveDrab:126,Orange:127,OrangeRed:128,Orchid:129,PaleGoldenrod:130,PaleGreen:131,PaleTurquoise:132,PaleVioletRed:133,PapayaWhip:134,PeachPuff:135,Peru:136,Pink:137,Plum:138,PowderBlue:139,Purple:140,Red:141,RosyBrown:142,RoyalBlue:143,SaddleBrown:144,Salmon:145,SandyBrown:146,ScrollBar:23,SeaGreen:147,SeaShell:148,Sienna:149,Silver:150,SkyBlue:151,SlateBlue:152,SlateGray:153,Snow:154,SpringGreen:155,SteelBlue:156,Tan:157,Teal:158,Thistle:159,Tomato:160,Transparent:27,Turquoise:161,Violet:162,Wheat:163,White:164,WhiteSmoke:165,Window:24,WindowFrame:25,WindowText:26,Yellow:166,YellowGreen:167}});Bridge.define("ExpressCraft.KnownColorTable",{statics:{AlphaShift:24,BlueShift:0,colorNameTable:null,colorTable:null,GreenShift:8,RedShift:16,Win32BlueShift:16,Win32GreenShift:8,Win32RedShift:0,argbToKnownColor:function(targetARGB){var i,num2,color;for(ExpressCraft.KnownColorTable.ensureColorTable(),i=0;i<ExpressCraft.KnownColorTable.colorTable.length;i=i+1|0)if(num2=ExpressCraft.KnownColorTable.colorTable[i],num2===targetARGB&&(color=ExpressCraft.Color.fromKnownColor(i).$clone(),!color.getIsSystemColor()))return color.$clone();return ExpressCraft.Color.fromArgb(targetARGB)},encode:function(alpha,red,green,blue){return red<<16|green<<8|blue|alpha<<24},ensureColorNameTable:function(){ExpressCraft.KnownColorTable.colorNameTable==null&&ExpressCraft.KnownColorTable.initColorNameTable()},ensureColorTable:function(){ExpressCraft.KnownColorTable.colorTable==null&&ExpressCraft.KnownColorTable.initColorTable()},fromWin32Value:function(value){return ExpressCraft.KnownColorTable.encode(255,value&255,value>>8&255,value>>16&255)},initColorNameTable:function(){var strArray=System.Array.init(175,null,String);strArray[1]="ActiveBorder";strArray[2]="ActiveCaption";strArray[3]="ActiveCaptionText";strArray[4]="AppWorkspace";strArray[168]="ButtonFace";strArray[169]="ButtonHighlight";strArray[170]="ButtonShadow";strArray[5]="Control";strArray[6]="ControlDark";strArray[7]="ControlDarkDark";strArray[8]="ControlLight";strArray[9]="ControlLightLight";strArray[10]="ControlText";strArray[11]="Desktop";strArray[171]="GradientActiveCaption";strArray[172]="GradientInactiveCaption";strArray[12]="GrayText";strArray[13]="Highlight";strArray[14]="HighlightText";strArray[15]="HotTrack";strArray[16]="InactiveBorder";strArray[17]="InactiveCaption";strArray[18]="InactiveCaptionText";strArray[19]="Info";strArray[20]="InfoText";strArray[21]="Menu";strArray[173]="MenuBar";strArray[174]="MenuHighlight";strArray[22]="MenuText";strArray[23]="ScrollBar";strArray[24]="Window";strArray[25]="WindowFrame";strArray[26]="WindowText";strArray[27]="Transparent";strArray[28]="AliceBlue";strArray[29]="AntiqueWhite";strArray[30]="Aqua";strArray[31]="Aquamarine";strArray[32]="Azure";strArray[33]="Beige";strArray[34]="Bisque";strArray[35]="Black";strArray[36]="BlanchedAlmond";strArray[37]="Blue";strArray[38]="BlueViolet";strArray[39]="Brown";strArray[40]="BurlyWood";strArray[41]="CadetBlue";strArray[42]="Chartreuse";strArray[43]="Chocolate";strArray[44]="Coral";strArray[45]="CornflowerBlue";strArray[46]="Cornsilk";strArray[47]="Crimson";strArray[48]="Cyan";strArray[49]="DarkBlue";strArray[50]="DarkCyan";strArray[51]="DarkGoldenrod";strArray[52]="DarkGray";strArray[53]="DarkGreen";strArray[54]="DarkKhaki";strArray[55]="DarkMagenta";strArray[56]="DarkOliveGreen";strArray[57]="DarkOrange";strArray[58]="DarkOrchid";strArray[59]="DarkRed";strArray[60]="DarkSalmon";strArray[61]="DarkSeaGreen";strArray[62]="DarkSlateBlue";strArray[63]="DarkSlateGray";strArray[64]="DarkTurquoise";strArray[65]="DarkViolet";strArray[66]="DeepPink";strArray[67]="DeepSkyBlue";strArray[68]="DimGray";strArray[69]="DodgerBlue";strArray[70]="Firebrick";strArray[71]="FloralWhite";strArray[72]="ForestGreen";strArray[73]="Fuchsia";strArray[74]="Gainsboro";strArray[75]="GhostWhite";strArray[76]="Gold";strArray[77]="Goldenrod";strArray[78]="Gray";strArray[79]="Green";strArray[80]="GreenYellow";strArray[81]="Honeydew";strArray[82]="HotPink";strArray[83]="IndianRed";strArray[84]="Indigo";strArray[85]="Ivory";strArray[86]="Khaki";strArray[87]="Lavender";strArray[88]="LavenderBlush";strArray[89]="LawnGreen";strArray[90]="LemonChiffon";strArray[91]="LightBlue";strArray[92]="LightCoral";strArray[93]="LightCyan";strArray[94]="LightGoldenrodYellow";strArray[95]="LightGray";strArray[96]="LightGreen";strArray[97]="LightPink";strArray[98]="LightSalmon";strArray[99]="LightSeaGreen";strArray[100]="LightSkyBlue";strArray[101]="LightSlateGray";strArray[102]="LightSteelBlue";strArray[103]="LightYellow";strArray[104]="Lime";strArray[105]="LimeGreen";strArray[106]="Linen";strArray[107]="Magenta";strArray[108]="Maroon";strArray[109]="MediumAquamarine";strArray[110]="MediumBlue";strArray[111]="MediumOrchid";strArray[112]="MediumPurple";strArray[113]="MediumSeaGreen";strArray[114]="MediumSlateBlue";strArray[115]="MediumSpringGreen";strArray[116]="MediumTurquoise";strArray[117]="MediumVioletRed";strArray[118]="MidnightBlue";strArray[119]="MintCream";strArray[120]="MistyRose";strArray[121]="Moccasin";strArray[122]="NavajoWhite";strArray[123]="Navy";strArray[124]="OldLace";strArray[125]="Olive";strArray[126]="OliveDrab";strArray[127]="Orange";strArray[128]="OrangeRed";strArray[129]="Orchid";strArray[130]="PaleGoldenrod";strArray[131]="PaleGreen";strArray[132]="PaleTurquoise";strArray[133]="PaleVioletRed";strArray[134]="PapayaWhip";strArray[135]="PeachPuff";strArray[136]="Peru";strArray[137]="Pink";strArray[138]="Plum";strArray[139]="PowderBlue";strArray[140]="Purple";strArray[141]="Red";strArray[142]="RosyBrown";strArray[143]="RoyalBlue";strArray[144]="SaddleBrown";strArray[145]="Salmon";strArray[146]="SandyBrown";strArray[147]="SeaGreen";strArray[148]="SeaShell";strArray[149]="Sienna";strArray[150]="Silver";strArray[151]="SkyBlue";strArray[152]="SlateBlue";strArray[153]="SlateGray";strArray[154]="Snow";strArray[155]="SpringGreen";strArray[156]="SteelBlue";strArray[157]="Tan";strArray[158]="Teal";strArray[159]="Thistle";strArray[160]="Tomato";strArray[161]="Turquoise";strArray[162]="Violet";strArray[163]="Wheat";strArray[164]="White";strArray[165]="WhiteSmoke";strArray[166]="Yellow";strArray[167]="YellowGreen";ExpressCraft.KnownColorTable.colorNameTable=strArray},initColorTable:function(){var colorTable=System.Array.init(175,0,System.Int32);colorTable[27]=16777215;colorTable[28]=-984833;colorTable[29]=-332841;colorTable[30]=-16711681;colorTable[31]=-8388652;colorTable[32]=-983041;colorTable[33]=-657956;colorTable[34]=-6972;colorTable[35]=-16777216;colorTable[36]=-5171;colorTable[37]=-16776961;colorTable[38]=-7722014;colorTable[39]=-5952982;colorTable[40]=-2180985;colorTable[41]=-10510688;colorTable[42]=-8388864;colorTable[43]=-2987746;colorTable[44]=-32944;colorTable[45]=-10185235;colorTable[46]=-1828;colorTable[47]=-2354116;colorTable[48]=-16711681;colorTable[49]=-16777077;colorTable[50]=-16741493;colorTable[51]=-4684277;colorTable[52]=-5658199;colorTable[53]=-16751616;colorTable[54]=-4343957;colorTable[55]=-7667573;colorTable[56]=-11179217;colorTable[57]=-29696;colorTable[58]=-6737204;colorTable[59]=-7667712;colorTable[60]=-1468806;colorTable[61]=-7357301;colorTable[62]=-12042869;colorTable[63]=-13676721;colorTable[64]=-16724271;colorTable[65]=-7077677;colorTable[66]=-60269;colorTable[67]=-16728065;colorTable[68]=-9868951;colorTable[69]=-14774017;colorTable[70]=-5103070;colorTable[71]=-1296;colorTable[72]=-14513374;colorTable[73]=-65281;colorTable[74]=-2302756;colorTable[75]=-460545;colorTable[76]=-10496;colorTable[77]=-2448096;colorTable[78]=-8355712;colorTable[79]=-16744448;colorTable[80]=-5374161;colorTable[81]=-983056;colorTable[82]=-38476;colorTable[83]=-3318692;colorTable[84]=-11861886;colorTable[85]=-16;colorTable[86]=-989556;colorTable[87]=-1644806;colorTable[88]=-3851;colorTable[89]=-8586240;colorTable[90]=-1331;colorTable[91]=-5383962;colorTable[92]=-1015680;colorTable[93]=-2031617;colorTable[94]=-329006;colorTable[95]=-2894893;colorTable[96]=-7278960;colorTable[97]=-18751;colorTable[98]=-24454;colorTable[99]=-14634326;colorTable[100]=-7876870;colorTable[101]=-8943463;colorTable[102]=-5192482;colorTable[103]=-32;colorTable[104]=-16711936;colorTable[105]=-13447886;colorTable[106]=-331546;colorTable[107]=-65281;colorTable[108]=-8388608;colorTable[109]=-10039894;colorTable[110]=-16777011;colorTable[111]=-4565549;colorTable[112]=-7114533;colorTable[113]=-12799119;colorTable[114]=-8689426;colorTable[115]=-16713062;colorTable[116]=-12004916;colorTable[117]=-3730043;colorTable[118]=-15132304;colorTable[119]=-655366;colorTable[120]=-6943;colorTable[121]=-6987;colorTable[122]=-8531;colorTable[123]=-16777088;colorTable[124]=-133658;colorTable[125]=-8355840;colorTable[126]=-9728477;colorTable[127]=-23296;colorTable[128]=-47872;colorTable[129]=-2461482;colorTable[130]=-1120086;colorTable[131]=-6751336;colorTable[132]=-5247250;colorTable[133]=-2396013;colorTable[134]=-4139;colorTable[135]=-9543;colorTable[136]=-3308225;colorTable[137]=-16181;colorTable[138]=-2252579;colorTable[139]=-5185306;colorTable[140]=-8388480;colorTable[141]=-65536;colorTable[142]=-4419697;colorTable[143]=-12490271;colorTable[144]=-7650029;colorTable[145]=-360334;colorTable[146]=-744352;colorTable[147]=-13726889;colorTable[148]=-2578;colorTable[149]=-6270419;colorTable[150]=-4144960;colorTable[151]=-7876885;colorTable[152]=-9807155;colorTable[153]=-9404272;colorTable[154]=-1286;colorTable[155]=-16711809;colorTable[156]=-12156236;colorTable[157]=-2968436;colorTable[158]=-16744320;colorTable[159]=-2572328;colorTable[160]=-40121;colorTable[161]=-12525360;colorTable[162]=-1146130;colorTable[163]=-663885;colorTable[164]=-1;colorTable[165]=-657931;colorTable[166]=-256;colorTable[167]=-6632142;ExpressCraft.KnownColorTable.colorTable=colorTable},knownColorToArgb:function(color){return(ExpressCraft.KnownColorTable.ensureColorTable(),color<=ExpressCraft.KnownColor.MenuHighlight)?ExpressCraft.KnownColorTable.colorTable[color]:0},knownColorToName:function(color){return(ExpressCraft.KnownColorTable.ensureColorNameTable(),color<=ExpressCraft.KnownColor.MenuHighlight)?ExpressCraft.KnownColorTable.colorNameTable[color]:null}}});Bridge.define("ExpressCraft.MessageBoxButtons",{$kind:"enum",statics:{Auto:0,Ok:1,YesNo:2,YesNoCancel:3,AbortIgnoreRetry:4}});Bridge.define("ExpressCraft.MessageBoxLayout",{$kind:"enum",statics:{Information:0,Exclamation:1,Question:2,Error:3}});Bridge.define("ExpressCraft.MouseMoveAction",{$kind:"enum",statics:{None:0,Move:1,TopLeftResize:2,LeftResize:3,BottomLeftResize:4,BottomResize:5,BottomRightResize:6,RightResize:7,TopResize:8,TopRightResize:9}});Bridge.define("ExpressCraft.Network",{statics:{getAjaxOptions:function(JsonFile,Async){return Async===void 0&&(Async=!0),{async:Async,url:ExpressCraft.Settings.networkURL,cache:!1,data:JsonFile==null?"":JSON.stringify(JsonFile),dataType:"json",contentType:"application/json",type:"POST"}},invokeMethodUI:function(interfaceName,method,Success,Error,$arguments){Success===void 0&&(Success=null);Error===void 0&&(Error=null);$arguments===void 0&&($arguments=[]);ExpressCraft.Network.postJsonProgressForm(new ExpressCraft.Network.MethodRequest(interfaceName,method,$arguments),Success,Error)},invokeMethodUIControl:function(interfaceName,method,progressControl,Success,Error,$arguments){Success===void 0&&(Success=null);Error===void 0&&(Error=null);$arguments===void 0&&($arguments=[]);ExpressCraft.Network.postJsonProgressControl(new ExpressCraft.Network.MethodRequest(interfaceName,method,$arguments),progressControl,Success,Error)},invokeMethod:function(interfaceName,method,Success,Error,$arguments){Success===void 0&&(Success=null);Error===void 0&&(Error=null);$arguments===void 0&&($arguments=[]);ExpressCraft.Network.postJson(new ExpressCraft.Network.MethodRequest(interfaceName,method,$arguments),Success,Error)},postJson:function(JsonFile,Success,Error,Async){Success===void 0&&(Success=null);Error===void 0&&(Error=null);Async===void 0&&(Async=!0);var ajo=ExpressCraft.Network.getAjaxOptions(JsonFile,Async);ajo.success=Success;ajo.error=Error;$.ajax(ajo)},postJsonProgressControl:function(JsonFile,progressControl,Success,Error,Async){Success===void 0&&(Success=null);Error===void 0&&(Error=null);Async===void 0&&(Async=!0);var ajo=ExpressCraft.Network.getAjaxOptions(JsonFile,Async);ajo.xhr=function(){var xmlRequest=new XMLHttpRequest;return xmlRequest.addEventListener("progress",function(e){var pe=Bridge.as(e,ProgressEvent),pc,Percent;progressControl!=null&&(pc=progressControl,Percent=0,pe.loaded!==0&&pe.total!==0&&(Percent=pe.loaded/pe.total*100),pc.internalProgressControl.style.width=System.String.concat(System.Single.format(Percent,"G"),"%"))}),xmlRequest};ajo.success=Success;ajo.error=Error;$.ajax(ajo)},postJsonProgressForm:function(JsonFile,Success,Error,Async){var npf,ajo,ajr;Success===void 0&&(Success=null);Error===void 0&&(Error=null);Async===void 0&&(Async=!0);npf=new ExpressCraft.Network.NetworkProgressForm;ajo=ExpressCraft.Network.getAjaxOptions(JsonFile,Async);ajo.xhr=function(){var xmlRequest=new XMLHttpRequest;return xmlRequest.addEventListener("progress",function(e){var pe=Bridge.as(e,ProgressEvent),pc,Percent;npf!=null&&npf.progressControl!=null&&(pc=npf.progressControl,Percent=0,pe.loaded!==0&&pe.total!==0&&(Percent=pe.loaded/pe.total*100),pc.internalProgressControl.style.width=System.String.concat(System.Single.format(Percent,"G"),"%"))}),xmlRequest};ajo.success=function(o,s,jq){npf.dialogResult=ExpressCraft.DialogResultEnum.OK;Success(o,s,jq)};ajo.error=function(jq,s1,s2){npf.dialogResult=ExpressCraft.DialogResultEnum.Cancel;Error(jq,s1,s2)};ajo.complete=function(){npf.close()};ajr=$.ajax(ajo);npf.showDialog([new ExpressCraft.DialogResult(ExpressCraft.DialogResultEnum.Cancel,function(){ajr.abort()})])}}});Bridge.define("ExpressCraft.Network.MethodRequest",{method:null,arguments:null,"interface":null,ctor:function(interfaceName,method,$arguments){$arguments===void 0&&($arguments=[]);this.$initialize();this.method=method;this.arguments=$arguments;this.interface=interfaceName}});Bridge.define("ExpressCraft.PdfSourceType",{$kind:"enum",statics:{Url:0,Base64:1}});Bridge.define("ExpressCraft.RibbonControl.RibbonType",{$kind:"enum",statics:{Full:0,Compact:1}});Bridge.define("ExpressCraft.RibbonGroup.RenderInfo",{left:0,width:0,isSmall:!1,firstButton:null,secondButton:null,thirdButton:null,beginGroup:!1});Bridge.define("ExpressCraft.Settings",{statics:{networkURL:"Host.ashx",resourceURL:"./images/",autoRender:!0,defaultFont:"8.25pt Tahoma",defaultStyleSheet:null,pluginStyleSheet:null,gridViewAutoColumnGenerateFormatAsDate:!1,gridViewBlurOnScroll:!1,gridViewRowScrollPadding:0,gridViewScrollDelayed:!1,gridViewScrollDelayMS:25,contextMenuStartingZIndex:500,contextMenuMinWidth:200,messageFormTextMaximumHeightInPx:500,messageFormTextMinimumHeightInPx:32,messageFormMinimumWidthInPx:195,messageFormBeep:!1,maximumPixelScrollingRows:5e5,_WindowManagerVisible:!1,isChrome:!1,allowCloseWithoutQuestion:!1,showExceptionDialog:!0,themeElement:null,_primaryThemeColor:"#0173C7",themeTemplate:"\r\n.form-base{\r\n\tborder-color:{0};\r\n}\r\n.form-heading\r\n{\r\n\tbackground-color:{0};\r\n}\r\n.progressbarbody\r\n{\r\n\tbackground-color:{0};\r\n}\r\n.control:focus:not(.grid)\r\n{\r\n\toutline: dashed 1px {0};\r\n}\r\n.ribboncontrol\r\n{\r\n\tbackground-color:{0};\r\n    border-left-color:{0};\r\n    border-right-color:{0};\r\n}\r\n.ribbonpageheader-hidden\r\n{\r\n\tbackground-color:{0};\r\n}\r\n@keyframes ColorFlash\r\n{\r\n\tfrom {background-color: white;}\r\n    to {background-color: {0};}\r\n}\r\n",config:{init:function(){this.isChrome=Bridge.Browser.isChrome}},getWindowManagerVisible:function(){return ExpressCraft.Settings._WindowManagerVisible},setWindowManagerVisible:function(value){value!==ExpressCraft.Settings._WindowManagerVisible&&(ExpressCraft.Settings._WindowManagerVisible=value,ExpressCraft.Form.setupWindowManager())},getPrimaryThemeColor:function(){return ExpressCraft.Settings._primaryThemeColor},setPrimaryThemeColor:function(value){Bridge.referenceEquals(ExpressCraft.Settings._primaryThemeColor,value)||(ExpressCraft.Settings.themeElement!=null&&ExpressCraft.Settings.themeElement.parentElement.removeChild(ExpressCraft.Settings.themeElement),ExpressCraft.Settings._primaryThemeColor=value,System.String.isNullOrWhiteSpace(value)||(ExpressCraft.Settings.themeElement=document.createElement("style"),ExpressCraft.Settings.themeElement.innerHTML=System.String.format(ExpressCraft.Settings.themeTemplate,ExpressCraft.Settings._primaryThemeColor),document.body.appendChild(ExpressCraft.Settings.themeElement)))},setup:function(){ExpressCraft.Settings.setupStyleDefaults()},setupStyleDefaults:function(){for(var ownerNode,df,sheets=document.styleSheets,i=0;i<sheets.length;i=i+1|0)(ownerNode=Bridge.as(sheets[i].ownerNode,HTMLLinkElement),ownerNode!=null)&&(Bridge.referenceEquals(ownerNode.id,"expresscraft")&&(ExpressCraft.Settings.defaultStyleSheet=sheets[i]),Bridge.referenceEquals(ownerNode.id,"expresscraftplugin")&&(ExpressCraft.Settings.pluginStyleSheet=sheets[i]));ExpressCraft.Settings.defaultStyleSheet!=null&&(df=ExpressCraft.Settings.getStyleRuleValue("font",".control"),df!=null&&(ExpressCraft.Settings.defaultFont=df))},getStyleRuleValue:function(style,className){var pStyles,i,rule,Styles,i1,rule1;try{if(ExpressCraft.Settings.pluginStyleSheet!=null&&(pStyles=ExpressCraft.Settings.pluginStyleSheet,pStyles.cssRules))for(i=0;i<pStyles.cssRules.length;i=i+1|0)if(rule=pStyles.cssRules[i],rule.selectorText&&!Bridge.referenceEquals(rule.selectorText.split(44).indexOf(className),-1))return rule.style[style];if(ExpressCraft.Settings.defaultStyleSheet==null||(Styles=ExpressCraft.Settings.defaultStyleSheet,!Styles.cssRules))return null;for(i1=0;i1<Styles.cssRules.length;i1=i1+1|0)if(rule1=Styles.cssRules[i1],rule1.selectorText&&!Bridge.referenceEquals(rule1.selectorText.split(44).indexOf(className),-1))return rule1.style[style]}catch($e1){$e1=System.Exception.create($e1)}return null}}});Bridge.define("ExpressCraft.SortSetting",{column:null,sortMode:0});Bridge.define("ExpressCraft.TextBlock",{originalSource:null,maxWidth:0,computedHeight:0,linesComputed:0,elelemtsOverMax:!1,maxCalculatedWidth:0,ctor:function(source,maxWidth){this.$initialize();this.originalSource=source;this.maxWidth=maxWidth},computeString:function(){var Lines,sizePerChar,i,line,lineWidth,yy,x;for(this.elelemtsOverMax=!1,Lines=this.originalSource.split("\r\n"),sizePerChar=ExpressCraft.Control.getTextWidth("M",ExpressCraft.Settings.defaultFont),this.linesComputed=0,i=0;i<Lines.length;i=i+1|0)if(line=Lines[i],lineWidth=ExpressCraft.Control.getTextWidth(this.originalSource,ExpressCraft.Settings.defaultFont),lineWidth>this.maxWidth){for(this.elelemtsOverMax=!0,this.maxCalculatedWidth=this.maxWidth,yy=0,x=0;x<line.length;x=x+1|0)yy=yy+1|0,yy*sizePerChar>this.maxWidth&&(this.linesComputed=this.linesComputed+1|0,yy=0);yy>0&&(this.linesComputed=this.linesComputed+1|0)}else this.linesComputed=this.linesComputed+1|0,lineWidth>this.maxCalculatedWidth&&(this.maxCalculatedWidth=lineWidth);this.computedHeight=this.getFontSize(ExpressCraft.Settings.defaultFont)*this.linesComputed},getFontSize:function(fontWithSize){for(var strs=System.String.split(fontWithSize,System.Array.init([32],System.Char).map(function(i){return String.fromCharCode(i)}),null,1),i=0;i<strs.length;i=i+1|0){if(System.String.endsWith(strs[i],"pt"))return parseFloat(strs[i])*1.333333;if(System.String.endsWith(strs[i],"px"))return parseFloat(strs[i])}return 10.9999971}});Bridge.define("ExpressCraft.Vector2",{$kind:"struct",statics:{getDefaultValue:function(){return new ExpressCraft.Vector2}},x:null,y:null,$ctor1:function(x,y){this.$initialize();this.x=x;this.y=y},ctor:function(){this.$initialize()},getXi:function(){return this.x},setXi:function(value){this.x=value},getYi:function(){return this.y},setYi:function(value){this.y=value},getHashCode:function(){return Bridge.addHash([1955977157,this.x,this.y])},equals:function(o){return Bridge.is(o,ExpressCraft.Vector2)?Bridge.equals(this.x,o.x)&&Bridge.equals(this.y,o.y):!1},$clone:function(to){var s=to||new ExpressCraft.Vector2;return s.x=this.x,s.y=this.y,s}});Bridge.define("ExpressCraft.Vector4",{$kind:"struct",statics:{getDefaultValue:function(){return new ExpressCraft.Vector4}},x:null,y:null,z:null,m:null,$ctor1:function(x,y,z,m){this.$initialize();this.x=x;this.y=y;this.z=z;this.m=m},ctor:function(){this.$initialize()},getHashCode:function(){return Bridge.addHash([1956108229,this.x,this.y,this.z,this.m])},equals:function(o){return Bridge.is(o,ExpressCraft.Vector4)?Bridge.equals(this.x,o.x)&&Bridge.equals(this.y,o.y)&&Bridge.equals(this.z,o.z)&&Bridge.equals(this.m,o.m):!1},$clone:function(to){var s=to||new ExpressCraft.Vector4;return s.x=this.x,s.y=this.y,s.z=this.z,s.m=this.m,s}});Bridge.define("ExpressCraft.WindowState",{$kind:"enum",statics:{Normal:0,Minimized:1,Maximized:2}});Bridge.define("ExpressCraft.AceCodeEditor",{inherits:[ExpressCraft.Control],statics:{externalAceCodeEditor:null,config:{init:function(){this.externalAceCodeEditor=new ExpressCraft.ExternalPlugin("https://ace.c9.io/build/src/ace.js")}},setup:function(){ExpressCraft.AceCodeEditor.externalAceCodeEditor.setup()}},editor:null,_modeType:0,_themeType:0,ctor:function(modeType,themeType){modeType===void 0&&(modeType=17);themeType===void 0&&(themeType=11);this.$initialize();ExpressCraft.Control.ctor.call(this);this._modeType=modeType;this._themeType=themeType},getReadOnly:function(){return this.editor.getReadOnly()},setReadOnly:function(value){this.editor.setReadOnly(value)},getSource:function(){return this.editor.getValue()},setSource:function(value){this.editor.setValue(value)},clearSelection:function(){this.editor.clearSelection()},render:function(){var $t,$t1,theme,mode;ExpressCraft.AceCodeEditor.externalAceCodeEditor.usageCheck();theme=($t=this._modeType,System.Enum.format(ExpressCraft.AceModeTypes,$t,"G"));mode=($t1=this._modeType,System.Enum.format(ExpressCraft.AceModeTypes,$t1,"G"));this.editor=ace.edit(this.content);this.editor.setTheme("ace/theme/"+theme);this.editor.getSession().setMode("ace/mode/"+mode);this.onResize=$asm.$.ExpressCraft.AceCodeEditor.f1;this.content.addEventListener("mousedown",$asm.$.ExpressCraft.AceCodeEditor.f2);this.content.addEventListener("mouseup",$asm.$.ExpressCraft.AceCodeEditor.f3);ExpressCraft.Control.prototype.render.call(this)}});Bridge.ns("ExpressCraft.AceCodeEditor",$asm.$);Bridge.apply($asm.$.ExpressCraft.AceCodeEditor,{f1:function(){this.editor.resize(!0)},f2:function(){ExpressCraft.Form.inExternalMouseEvent=!0},f3:function(){ExpressCraft.Form.inExternalMouseEvent=!1}});Bridge.define("ExpressCraft.ComboBoxEdit",{inherits:[ExpressCraft.Control],comboBoxBase:null,previousSelectedIndex:-1,selectedIndexChanged:null,enabled:!0,_readonly:!1,ctor:function(){this.$initialize();ExpressCraft.Control.$ctor4.call(this,"inputcontrol",ExpressCraft.ComboBoxTypes.Default);this.comboBoxBase=Bridge.as(this.content,HTMLSelectElement);this.content.oncontextmenu=$asm.$.ExpressCraft.ComboBoxEdit.f1;this.comboBoxBase.onchange=Bridge.fn.bind(this,$asm.$.ExpressCraft.ComboBoxEdit.f2)},getText:function(){return this.comboBoxBase.selectedIndex===-1?"":this.comboBoxBase.options[this.comboBoxBase.selectedIndex].innerHTML},setText:function(value){for(var i=0;i<this.comboBoxBase.options.length;i=i+1|0)Bridge.referenceEquals(this.comboBoxBase.options[i].innerHTML,value)&&(this.comboBoxBase.selectedIndex=i);this.comboBoxBase.selectedIndex=-1},getValue:function(){return this.comboBoxBase.selectedIndex===-1?"":this.comboBoxBase.options[this.comboBoxBase.selectedIndex].value},setValue:function(value){for(var i=0;i<this.comboBoxBase.options.length;i=i+1|0)Bridge.referenceEquals(this.comboBoxBase.options[i].value,value)&&(this.comboBoxBase.selectedIndex=i);this.comboBoxBase.selectedIndex=-1},getEnabled:function(){return this.enabled},setEnabled:function(value){this.enabled=value;this.content.setAttribute("disabled",System.Boolean.toString(!this.enabled))},getReadonly:function(){return this._readonly},setReadonly:function(value){this._readonly=value;this.content.setAttribute("readonly",System.Boolean.toString(this._readonly))},fillData:function(dataitems){if(dataitems===void 0&&(dataitems=[]),$(this.comboBoxBase).empty(),dataitems==null)for(var i=0;i<dataitems.length;i=i+1|0)this.comboBoxBase.appendChild(Bridge.merge(document.createElement("option"),{innerHTML:dataitems[i].text,value:dataitems[i].value}))},render:function(){ExpressCraft.Control.prototype.render.call(this)}});Bridge.ns("ExpressCraft.ComboBoxEdit",$asm.$);Bridge.apply($asm.$.ExpressCraft.ComboBoxEdit,{f1:function(ev){ev.stopPropagation()},f2:function(ev){this.previousSelectedIndex!==this.comboBoxBase.selectedIndex&&(Bridge.staticEquals(this.selectedIndexChanged,null)||this.selectedIndexChanged(this),this.previousSelectedIndex=this.comboBoxBase.selectedIndex);ev.stopPropagation()}});Bridge.define("ExpressCraft.Form",{inherits:[ExpressCraft.Control],statics:{movingForm:null,parent:null,formOverLay:null,windowCursorManager:null,_hasSetup:!1,inExternalMouseEvent:!1,inErrorDialog:!1,formCollections:null,_ActiveForm:null,_PrevActiveForm:null,moveAction:1,windowHolderSelectionBoxX:0,windowHolderSelectionBoxY:0,windowHolderSelectionBoxXOff:0,windowHolderSelectionBoxYOff:0,toClean:null,config:{properties:{WindowHolder:null,WindowManager:null,WindowManagerStart:null,WindowManagerSearch:null,ResizeCorners:2,Mouse_Down:!1,FadeLength:100,ShowBodyOverLay:!1,Window_DefaultHeight:480,Window_DefaultWidth:640},init:function(){this.formCollections=new(System.Collections.Generic.List$1(ExpressCraft.FormCollection));this.toClean=new(System.Collections.Generic.List$1(ExpressCraft.Form))}},getActiveForm:function(){return ExpressCraft.Form._ActiveForm},setActiveForm:function(value){if(!Bridge.referenceEquals(ExpressCraft.Form._ActiveForm,value)){if(ExpressCraft.Form._PrevActiveForm=ExpressCraft.Form._ActiveForm,ExpressCraft.Form._ActiveForm!=null&&ExpressCraft.Form._ActiveForm.content!=null){if(ExpressCraft.Form._ActiveForm.inDesign){ExpressCraft.Form._ActiveForm.getBodyOverLay().style.visibility="collapse";return}ExpressCraft.Form._ActiveForm.getBodyOverLay().style.visibility="visible"}ExpressCraft.Form._ActiveForm=value;ExpressCraft.Form._ActiveForm!=null&&ExpressCraft.Form._ActiveForm.content!=null&&(ExpressCraft.Form._ActiveForm.getBodyOverLay().style.visibility="collapse",ExpressCraft.Form._ActiveForm.bringToFront())}},midleOfAction:function(){return ExpressCraft.Form.movingForm!=null},getActiveFormCollection:function(){for(var frmCol,x,i=ExpressCraft.Form.formCollections.getCount()-1|0;i>=0;i=i-1|0)if(frmCol=ExpressCraft.Form.formCollections.getItem(i),frmCol.formOwner==null){for(x=0;x<frmCol.visibleForms.getCount();x=x+1|0)frmCol.visibleForms.getItem(x)!=null&&frmCol.visibleForms.getItem(x).close();ExpressCraft.Form.formCollections.removeAt(i)}else return frmCol;return null},setBodyOverLay:function(){var ActiveCollection=ExpressCraft.Form.getActiveFormCollection(),VisibleForms,i,form;if(ActiveCollection!=null)for(ActiveCollection.formOwner.showBodyOverLayStyle(),VisibleForms=ActiveCollection.visibleForms,i=0;i<VisibleForms.getCount();i=i+1|0)form=VisibleForms.getItem(i),form!=null&&form.showBodyOverLayStyle()},changeStateTextSelection:function(element,state){state?$(element).css("user-select","text"):$(element).css("user-select","none")},disableStateDrag:function(element){Bridge.is(element,HTMLImageElement)?element.ondragstart=$asm.$.ExpressCraft.Form.f1:$(element).css("user-drag:","none")},setupHideElementsOnView:function(){window.onblur=$asm.$.ExpressCraft.Form.f2;window.onfocus=$asm.$.ExpressCraft.Form.f3},setupWindowManager:function(){ExpressCraft.Form.parent!=null&&ExpressCraft.Form.getWindowHolder()!=null&&(ExpressCraft.Settings.getWindowManagerVisible()?(ExpressCraft.Form.getWindowHolder().style.height="calc(100% - 40px)",System.Linq.Enumerable.from(ExpressCraft.Form.parent.children).contains(ExpressCraft.Form.getWindowManager())||ExpressCraft.Form.parent.appendChild(ExpressCraft.Form.getWindowManager())):(ExpressCraft.Form.getWindowHolder().style.height="100%",System.Linq.Enumerable.from(ExpressCraft.Form.parent.children).contains(ExpressCraft.Form.getWindowManager())&&ExpressCraft.Form.parent.removeChild(ExpressCraft.Form.getWindowManager())))},setup:function(parent){(parent===void 0&&(parent=null),ExpressCraft.Form._hasSetup)||(ExpressCraft.Form._hasSetup=!0,ExpressCraft.Form.parent=parent==null?document.body:parent,ExpressCraft.Form.windowCursorManager=document.createElement("style"),ExpressCraft.Form.setWindowHolder(ExpressCraft.Control.div$1("form-container")),ExpressCraft.Form.setWindowManager(ExpressCraft.Control.div$1("form-manager")),ExpressCraft.Form.setWindowManagerStart(ExpressCraft.Control.div$1("form-manager-start")),ExpressCraft.Form.setWindowManagerSearch(new ExpressCraft.TextInput),ExpressCraft.Form.getWindowManagerSearch().content.classList.add("form-manager-search"),ExpressCraft.Form.formOverLay=ExpressCraft.Control.div$1("system-form-collection-overlay"),ExpressCraft.Form.formOverLay.onmousedown=$asm.$.ExpressCraft.Form.f4,ExpressCraft.Form.formOverLay.onclick=$asm.$.ExpressCraft.Form.f5,ExpressCraft.Form.formOverLay.oncontextmenu=$asm.$.ExpressCraft.Form.f6,ExpressCraft.Form.formOverLay.style.visibility="visible",window.onresize=$asm.$.ExpressCraft.Form.f7,window.onmousemove=$asm.$.ExpressCraft.Form.f8,window.onmouseup=$asm.$.ExpressCraft.Form.f9,window.onbeforeunload=$asm.$.ExpressCraft.Form.f10,window.onerror=Bridge.fn.combine(window.onerror,$asm.$.ExpressCraft.Form.f11),ExpressCraft.Form.getWindowHolder().appendChild(ExpressCraft.Form.formOverLay),ExpressCraft.Helper.appendChildren(ExpressCraft.Form.getWindowManager(),[ExpressCraft.Form.getWindowManagerStart(),ExpressCraft.Control.op_Implicit(ExpressCraft.Form.getWindowManagerSearch())]),ExpressCraft.Helper.appendChildren(ExpressCraft.Form.parent,[ExpressCraft.Form.getWindowHolder(),ExpressCraft.Form.windowCursorManager]),ExpressCraft.Form.setupWindowManager())},setCursor:function(cursor){ExpressCraft.Form.windowCursorManager.innerHTML=System.String.format("\r\n\t\t\t\t.control{    \r\n\t\t\t\t\tcursor:{0} !important;    \r\n\t\t\t\t}",cursor)},calculateZOrder:function(){var zIndex,x,TopMostForms,VisibleForms,i,i1,i2,form,i3;if(ExpressCraft.Form.getActiveFormCollection(),ExpressCraft.Form.formCollections!=null)for(ExpressCraft.Form.formCollections.remove(null),zIndex={v:1},ExpressCraft.Form.formCollections.getCount()===0?ExpressCraft.Form.formOverLay.style.zIndex="":ExpressCraft.Form.formOverLay.style.opacity=ExpressCraft.Form.formCollections.getCount()===1?"0":"0.4",x=0;x<ExpressCraft.Form.formCollections.getCount();x=x+1|0){for(x===(ExpressCraft.Form.formCollections.getCount()-1|0)&&(ExpressCraft.Form.formOverLay.style.zIndex=Bridge.identity(zIndex.v,zIndex.v=zIndex.v+1|0).toString()),TopMostForms=new(System.Collections.Generic.List$1(ExpressCraft.Form)),VisibleForms=ExpressCraft.Form.formCollections.getItem(x).visibleForms,ExpressCraft.Form.formCollections.getItem(x).formOwner!=null&&ExpressCraft.Form.formCollections.getItem(x).formOwner.setZIndex(zIndex),i=0;i<VisibleForms.getCount();i=i+1|0)VisibleForms.getItem(i).content==null?ExpressCraft.Form.toClean.add(VisibleForms.getItem(i)):VisibleForms.getItem(i).topMost&&TopMostForms.add(VisibleForms.getItem(i));for(i1=0;i1<ExpressCraft.Form.toClean.getCount();i1=i1+1|0)VisibleForms.contains(ExpressCraft.Form.toClean.getItem(i1))&&(VisibleForms.remove(ExpressCraft.Form.toClean.getItem(i1)),ExpressCraft.Form.toClean.setItem(i1,null));for(ExpressCraft.Form.toClean.remove(null),i2=0;i2<TopMostForms.getCount();i2=i2+1|0)form=TopMostForms.getItem(i2),VisibleForms.remove(form),VisibleForms.add(form);for(i3=0;i3<VisibleForms.getCount();i3=i3+1|0)VisibleForms.getItem(i3)!=null&&VisibleForms.getItem(i3).content!=null&&VisibleForms.getItem(i3).setZIndex(zIndex)}}},inDesign:!1,allowSizeChange:!0,allowMoveChange:!0,forReuse:!1,self:null,_IsDialog:!1,children:null,startPosition:2,topMost:!1,dialogResult:0,prev_px:0,prev_py:0,prev_width:0,prev_height:0,prev_top:0,prev_left:0,dialogResults:null,inDialogResult:!1,config:{properties:{Heading:null,ButtonClose:null,ButtonExpand:null,ButtonMinimize:null,HeadingTitle:null,Body:null,BodyOverLay:null,Owner:null,MinWidth:200,MinHeight:50,windowState:0},init:function(){this.children=new(System.Collections.Generic.List$1(ExpressCraft.Control));this.dialogResults=new(System.Collections.Generic.List$1(ExpressCraft.DialogResult))}},ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"form-base");this.setHeading(ExpressCraft.Control.div$1("form-heading"));this.getHeading().oncontextmenu=$asm.$.ExpressCraft.Form.f6;this.setHeadingTitle(ExpressCraft.Control.span$1("form-heading-title"));this.setBody(ExpressCraft.Control.div$1("form-body"));this.getBody().oncontextmenu=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f12);this.setBackColor("#F0F0F0");this.setBodyOverLay(ExpressCraft.Control.div$1("form-body-overlay"));this.getBodyOverLay().style.opacity=ExpressCraft.Form.getShowBodyOverLay()?"0.5":"0";this.changeHeadingButton(ExpressCraft.FormButtonType.Close);this.changeHeadingButton(ExpressCraft.FormButtonType.Maximize);this.changeHeadingButton(ExpressCraft.FormButtonType.Minimize);this.getBodyOverLay().style.visibility="collapse";this.self=$(this.content);this.content.addEventListener("mousedown",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f13));this.getHeading().addEventListener("dblclick",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f14));this.content.addEventListener("mouseleave",$asm.$.ExpressCraft.Form.f15);this.getBody().addEventListener("mouseenter",$asm.$.ExpressCraft.Form.f16);this.content.addEventListener("mousemove",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f17));this.getHeading().addEventListener("mousedown",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f18));this.getBody().addEventListener("mousedown",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f19));this.getBody().addEventListener("mousemove",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f20));this.getBodyOverLay().addEventListener("mousedown",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f21));this.getBody().addEventListener("mouseleave",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f22));this.getBodyOverLay().addEventListener("mouseenter",Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f23));$(this.content).css("width",ExpressCraft.Form.getWindow_DefaultWidth()).css("height",ExpressCraft.Form.getWindow_DefaultHeight());this.content.appendChild(this.getHeading());this.content.appendChild(this.getBody());this.content.appendChild(this.getBodyOverLay());this.getHeading().appendChild(this.getHeadingTitle());this.getHeading().appendChild(this.getButtonClose());this.getHeading().appendChild(this.getButtonExpand());this.getHeading().appendChild(this.getButtonMinimize());this.initialise()},getHasSetup:function(){return ExpressCraft.Form._hasSetup},getShowMinimize:function(){return this.getButtonMinimize()!=null},setShowMinimize:function(value){this.changeHeadingButton(ExpressCraft.FormButtonType.Minimize,value)},getShowClose:function(){return this.getButtonClose()!=null},setShowClose:function(value){this.changeHeadingButton(ExpressCraft.FormButtonType.Close,value)},getShowMaximize:function(){return this.getButtonClose()!=null},setShowMaximize:function(value){this.changeHeadingButton(ExpressCraft.FormButtonType.Maximize,value)},getText:function(){return this.getHeadingTitle().innerHTML},setText:function(value){this.getHeadingTitle().innerHTML=value},getBackColor:function(){return this.getBody().style.backgroundColor},setBackColor:function(value){this.getBody().style.backgroundColor=value},getForeColor:function(){return this.getBody().style.color},setForeColor:function(value){this.getBody().style.color=value},isDialog:function(){return this._IsDialog},linkchildToForm:function(child){child!=null&&(this.children.add(child),child.linkedForm=this)},linkchildrenToForm:function(children){if(children===void 0&&(children=[]),children!=null&&children.length!==0){this.children.addRange(children);for(var i=0;i<children.length;i=i+1|0)children[i].linkedForm=this}},resizeChildren:function(parent){var x,i;if(!Bridge.staticEquals(this.onResize,null))this.onResize(this);for(this.onResizing(),x=0;x<parent.children.length;x=x+1|0)if(parent.children[x].classList.contains("control")){for(i=0;i<this.children.getCount();i=i+1|0)if(this.children.getItem(i)!=null&&!Bridge.staticEquals(this.children.getItem(i).onResize,null)&&Bridge.referenceEquals(this.children.getItem(i).content,parent.children[x])){this.children.getItem(i).onResize(this.children.getItem(i));break}this.resizeChildren(parent.children[x])}},resizing:function(){if(!Bridge.staticEquals(this.onResize,null))this.onResize(this);this.onResizing();for(var i=0;i<this.children.getCount();i=i+1|0)if(this.children.getItem(i)!=null&&!Bridge.staticEquals(this.children.getItem(i).onResize,null))this.children.getItem(i).onResize(this.children.getItem(i))},onResizing:function(){},isContentVisible:function(){return this.content!=null&&this.content.style.visibility==="visible"},changeHeadingButton:function(button,visible){visible===void 0&&(visible=!0);switch(button){case ExpressCraft.FormButtonType.Minimize:this.getButtonMinimize()!=null&&(ExpressCraft.Helper.delete(this.getButtonMinimize()),this.setButtonMinimize(null));visible&&this.setButtonMinimize(this.createFormButton(button));break;case ExpressCraft.FormButtonType.Maximize:this.getButtonExpand()!=null&&(ExpressCraft.Helper.delete(this.getButtonExpand()),this.setButtonExpand(null));visible&&this.setButtonExpand(this.createFormButton(button));break;case ExpressCraft.FormButtonType.Close:this.getButtonClose()!=null&&(ExpressCraft.Helper.delete(this.getButtonClose()),this.setButtonClose(null));visible&&this.setButtonClose(this.createFormButton(button))}},initialise:function(){},onShowing:function(){},onShowed:function(){},onClosing:function(){},onClosed:function(){},showBodyOverLayStyle:function(){if(this.getBodyOverLay()!=null&&this.getBodyOverLay().style.visibility==="collapse"){if(this.inDesign)return;this.getBodyOverLay().style.visibility="visible"}},setWindowState:function(State){this.allowSizeChange&&((this.setwindowState(State),State)===ExpressCraft.WindowState.Normal?(ExpressCraft.Helper.setBounds$1(this,this.prev_left,this.prev_top,this.prev_width,this.prev_height),this.resizing()):this.getwindowState()===ExpressCraft.WindowState.Maximized&&(ExpressCraft.Helper.getBoundInteger(this,Bridge.ref(this,"prev_left"),Bridge.ref(this,"prev_top"),Bridge.ref(this,"prev_width"),Bridge.ref(this,"prev_height")),ExpressCraft.Helper.setBounds$1(this,"0","0","calc(100% - 2px)","calc(100% - 2px)")),this.resizing())},changeWindowState:function(){this.getwindowState()===ExpressCraft.WindowState.Maximized?this.setWindowState(ExpressCraft.WindowState.Normal):this.setWindowState(ExpressCraft.WindowState.Maximized)},createFormButton:function(Type){var butt=ExpressCraft.Control.div$1("form-heading-button");switch(Type){case ExpressCraft.FormButtonType.Close:butt.classList.add("form-heading-button-close");butt.innerHTML="X";butt.onmousedown=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f24);butt.onmouseup=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f25);butt.onmouseenter=$asm.$.ExpressCraft.Form.f26;butt.onmouseleave=$asm.$.ExpressCraft.Form.f27;break;case ExpressCraft.FormButtonType.Maximize:this.getShowMinimize()&&(this.getButtonMinimize().style.left="calc(100% - 137px)");butt.style.left="calc(100% - 91px)";butt.innerHTML="&#9633;";butt.onmouseup=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f28);break;case ExpressCraft.FormButtonType.Minimize:butt.style.left=this.getShowMaximize()?"calc(100% - 137px)":"calc(100% - 91px)";butt.innerHTML="-";butt.onmouseup=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f29);break;case ExpressCraft.FormButtonType.Restore:break;case ExpressCraft.FormButtonType.Help:break;default:butt.onmouseup=$asm.$.ExpressCraft.Form.f30}return butt.ondblclick=$asm.$.ExpressCraft.Form.f31,butt.onmousemove=$asm.$.ExpressCraft.Form.f32,Type!==ExpressCraft.FormButtonType.Close&&(butt.onmousedown=Bridge.fn.bind(this,$asm.$.ExpressCraft.Form.f33)),butt},titleBarHeight:function(){return this.getHeading().clientHeight},titleBarWidth:function(){return this.getHeading().clientWidth},clientX:function(){return this.getBody().clientLeft},clientY:function(){return this.getBody().clientTop},getFormCollectionFromForm:function(){for(var visibleForms,x,i=0;i<ExpressCraft.Form.formCollections.getCount();i=i+1|0){if(Bridge.referenceEquals(this,ExpressCraft.Form.formCollections.getItem(i).formOwner))return ExpressCraft.Form.formCollections.getItem(i);for(visibleForms=ExpressCraft.Form.formCollections.getItem(i).visibleForms,x=0;x<visibleForms.getCount();x=x+1|0)if(Bridge.referenceEquals(visibleForms.getItem(x),this))return ExpressCraft.Form.formCollections.getItem(i)}return null},isActiveFormCollection:function(){return Bridge.referenceEquals(this.getFormCollectionFromForm(this),ExpressCraft.Form.getActiveFormCollection())},isVisible:function(){return this.getFormCollectionFromForm(this)!=null},showStartNewLevel:function(owner){if(owner===void 0&&(owner=null),this.getHasSetup()||ExpressCraft.Form.setup(),this.isVisible())throw new System.Exception("Invalid request to open form as a dialog that is already visible!");this.addFormToParentElement(owner);this.getBody().focus();ExpressCraft.Form.formCollections.add(new ExpressCraft.FormCollection(this));ExpressCraft.Form.calculateZOrder();this.onShowed();ExpressCraft.Form.setActiveForm(this)},showDialog:function(dialogResults){dialogResults===void 0&&(dialogResults=[]);this.getHasSetup()||ExpressCraft.Form.setup();this.inDialogResult=!1;this.getButtonMinimize()!=null&&ExpressCraft.Helper.delete(this.getButtonMinimize());this.getButtonExpand()!=null&&ExpressCraft.Helper.delete(this.getButtonExpand());this.getButtonClose()!=null&&ExpressCraft.Helper.delete(this.getButtonClose());this.startPosition=ExpressCraft.FormStartPosition.Center;this._IsDialog=!0;this.showStartNewLevel(null);this.centreForm();ExpressCraft.Form.setActiveForm(this);dialogResults!=null&&dialogResults.length>0&&this.dialogResults.addRange(dialogResults)},minZero$1:function(input){return input<0?0:input},minZero:function(input){return input<0?0:input},centreForm:function(){this.getOwner()!=null&&this.self.css("left",this.minZero((Bridge.Int.div(this.getOwner().clientWidth,2)|0)-(Bridge.Int.div(parseInt(ExpressCraft.Helper.toHtmlValue(this.getWidth())),2)|0)|0)).css("top",this.minZero((Bridge.Int.div(this.getOwner().clientHeight,2)|0)-(Bridge.Int.div(parseInt(ExpressCraft.Helper.toHtmlValue(this.getHeight())),2)|0)|0))},addFormToParentElement:function(owner){owner===void 0&&(owner=null);this.getHasRendered()||(this.render(),this.setHasRendered(!0));this.onShowing();owner==null?(ExpressCraft.Form.getWindowHolder().appendChild(this.content),owner=ExpressCraft.Form.getWindowHolder()):owner.appendChild(this.content);this.shown();this.setOwner(owner)},shown:function(){if(this.children!=null){for(var i=0;i<this.children.getCount();i=i+1|0)if(this.children.getItem(i)!=null&&!Bridge.staticEquals(this.children.getItem(i).onLoaded,null))this.children.getItem(i).onLoaded(this.children.getItem(i));this.children.remove(null)}},show:function(owner){var activeCollect,visbileForms;if(owner===void 0&&(owner=null),this.getHasSetup()||ExpressCraft.Form.setup(),!this._IsDialog){if(ExpressCraft.Form.formCollections==null||ExpressCraft.Form.formCollections.getCount()===0){this.showStartNewLevel(owner);return}if(activeCollect=ExpressCraft.Form.getActiveFormCollection(),visbileForms=activeCollect.visibleForms,!visbileForms.contains(this)){if(this.addFormToParentElement(owner),this.content.style.visibility="visible",this.startPosition!==ExpressCraft.FormStartPosition.Manual&&this.getwindowState()===ExpressCraft.WindowState.Normal)if(this.startPosition===ExpressCraft.FormStartPosition.Center||activeCollect==null||visbileForms==null||visbileForms.getCount()===0||visbileForms.getItem(visbileForms.getCount()-1|0).getwindowState()!==ExpressCraft.WindowState.Normal||visbileForms.getItem(visbileForms.getCount()-1|0).content==null)this.centreForm();else if(this.startPosition===ExpressCraft.FormStartPosition.WindowsDefaultLocation){var obj=visbileForms.getItem(visbileForms.getCount()-1|0),x=parseInt(ExpressCraft.Helper.toHtmlValue(obj.getLeft())),y=parseInt(ExpressCraft.Helper.toHtmlValue(obj.getTop())),pw25=this.getOwner().clientWidth*.15,ph25=this.getOwner().clientHeight*.15,pw75=this.getOwner().clientWidth*.55,ph75=this.getOwner().clientHeight*.55;x<pw25&&(x=Bridge.Int.clip32(pw25));y<ph25&&(y=Bridge.Int.clip32(ph25));x>pw75&&(x=Bridge.Int.clip32(pw25));y>ph75&&(y=Bridge.Int.clip32(ph25));x=x+10|0;y=y+10|0;this.self.css("left",this.minZero(x)).css("top",this.minZero(y))}this.getBody().focus();visbileForms.add(this);ExpressCraft.Form.calculateZOrder();this.onShowed()}ExpressCraft.Form.setActiveForm(this)}},bringToFront:function(){var activeCollect=ExpressCraft.Form.getActiveFormCollection(),visibleForms;if(activeCollect!=null){if(Bridge.referenceEquals(activeCollect.formOwner,this))return;visibleForms=activeCollect.visibleForms;visibleForms!=null&&visibleForms.getCount()>1&&(visibleForms.remove(this),visibleForms.add(this));ExpressCraft.Form.calculateZOrder()}},setZIndex:function(zIndex){this.content.style.zIndex=Bridge.identity(zIndex.v,zIndex.v=zIndex.v+1|0).toString()},close:function(){var ownerFormCollection,i,i1;if(!this._IsDialog||!this.inDialogResult){if(this.onClosing(),ExpressCraft.Form.toClean.add(this),ownerFormCollection=this.getFormCollectionFromForm(this),ownerFormCollection!=null)if(Bridge.referenceEquals(ownerFormCollection.formOwner,this)){for(ownerFormCollection.formOwner=null,i=0;i<ownerFormCollection.visibleForms.getCount();i=i+1|0)Bridge.referenceEquals(ownerFormCollection.visibleForms.getItem(i),this)||ownerFormCollection.visibleForms.getItem(i).close();ExpressCraft.Form.formCollections.getCount()===1&&(ExpressCraft.Form.formCollections=new(System.Collections.Generic.List$1(ExpressCraft.FormCollection)))}else ownerFormCollection.visibleForms.remove(this);if(this.content!=null&&(this.forReuse?this.content.style.visibility="collapse":(ExpressCraft.Helper.empty(this.content),this.content!=null&&(ExpressCraft.Helper.delete(this.content),this.content=null))),ExpressCraft.Form.calculateZOrder(),ExpressCraft.Form.setActiveForm(ExpressCraft.Form._PrevActiveForm),this._IsDialog&&(this.inDialogResult=!0,this.dialogResult!==ExpressCraft.DialogResultEnum.None&&this.dialogResults!=null&&this.dialogResults.getCount()>0))for(i1=0;i1<this.dialogResults.getCount();i1=i1+1|0)this.dialogResults.getItem(i1).invokeIfResult(this.dialogResult);this.onClosed()}}});Bridge.ns("ExpressCraft.Form",$asm.$);Bridge.apply($asm.$.ExpressCraft.Form,{f1:function(ev){ev.preventDefault()},f2:function(){System.Linq.Enumerable.from(document.body.childNodes).contains(ExpressCraft.Form.getWindowHolder())&&document.body.removeChild(ExpressCraft.Form.getWindowHolder())},f3:function(){System.Linq.Enumerable.from(document.body.childNodes).contains(ExpressCraft.Form.getWindowHolder())||document.body.appendChild(ExpressCraft.Form.getWindowHolder())},f4:function(ev){document.activeElement!=null&&(document.activeElement.focus(),ev.preventDefault())},f5:function(){if(ExpressCraft.Form.getActiveForm()!=null){var form=ExpressCraft.Form.getActiveForm();form.getHeading().classList.add("form-heading-flash");Bridge.global.setTimeout(function(){form.getHeading().classList.remove("form-heading-flash")},800)}},f6:function(ev){ev.stopPropagation();ev.preventDefault()},f7:function(){var i,fc,x;if(ExpressCraft.Form.formCollections!=null)for(i=0;i<ExpressCraft.Form.formCollections.getCount();i=i+1|0)if(ExpressCraft.Form.formCollections.getItem(i)!=null)for(fc=ExpressCraft.Form.formCollections.getItem(i),fc.formOwner!=null&&fc.formOwner.resizing(),x=0;x<fc.visibleForms.getCount();x=x+1|0)fc.visibleForms.getItem(x)!=null&&fc.visibleForms.getItem(x).resizing()},f8:function(ev){var mev,Y,X;if(!ExpressCraft.Form.inExternalMouseEvent&&(mev=ev,ExpressCraft.Form.movingForm!=null)){ev.preventDefault();ev.stopImmediatePropagation();ev.stopPropagation();ExpressCraft.Form.movingForm.getBodyOverLay().style.visibility==="collapse"&&(ExpressCraft.Form.movingForm.inDesign?ExpressCraft.Form._ActiveForm.getBodyOverLay().style.visibility="collapse":ExpressCraft.Form.movingForm.getBodyOverLay().style.visibility="visible",ExpressCraft.Form.movingForm.getHeading().focus());Y=mev.pageY+ExpressCraft.Form.movingForm.prev_py|0;X=mev.pageX+ExpressCraft.Form.movingForm.prev_px|0;ExpressCraft.Form.movingForm.getwindowState()===ExpressCraft.WindowState.Maximized&&ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.Move&&(ExpressCraft.Form.movingForm.changeWindowState(),X=mev.pageX-(Bridge.Int.div(ExpressCraft.Form.movingForm.prev_width,2)|0)|0,ExpressCraft.Form.movingForm.prev_px=X-mev.pageX|0);var obj=ExpressCraft.Form.movingForm.self,X1={},Y1={},W={},H={};Y<0&&(Y=1);X<0&&(X=1);switch(ExpressCraft.Form.moveAction){case ExpressCraft.MouseMoveAction.Move:ExpressCraft.Helper.setLocation(ExpressCraft.Form.movingForm.content,X,Y);break;case ExpressCraft.MouseMoveAction.TopLeftResize:ExpressCraft.Helper.getBoundInteger(ExpressCraft.Form.movingForm,X1,Y1,W,H);W.v=W.v-(X-X1.v|0)|0;H.v=H.v-(Y-Y1.v|0)|0;W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(X=X-(ExpressCraft.Form.movingForm.getMinWidth()-W.v|0)|0,W.v=ExpressCraft.Form.movingForm.getMinWidth());H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(Y=Y-(ExpressCraft.Form.movingForm.getMinHeight()-H.v|0)|0,H.v=ExpressCraft.Form.movingForm.getMinHeight());ExpressCraft.Helper.setBounds(ExpressCraft.Form.movingForm.content,X,Y,W.v,H.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.TopResize:Y1.v=parseInt(obj.css("top"));H.v=parseInt(obj.css("height"));H.v=H.v-(Y-Y1.v|0)|0;H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(Y=Y-(ExpressCraft.Form.movingForm.getMinHeight()-H.v|0)|0,H.v=ExpressCraft.Form.movingForm.getMinHeight());obj.css("top",Y).css("height",H.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.TopRightResize:ExpressCraft.Helper.getBoundInteger(ExpressCraft.Form.movingForm,X1,Y1,W,H);H.v=H.v-(Y-Y1.v|0)|0;W.v=mev.pageX-X1.v|0;H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(Y=Y-(ExpressCraft.Form.movingForm.getMinHeight()-H.v|0)|0,H.v=ExpressCraft.Form.movingForm.getMinHeight());W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(W.v=ExpressCraft.Form.movingForm.getMinWidth());obj.css("top",Y).css("height",H.v).css("width",W.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.LeftResize:X1.v=parseInt(obj.css("left"));W.v=parseInt(obj.css("width"));W.v=W.v-(mev.pageX-X1.v|0)|0;W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(X=X-(ExpressCraft.Form.movingForm.getMinWidth()-W.v|0)|0,W.v=ExpressCraft.Form.movingForm.getMinWidth());obj.css("left",X).css("width",W.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.BottomLeftResize:ExpressCraft.Helper.getBoundInteger(ExpressCraft.Form.movingForm,X1,Y1,W,H);W.v=W.v-(X-X1.v|0)|0;H.v=mev.pageY-Y1.v|0;W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(X=X-(ExpressCraft.Form.movingForm.getMinWidth()-W.v|0)|0,W.v=ExpressCraft.Form.movingForm.getMinWidth());H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(H.v=ExpressCraft.Form.movingForm.getMinHeight());obj.css("left",X).css("width",W.v).css("height",H.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.BottomResize:Y1.v=parseInt(obj.css("top"));H.v=parseInt(obj.css("height"));H.v=mev.pageY-Y1.v|0;H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(H.v=ExpressCraft.Form.movingForm.getMinHeight());obj.css("height",H.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.RightResize:X1.v=parseInt(obj.css("left"));W.v=parseInt(obj.css("width"));W.v=mev.pageX-X1.v|0;W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(W.v=ExpressCraft.Form.movingForm.getMinWidth());obj.css("width",W.v);ExpressCraft.Form.movingForm.resizing();break;case ExpressCraft.MouseMoveAction.BottomRightResize:ExpressCraft.Helper.getBoundInteger(ExpressCraft.Form.movingForm,X1,Y1,W,H);W.v=mev.pageX-X1.v|0;H.v=mev.pageY-Y1.v|0;H.v<ExpressCraft.Form.movingForm.getMinHeight()&&(H.v=ExpressCraft.Form.movingForm.getMinHeight());W.v<ExpressCraft.Form.movingForm.getMinWidth()&&(W.v=ExpressCraft.Form.movingForm.getMinWidth());obj.css("width",W.v).css("height",H.v);ExpressCraft.Form.movingForm.resizing()}}},f9:function(){ExpressCraft.Form.inExternalMouseEvent=!1;ExpressCraft.Form.movingForm!=null&&(ExpressCraft.Form.movingForm.getBodyOverLay().style.visibility="collapse");ExpressCraft.Form.movingForm=null;ExpressCraft.Form.setMouse_Down(!1);ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.Move},f10:function(){if(!ExpressCraft.Settings.allowCloseWithoutQuestion)return"Would you like to close this application?"},f11:function(message,url,lineNumber,columnNumber,error){var $t,errStr,msgBox;if(ExpressCraft.Form.inErrorDialog)return!1;try{ExpressCraft.Form.inErrorDialog=!0;errStr=System.String.concat("Error: ",message,"\nurl: ",url,"\nline: ",lineNumber,"\ncol: ",columnNumber,"\nError: ",($t=error,$t!=null?$t:"").toString());ExpressCraft.Application.getAplicationDefition()===ExpressCraft.ApplicationDefitnion.ExpressCraftConsole&&ExpressCraft.ConsoleForm.log(message,ExpressCraft.ConsoleLogType.Error);ExpressCraft.Settings.showExceptionDialog&&(msgBox=new ExpressCraft.MessageBoxForm.ctor(errStr,ExpressCraft.MessageBoxLayout.Error),msgBox.showDialog())}catch($e1){$e1=System.Exception.create($e1)}finally{ExpressCraft.Form.inErrorDialog=!1}return!1},f12:function(ev){Bridge.referenceEquals(ev.target,this.getBody())&&(ev.stopPropagation(),ev.preventDefault())},f13:function(ev){var mev;if(!ExpressCraft.Form.inExternalMouseEvent&&this.isActiveFormCollection()){mev=ev;mev.stopPropagation();ExpressCraft.Form.setMouse_Down(!0);ExpressCraft.Form.movingForm=this;ExpressCraft.Form.setActiveForm(this);ExpressCraft.Form.setBodyOverLay();this.prev_px=parseInt(this.self.css("left"))-mev.pageX|0;this.prev_py=parseInt(this.self.css("top"))-mev.pageY|0;var width=this.content.clientWidth,height=this.content.clientHeight,X=mev.pageX-this.content.offsetLeft|0,Y=mev.pageY-this.content.offsetTop|0;if(this.getwindowState()===ExpressCraft.WindowState.Maximized)ExpressCraft.Form.setCursor("default"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.Move;else{if(this.inDesign)return;this.getHeadingTitle()!=null&&Bridge.referenceEquals(ev.target,this.getHeadingTitle())?(ExpressCraft.Form.setCursor("default"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.Move):this.allowSizeChange&&(X<=ExpressCraft.Form.getResizeCorners()&&Y<=ExpressCraft.Form.getResizeCorners()?(ExpressCraft.Form.setCursor("nwse-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.TopLeftResize):Y<=ExpressCraft.Form.getResizeCorners()&&X>=(width-ExpressCraft.Form.getResizeCorners()|0)?(ExpressCraft.Form.setCursor("nesw-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.TopRightResize):Y<=ExpressCraft.Form.getResizeCorners()?(ExpressCraft.Form.setCursor("n-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.TopResize):X<=ExpressCraft.Form.getResizeCorners()&&Y>=(height-ExpressCraft.Form.getResizeCorners()|0)?(ExpressCraft.Form.setCursor("nesw-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.BottomLeftResize):Y>=(height-ExpressCraft.Form.getResizeCorners()|0)&&X>=(width-ExpressCraft.Form.getResizeCorners()|0)?(ExpressCraft.Form.setCursor("nwse-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.BottomRightResize):Y>=(height-ExpressCraft.Form.getResizeCorners()|0)?(ExpressCraft.Form.setCursor("s-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.BottomResize):X<=ExpressCraft.Form.getResizeCorners()?(ExpressCraft.Form.setCursor("w-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.LeftResize):X>=(width-ExpressCraft.Form.getResizeCorners()|0)?(ExpressCraft.Form.setCursor("e-resize"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.RightResize):(ExpressCraft.Form.setCursor("default"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.Move))}this.allowMoveChange||ExpressCraft.Form.moveAction!==ExpressCraft.MouseMoveAction.Move||(ExpressCraft.Form.setCursor("default"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.None)}},f14:function(ev){this.allowSizeChange&&this.changeWindowState();ev.preventDefault();ev.stopPropagation()},f15:function(){ExpressCraft.Form.movingForm==null&&ExpressCraft.Form.setCursor("default")},f16:function(){ExpressCraft.Form.setCursor("default")},f17:function(ev){if(!ExpressCraft.Form.inExternalMouseEvent&&!Bridge.referenceEquals(ev.target,this.getHeadingTitle())){var mev=ev,width=this.content.clientWidth,height=this.content.clientHeight,X=mev.pageX-this.content.offsetLeft|0,Y=mev.pageY-this.content.offsetTop|0;if(ExpressCraft.Form.movingForm!=null&&ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.Move){ExpressCraft.Form.setCursor("default");return}if(this.getwindowState()===ExpressCraft.WindowState.Maximized){ExpressCraft.Form.setCursor("default");return}this.inDesign||(this.allowSizeChange?ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.TopLeftResize||X<=ExpressCraft.Form.getResizeCorners()&&Y<=ExpressCraft.Form.getResizeCorners()?ExpressCraft.Form.setCursor("nwse-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.TopRightResize||Y<=ExpressCraft.Form.getResizeCorners()&&X>=(width-ExpressCraft.Form.getResizeCorners()|0)?ExpressCraft.Form.setCursor("nesw-resize"):Y<=ExpressCraft.Form.getResizeCorners()||ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.TopResize?ExpressCraft.Form.setCursor("n-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.BottomLeftResize||X<=ExpressCraft.Form.getResizeCorners()&&Y>=(height-ExpressCraft.Form.getResizeCorners()|0)?ExpressCraft.Form.setCursor("nesw-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.BottomRightResize||Y>=(height-ExpressCraft.Form.getResizeCorners()|0)&&X>=(width-ExpressCraft.Form.getResizeCorners()|0)?ExpressCraft.Form.setCursor("nwse-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.BottomResize||Y>=(height-ExpressCraft.Form.getResizeCorners()|0)?ExpressCraft.Form.setCursor("s-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.LeftResize||X<=ExpressCraft.Form.getResizeCorners()?ExpressCraft.Form.setCursor("w-resize"):ExpressCraft.Form.moveAction===ExpressCraft.MouseMoveAction.RightResize||X>=(width-ExpressCraft.Form.getResizeCorners()|0)?ExpressCraft.Form.setCursor("e-resize"):ExpressCraft.Form.setCursor("default"):ExpressCraft.Form.setCursor("default"))}},f18:function(){(ExpressCraft.Form.setBodyOverLay(),this.isActiveFormCollection())&&(this.getwindowState()===ExpressCraft.WindowState.Maximized?(ExpressCraft.Form.movingForm=this,ExpressCraft.Form.setCursor("default"),ExpressCraft.Form.moveAction=ExpressCraft.MouseMoveAction.Move):ExpressCraft.Form.movingForm=this,ExpressCraft.Form.setActiveForm(this))},f19:function(ev){ExpressCraft.Form.inExternalMouseEvent||this.isActiveFormCollection()&&(ExpressCraft.Form.setActiveForm(this),ExpressCraft.Form.movingForm=null,ev.stopPropagation())},f20:function(ev){if(!ExpressCraft.Form.inExternalMouseEvent&&ExpressCraft.Form.movingForm==null){if(!this.isActiveFormCollection())return;ev.stopPropagation()}},f21:function(){if(this.inDesign){this.getBodyOverLay().style.visibility="collapse";return}this.isActiveFormCollection()&&(this.getBodyOverLay().style.visibility="collapse",ExpressCraft.Form.setActiveForm(this))},f22:function(){if(this.inDesign){this.getBodyOverLay().style.visibility="collapse";return}ExpressCraft.Form.movingForm==null&&ExpressCraft.Form.setBodyOverLay()},f23:function(){if(this.inDesign){this.getBodyOverLay().style.visibility="collapse";return}ExpressCraft.Form.movingForm==null&&this.isActiveFormCollection()?(ExpressCraft.Form.setCursor("default"),this.getBodyOverLay().style.visibility="collapse"):this.getBodyOverLay().style.visibility="visible"},f24:function(ev){ExpressCraft.Form.movingForm==null&&(ExpressCraft.Form.setMouse_Down(!0),ev.stopPropagation(),ev.preventDefault(),ExpressCraft.Form.setActiveForm(this))},f25:function(ev){ExpressCraft.Form.movingForm==null&&((ev.stopPropagation(),ev.preventDefault(),this.inDesign)||this.close())},f26:function(){ExpressCraft.Form.movingForm==null&&ExpressCraft.Form.setCursor("default")},f27:function(){ExpressCraft.Form.movingForm!=null},f28:function(ev){ExpressCraft.Form.movingForm==null&&(ev.stopPropagation(),ev.preventDefault(),ExpressCraft.Form.setMouse_Down(!1),this.changeWindowState())},f29:function(ev){ExpressCraft.Form.movingForm==null&&(ev.stopPropagation(),ev.preventDefault(),ExpressCraft.Form.setMouse_Down(!1),this.setwindowState(ExpressCraft.WindowState.Minimized))},f30:function(ev){ExpressCraft.Form.movingForm==null&&(ev.stopPropagation(),ev.preventDefault(),ExpressCraft.Form.setMouse_Down(!1))},f31:function(ev){ev.stopPropagation()},f32:function(ev){ExpressCraft.Form.movingForm==null&&(ev.stopImmediatePropagation(),ev.preventDefault())},f33:function(ev){ExpressCraft.Form.movingForm==null&&(ExpressCraft.Form.setMouse_Down(!0),ev.stopPropagation(),ev.preventDefault(),ExpressCraft.Form.setActiveForm(this))}});Bridge.define("ExpressCraft.ContextMenu",{inherits:[ExpressCraft.Control],statics:{totalContextHandles:0,mainContextMenu:null},subContextOpened:null,contextItems:null,visible:!1,config:{init:function(){this.contextItems=new(System.Collections.Generic.List$1(ExpressCraft.ContextItem))}},ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"contextmenu");this.content.onmouseleave=Bridge.fn.bind(this,$asm.$.ExpressCraft.ContextMenu.f1)},renderContextMenu:function(){var x=0,ii=-1,i,y,calwidth,width,top,i1;for(ExpressCraft.Helper.empty(this.content),i=0;i<this.contextItems.getCount();i=i+1|0)y=this.contextItems.getItem(i).caption.length,y>x&&(x=y,ii=i);if(ii!==-1){for(calwidth=Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(this.contextItems.getItem(ii).caption,ExpressCraft.Settings.defaultFont)),calwidth<ExpressCraft.Settings.contextMenuMinWidth&&(calwidth=ExpressCraft.Settings.contextMenuMinWidth),width=((calwidth+34|0)+8|0)+2|0,top=1,i1=0;i1<this.contextItems.getCount();i1=i1+1|0)(function(){var contextItem=this.contextItems.getItem(i1),y1=contextItem.caption.length,item=ExpressCraft.Control.label$1(contextItem.caption,1,top,width-2|0,!1,!1,"contextitem"),sep;item.onclick=Bridge.fn.bind(this,function(){if(contextItem.enabled){if(!Bridge.staticEquals(contextItem.onItemClick,null))contextItem.onItemClick(contextItem);this.close()}});this.content.appendChild(item);top=top+24|0;this.contextItems.getItem(i1).beginGroup&&i1!==this.contextItems.getCount()&&(top=top+1|0,sep=ExpressCraft.Control.div$1("contextitemseperator"),sep.style.top=ExpressCraft.Helper.toPx$1(top),sep.style.width=ExpressCraft.Helper.toPx$1(calwidth),this.content.appendChild(sep),top=top+2|0)}).call(this);top=top+1|0;ExpressCraft.Helper.setSize(this.content,width,top)}},show:function(Location){ExpressCraft.ContextMenu.mainContextMenu!=null&&(ExpressCraft.ContextMenu.mainContextMenu.close(),ExpressCraft.ContextMenu.mainContextMenu=null);ExpressCraft.ContextMenu.mainContextMenu=this;this.visible&&this.close();this.visible||(ExpressCraft.Helper.setLocation(this.content,Location.getXi()-5|0,Location.getYi()-5|0),this.renderContextMenu(),ExpressCraft.ContextMenu.totalContextHandles=ExpressCraft.ContextMenu.totalContextHandles+1|0,this.content.style.zIndex=(ExpressCraft.ContextMenu.totalContextHandles+ExpressCraft.Settings.contextMenuStartingZIndex|0).toString(),document.body.appendChild(ExpressCraft.Control.op_Implicit(this)),this.visible=!0)},close:function(){this.visible&&(ExpressCraft.ContextMenu.totalContextHandles=ExpressCraft.ContextMenu.totalContextHandles-1|0,document.body.removeChild(ExpressCraft.Control.op_Implicit(this)),this.visible=!1);this.subContextOpened!=null&&(this.subContextOpened.close(),this.subContextOpened=null)}});Bridge.ns("ExpressCraft.ContextMenu",$asm.$);Bridge.apply($asm.$.ExpressCraft.ContextMenu,{f1:function(){this.close()}});Bridge.define("ExpressCraft.DataColumnBool",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(Boolean)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Bool}});Bridge.define("ExpressCraft.DataColumnByte",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Byte)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Byte}});Bridge.define("ExpressCraft.DataColumnDateTime",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(Date)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.DateTime}});Bridge.define("ExpressCraft.DataColumnDecimal",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Decimal)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Decimal}});Bridge.define("ExpressCraft.DataColumnDouble",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Double)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Double}});Bridge.define("ExpressCraft.DataColumnFloat",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Single)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Float}});Bridge.define("ExpressCraft.DataColumnInteger",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Int32)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Integer}});Bridge.define("ExpressCraft.DataColumnLong",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Int64)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Long}});Bridge.define("ExpressCraft.DataColumnObject",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(Object))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Object}});Bridge.define("ExpressCraft.DataColumnShort",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(System.Nullable$1(System.Int16)))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.Short}});Bridge.define("ExpressCraft.DataColumnString",{inherits:[ExpressCraft.DataColumn],cells:null,config:{init:function(){this.cells=new(System.Collections.Generic.List$1(String))}},ctor:function(){this.$initialize();ExpressCraft.DataColumn.ctor.call(this);this.dataType=ExpressCraft.DataType.String}});Bridge.define("ExpressCraft.GridLookupEdit",{inherits:[ExpressCraft.Control],gridView:null,fieldName:null,displayName:null,visible:!1,ctor:function(){this.$initialize();ExpressCraft.Control.$ctor4.call(this,"inputcontrol",ExpressCraft.ComboBoxTypes.Default);this.gridView=Bridge.merge(new ExpressCraft.GridView(!0,!0),{setSize:new ExpressCraft.Vector2.$ctor1(250,400)});this.gridView.contextMenu=null;this.gridView.onFocusedRowChanged=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridLookupEdit.f1);this.gridView.content.onmouseleave=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridLookupEdit.f2);this.content.onmousedown=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridLookupEdit.f3)},showPopup:function(){if(!this.visible){var x=this.content.getBoundingClientRect();this.gridView.setLocation(new ExpressCraft.Vector2.$ctor1(x.left,x.top+x.height));ExpressCraft.ContextMenu.totalContextHandles=ExpressCraft.ContextMenu.totalContextHandles+1|0;this.content.parentElement.appendChild(ExpressCraft.Control.op_Implicit(this.gridView));this.gridView.renderGrid();this.gridView.content.style.zIndex=(ExpressCraft.ContextMenu.totalContextHandles+ExpressCraft.Settings.contextMenuStartingZIndex|0).toString();this.visible=!0}},closePopup:function(){this.visible&&(this.gridView.content.parentElement.removeChild(ExpressCraft.Control.op_Implicit(this.gridView)),ExpressCraft.ContextMenu.totalContextHandles=ExpressCraft.ContextMenu.totalContextHandles-1|0,this.visible=!1)}});Bridge.ns("ExpressCraft.GridLookupEdit",$asm.$);Bridge.apply($asm.$.ExpressCraft.GridLookupEdit,{f1:function(rowHandle){ExpressCraft.Helper.empty(this.content);rowHandle>-1&&this.content.appendChild(Bridge.merge(document.createElement("option"),{innerHTML:Bridge.as(this.gridView.getRowCellValue$3(rowHandle,this.displayName),String),value:Bridge.as(this.gridView.getRowCellValue$3(rowHandle,this.fieldName),String)}));this.visible&&this.closePopup()},f2:function(){this.closePopup()},f3:function(ev){ev.preventDefault();ev.stopImmediatePropagation();this.visible?this.closePopup():this.showPopup()}});Bridge.define("ExpressCraft.GridView",{inherits:[ExpressCraft.Control],statics:{SortDownBase64:"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",SortUpBase64:"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",UnitHeight:28},gridHeader:null,gridHeaderContainer:null,gridBodyContainer:null,gridBody:null,bottonOfTable:null,rightOfTable:null,rightOfTableHeader:null,_dataSource:null,onFocusedRowChanged:null,onRowDoubleClick:null,onCustomRowStyle:null,onRowClick:null,onDoubleClick:null,onCellRowMouseDown:null,selectedRows:null,visibleRowHandles:null,_allowRowDrag:!1,autoGenerateColumnsFromSource:!0,allowMultiSelection:!0,showAutoFilterRow:!1,_columnAutoWidth:!1,_focusedcolumn:-1,_focusedDataHandle:-1,_columnHeadersVisible:!0,_useEditForm:!0,sortSettings:null,columns:null,prevRenderGridScrollId:-1,clickTimeDiff:null,dragIndex:-1,resizeIndex:-1,resizePageX:0,resizeSpan:null,onColumnOnClick:null,onColumnDragStart:null,onColumnDragOver:null,onColumnDrop:null,onColumnMouseDown:null,onColumnMouseMove:null,onColumnMouseLeave:null,onRowDragStart:null,lastId:-1,prevScroll:-1,filterRowOnChange:null,config:{init:function(){this.selectedRows=new(ExpressCraft.HardSoftList$1(Boolean))(!1);this.columns=new(System.Collections.Generic.List$1(ExpressCraft.GridViewColumn))}},ctor:function(autoGenerateColumns,columnAutoWidth){autoGenerateColumns===void 0&&(autoGenerateColumns=!0);columnAutoWidth===void 0&&(columnAutoWidth=!1);this.$initialize();ExpressCraft.Control.$ctor1.call(this,"grid");this.content.style.overflow="hidden";this.gridHeaderContainer=ExpressCraft.Control.div$1("heading-container");this.gridHeader=ExpressCraft.Control.div();ExpressCraft.Helper.setBounds(this.gridHeader,"0","0","0","29px");this.gridBodyContainer=ExpressCraft.Control.div();this.gridBodyContainer.style.overflowX="auto";this.gridBodyContainer.style.overflowY="auto";this.gridHeaderContainer.style.overflow="hidden";this.gridBody=ExpressCraft.Control.div();ExpressCraft.Helper.setBounds(this.gridBody,"0","0","0","0");this.gridBodyContainer.appendChild(this.gridBody);this.gridHeaderContainer.appendChild(this.gridHeader);this.setDefaultSizes();this.content.onmouseup=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f1);this.onResize=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f2);this.gridBodyContainer.onscroll=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f2);this.onLoaded=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f3);this.onCellRowMouseDown=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f4);this.onRowClick=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f5);this.content.tabIndex=0;this.onDoubleClick=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f6);this.content.onkeydown=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f7);this.contextMenu=new ExpressCraft.ContextMenu;this.contextMenu.contextItems.addRange(System.Array.init([new ExpressCraft.ContextItem.$ctor1("Sort Ascending",Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f8)),new ExpressCraft.ContextItem.$ctor1("Sort Descending",Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f9)),new ExpressCraft.ContextItem.$ctor1("Clear All Sorting",Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f10),!0),new ExpressCraft.ContextItem.$ctor2("Group By This Column"),new ExpressCraft.ContextItem.$ctor2("Hide Group By Box",!0),new ExpressCraft.ContextItem.$ctor2("Hide This Column"),new ExpressCraft.ContextItem.$ctor2("View Columns"),new ExpressCraft.ContextItem.$ctor2("Save Column Layout"),new ExpressCraft.ContextItem.$ctor2("Best Fit"),new ExpressCraft.ContextItem.$ctor2("Best Fit (all columns)",!0),new ExpressCraft.ContextItem.$ctor2("Filter Editor..."),new ExpressCraft.ContextItem.$ctor2("Show Find Panel"),new ExpressCraft.ContextItem.$ctor2("Show Auto Filter Row"),new ExpressCraft.ContextItem.$ctor1("Select All",Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f11)),new ExpressCraft.ContextItem.$ctor1("Unselect All",Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f12))],ExpressCraft.ContextItem));this.content.oncontextmenu=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f13);this.onColumnOnClick=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f14);this.onColumnDragStart=$asm.$.ExpressCraft.GridView.f15;this.onColumnDragOver=$asm.$.ExpressCraft.GridView.f16;this.onColumnDrop=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f17);this.onColumnMouseDown=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f18);this.onColumnMouseMove=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f19);this.onColumnMouseLeave=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f20);this.onRowDragStart=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f21);ExpressCraft.Helper.appendChildren(this.content,[this.gridHeaderContainer,this.gridBodyContainer]);this.filterRowOnChange=Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f22);this.autoGenerateColumnsFromSource=autoGenerateColumns;this.setColumnAutoWidth(columnAutoWidth)},getAllowRowDrag:function(){return this._allowRowDrag},setAllowRowDrag:function(value){this._allowRowDrag!==value&&(this._allowRowDrag=value,this.renderGrid())},getShowAutoFilterRow:function(){return this.showAutoFilterRow},setShowAutoFilterRow:function(value){if(this.showAutoFilterRow!==value){if(this.showAutoFilterRow=value,!this.showAutoFilterRow){for(var i=0;i<this.columnCount();i=i+1|0)this.columns.getItem(i).filterEdit=null,this.columns.getItem(i).setFilterValue(null);this.calculateVisibleRows()}this.renderGrid()}},getFocusedColumn:function(){return this._focusedcolumn},setFocusedColumn:function(value){if(value!==this.getFocusedColumn()){var prev=this._focusedcolumn;this._focusedcolumn=value}},getFocusedDataHandle:function(){return this._focusedDataHandle},setFocusedDataHandle:function(value){if(value!==this._focusedDataHandle){var prev=this._focusedDataHandle;if(this._focusedDataHandle=value,this.renderGrid(),!Bridge.staticEquals(this.onFocusedRowChanged,null))this.onFocusedRowChanged(this._focusedDataHandle,prev)}},getColumnHeadersVisible:function(){return this._columnHeadersVisible},setColumnHeadersVisible:function(value){value!==this._columnHeadersVisible&&(this._columnHeadersVisible=value,this.setDefaultSizes(),this.renderGrid())},getColumnAutoWidth:function(){return this._columnAutoWidth},setColumnAutoWidth:function(value){this.gridBodyContainer.style.overflowX=value?"hidden":"auto";this._columnAutoWidth!==value&&(this._columnAutoWidth=value,this.renderGrid())},getUseEditForm:function(){return this._useEditForm},setUseEditForm:function(value){value!==this._useEditForm&&(this._useEditForm=value,this.renderGrid())},getDataSource:function(){return this._dataSource},setDataSource:function(value){var sw,i,sw1,gvc;if(this.setFocusedDataHandle(-1),this.selectedRows=new(ExpressCraft.HardSoftList$1(Boolean))(!1),this.visibleRowHandles=new(System.Collections.Generic.List$1(System.Int32)),this._dataSource!=null&&this._dataSource.removeOnDataSourceChanged(Bridge.fn.cacheBind(this,this.dataSource_OnDataSourceChanged)),this._dataSource=value,this._dataSource!=null){if(this._dataSource.addOnDataSourceChanged(Bridge.fn.cacheBind(this,this.dataSource_OnDataSourceChanged)),this.columns.getCount()===0&&this.autoGenerateColumnsFromSource){for(sw=System.Diagnostics.Stopwatch.startNew(),i=0;i<this._dataSource.getColumnCount();i=i+1|0){sw1=System.Diagnostics.Stopwatch.startNew();gvc=new ExpressCraft.GridViewColumn(this);gvc.caption=this._dataSource.columns.getItem(i).fieldName;gvc.column=this._dataSource.columns.getItem(i);gvc.visible=!0;switch(this._dataSource.columns.getItem(i).dataType){case ExpressCraft.DataType.Byte:case ExpressCraft.DataType.Short:case ExpressCraft.DataType.Integer:case ExpressCraft.DataType.Long:case ExpressCraft.DataType.Float:case ExpressCraft.DataType.Double:case ExpressCraft.DataType.Decimal:gvc.bodyApparence.alignment="right";break;case ExpressCraft.DataType.DateTime:gvc.formatString=ExpressCraft.Settings.gridViewAutoColumnGenerateFormatAsDate?"{0:d}":"{0:yyyy-MM-dd}";break;case ExpressCraft.DataType.Bool:gvc.cellDisplay=new ExpressCraft.GridViewCellDisplayCheckBox}this.columns.add(gvc);sw.stop();Bridge.Console.log("DataSource AddColumn Auto: "+sw1.milliseconds())}sw.stop();Bridge.Console.log("DataSource AutoColumns: "+sw.milliseconds())}this.renderGrid()}},setVisibleRowHandles:function(T,Cells,asc){var sorted,sorted1;asc?(sorted=System.Linq.Enumerable.from(Cells).select(function(x,i){return new(System.Collections.Generic.KeyValuePair$2(System.Int32,T))(i,x)}).orderBy($asm.$.ExpressCraft.GridView.f23).toList(System.Collections.Generic.KeyValuePair$2(System.Int32,T)),this.visibleRowHandles=System.Linq.Enumerable.from(sorted).select($asm.$.ExpressCraft.GridView.f24).toList(System.Int32)):(sorted1=System.Linq.Enumerable.from(Cells).select(function(x,i){return new(System.Collections.Generic.KeyValuePair$2(System.Int32,T))(i,x)}).orderByDescending($asm.$.ExpressCraft.GridView.f23).toList(System.Collections.Generic.KeyValuePair$2(System.Int32,T)),this.visibleRowHandles=System.Linq.Enumerable.from(sorted1).select($asm.$.ExpressCraft.GridView.f24).toList(System.Int32))},calculateVisibleRows:function(){for(var AddIndex,x,calcVisibleRows=new(System.Collections.Generic.List$1(System.Int32)),y=0;y<this.rowCount();y=y+1|0){for(AddIndex=!0,x=0;x<this.columnCount();x=x+1|0)if(!this.columns.getItem(x).valueMatchFilter(y)){AddIndex=!1;break}AddIndex&&calcVisibleRows.add(y)}this.visibleRowHandles=calcVisibleRows;this.renderGrid()},setDefaultSizes:function(){this._columnHeadersVisible?(ExpressCraft.Helper.setBounds(this.gridHeaderContainer,"0","0","100%","29px"),ExpressCraft.Helper.setBounds(this.gridBodyContainer,"0px","31px","100%","calc(100% - 31px)"),this.gridHeader.style.visibility="visible"):(this.gridHeader.style.visibility="hidden",ExpressCraft.Helper.setBounds(this.gridBodyContainer,"0px","1px","100%","calc(100% - 1px)"))},sortColumn:function(){this.sortSettings!=null&&this.sortColumn$1(this.sortSettings.column,this.sortSettings.sortMode)},sortColumn$1:function(column,sort){if(sort===void 0&&(sort=1),column.sortedMode=sort,this.sortSettings==null||Bridge.referenceEquals(this.sortSettings.column,column)||(this.sortSettings.column.sortedMode=ExpressCraft.GridViewSortMode.None,this.visibleRowHandles=null),sort===ExpressCraft.GridViewSortMode.None)this.visibleRowHandles=null;else{var sort1=sort===ExpressCraft.GridViewSortMode.Asc;switch(column.column.dataType){default:case ExpressCraft.DataType.Object:this.setVisibleRowHandles(Object,Bridge.as(column.column,ExpressCraft.DataColumnObject).cells,sort1);break;case ExpressCraft.DataType.Bool:this.setVisibleRowHandles(System.Nullable$1(Boolean),Bridge.as(column.column,ExpressCraft.DataColumnBool).cells,sort1);break;case ExpressCraft.DataType.DateTime:this.setVisibleRowHandles(System.Nullable$1(Date),Bridge.as(column.column,ExpressCraft.DataColumnDateTime).cells,sort1);break;case ExpressCraft.DataType.String:this.setVisibleRowHandles(String,Bridge.as(column.column,ExpressCraft.DataColumnString).cells,sort1);break;case ExpressCraft.DataType.Byte:this.setVisibleRowHandles(System.Nullable$1(System.Byte),Bridge.as(column.column,ExpressCraft.DataColumnByte).cells,sort1);break;case ExpressCraft.DataType.Short:this.setVisibleRowHandles(System.Nullable$1(System.Int16),Bridge.as(column.column,ExpressCraft.DataColumnShort).cells,sort1);break;case ExpressCraft.DataType.Integer:this.setVisibleRowHandles(System.Nullable$1(System.Int32),Bridge.as(column.column,ExpressCraft.DataColumnInteger).cells,sort1);break;case ExpressCraft.DataType.Long:this.setVisibleRowHandles(System.Nullable$1(System.Int64),Bridge.as(column.column,ExpressCraft.DataColumnLong).cells,sort1);break;case ExpressCraft.DataType.Float:this.setVisibleRowHandles(System.Nullable$1(System.Single),Bridge.as(column.column,ExpressCraft.DataColumnFloat).cells,sort1);break;case ExpressCraft.DataType.Double:this.setVisibleRowHandles(System.Nullable$1(System.Double),Bridge.as(column.column,ExpressCraft.DataColumnDouble).cells,sort1);break;case ExpressCraft.DataType.Decimal:this.setVisibleRowHandles(System.Nullable$1(System.Decimal),Bridge.as(column.column,ExpressCraft.DataColumnDecimal).cells,sort1)}}this.renderGrid();this.sortSettings=Bridge.merge(new ExpressCraft.SortSetting,{column:column,sortMode:sort})},clearSortColumn:function(){this.sortSettings!=null&&this.sortColumn$1(this.sortSettings.column,ExpressCraft.GridViewSortMode.None)},columnCount:function(){return this.columns.getCount()},rowCount:function(){return this._dataSource==null?0:this._dataSource.getRowCount()},scrollToBottom:function(){this.gridBodyContainer.scrollTop=this.gridBody.clientHeight-this.gridBodyContainer.clientHeight|0},scrollToTop:function(){this.gridBodyContainer.scrollTop=0},getColumn:function(i){return this.columns.getItem(i)},getFocusedRowCellValue$2:function(columnIndex){return this.getFocusedRowCellValue$1(this.columns.getItem(columnIndex))},getFocusedRowCellValue$3:function(FieldName){return this.getFocusedRowCellValue(this.getColumnByFieldName(FieldName))},getFocusedRowCellValue$1:function(column){return this.getRowCellValue$1(this.getFocusedDataHandle(),column)},getFocusedRowCellValue:function(column){return this.getRowCellValue(this.getFocusedDataHandle(),column)},getGridViewColumnByFieldName:function(FieldName){for(var i=0;i<this.columnCount();i=i+1|0)if(Bridge.referenceEquals(this.columns.getItem(i).column.fieldName,FieldName))return this.columns.getItem(i);return null},getRowCellValue$1:function(Datahandle,column){return this.getRowCellValue(Datahandle,column.column)},getRowCellValue:function(Datahandle,column){return Datahandle===-1?null:column.getCellValue(Datahandle)},getRowCellValue$3:function(Datahandle,FieldName){return this.getRowCellValue(Datahandle,this.getColumnByFieldName(FieldName))},getRowCellValue$2:function(Datahandle,columnIndex){return this.getRowCellValue$1(Datahandle,this.columns.getItem(columnIndex))},getColumnByFieldName:function(fieldName,IgnoreCase){if(IgnoreCase===void 0&&(IgnoreCase=!1),this.getDataSource()==null)return null;for(var i=0;i<this.getDataSource().getColumnCount();i=i+1|0)if(this.getDataSource().columns.getItem(i)!=null&&System.String.compare(this.getDataSource().columns.getItem(i).fieldName,fieldName,IgnoreCase)===0)return this.getDataSource().columns.getItem(i);return null},addColumn$2:function(caption,fieldname,width,formatstring,alignment,forecolor,isBold){width===void 0&&(width=100);formatstring===void 0&&(formatstring="");alignment===void 0&&(alignment=3);forecolor===void 0&&(forecolor=null);isBold===void 0&&(isBold=!1);var col=this.getColumnByFieldName(fieldname);col!=null&&this.addColumn$1(caption,col,width,formatstring,alignment,forecolor,isBold)},addColumn$1:function(caption,column,width,formatstring,alignment,forecolor,isBold){width===void 0&&(width=100);formatstring===void 0&&(formatstring="");alignment===void 0&&(alignment=3);forecolor===void 0&&(forecolor=null);isBold===void 0&&(isBold=!1);this.addColumn(Bridge.merge(new ExpressCraft.GridViewColumn(this,width),{caption:caption,bodyApparence:new ExpressCraft.GridViewCellApparence.$ctor3(isBold,alignment,forecolor),formatString:formatstring,column:column}))},addColumn:function(column){column!=null&&(this.columns.add(column),this.renderGrid())},addColumns:function(columns){(columns===void 0&&(columns=[]),columns!=null&&columns.length!==0)&&(this.columns.addRange(columns),this.renderGrid())},removeColumn:function(column){this.columns.remove(column);this.renderGrid()},getDataSourceRow:function(i){return this.visibleRowHandles==null||this.visibleRowHandles.getCount()===0?i:this.visibleRowHandles.getItem(i)},getColumnWidths:function(){var width,i;if(this._columnAutoWidth)return this.gridBodyContainer.clientWidth;for(width=0,i=0;i<this.columns.getCount();i=i+1|0)width+=this.columns.getItem(i).getWidth();return width},clearSelection:function(){this.selectedRows=new(ExpressCraft.HardSoftList$1(Boolean))(!1);this.renderGrid()},selectAllRows:function(){var length=this.rowCount(),index,i;if(length===0)this.selectedRows.clearAll();else{for(index=System.Array.init(length,0,System.Int32),i=0;i<length;i=i+1|0)index[i]=this.getDataSourceRow(i);this.selectedRows.clearAllSetHardRange(!0,index)}this.renderGrid()},delayedRenderGrid:function(){ExpressCraft.Settings.gridViewScrollDelayed?(this.prevRenderGridScrollId!==-1&&(Bridge.global.clearTimeout(this.prevRenderGridScrollId),this.prevRenderGridScrollId=-1),this.prevRenderGridScrollId=Bridge.global.setTimeout(Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f25),Math.max(1,ExpressCraft.Settings.gridViewScrollDelayMS))):this.renderGrid()},dataSource_OnDataSourceChanged:function(){this.sortColumn();this.renderGrid()},render:function(){ExpressCraft.Control.prototype.render.call(this);this.setHasRendered(!0);this.renderGrid();this.content.parentElement!=null},getRawVisibleRowCount:function(){return this.gridBodyContainer.clientHeight===0?0:this.gridBodyContainer.clientHeight/ExpressCraft.GridView.UnitHeight},getRawTopRowIndex:function(){return this.gridBodyContainer.scrollTop===0?0:this.gridBodyContainer.scrollTop/this.pixelsPerRow(this.rowCount())},validateGridWidth:function(){var width=this.getColumnWidths();this.gridBody.style.width=ExpressCraft.Helper.toPx$2(width);this.gridHeader.style.width=ExpressCraft.Helper.toPx$2(width+24);this.rightOfTable==null&&(this.rightOfTable=ExpressCraft.Control.div(),this.gridBody.appendChild(this.rightOfTable));this.rightOfTableHeader==null&&(this.rightOfTableHeader=ExpressCraft.Control.div(),this.gridHeader.appendChild(this.rightOfTableHeader));ExpressCraft.Helper.setBounds(this.rightOfTable,width-1,0,1,1);ExpressCraft.Helper.setBounds(this.rightOfTableHeader,width-1,0,1,1)},pixelsPerRow:function(rowCount){return rowCount>ExpressCraft.Settings.maximumPixelScrollingRows?3:ExpressCraft.GridView.UnitHeight},validateGridHeight:function(){var i=this.rowCount(),ppr=this.pixelsPerRow(i),height=ppr*i;i>ExpressCraft.Settings.maximumPixelScrollingRows&&this.gridBodyContainer.clientHeight>0&&(height+=this.gridBodyContainer.clientHeight/ExpressCraft.GridView.UnitHeight*ppr);this.gridBody.style.height=ExpressCraft.Helper.toPx$2(height);this.bottonOfTable==null&&(this.bottonOfTable=ExpressCraft.Control.div(),this.gridBody.appendChild(this.bottonOfTable));ExpressCraft.Helper.setBounds(this.bottonOfTable,0,height-1,1,1)},validateGridSize:function(){this.validateGridHeight();this.validateGridWidth()},clearHeader:function(){ExpressCraft.Helper.empty(this.gridHeader);this.gridHeader.appendChild(this.rightOfTableHeader)},clearColumns:function(){this.columns=new(System.Collections.Generic.List$1(ExpressCraft.GridViewColumn))},clearView:function(){this.columns=new(System.Collections.Generic.List$1(ExpressCraft.GridViewColumn));this.visibleRowHandles=new(System.Collections.Generic.List$1(System.Int32));this.selectedRows=new(ExpressCraft.HardSoftList$1(Boolean))(!1);this._dataSource=null},clearBody:function(){ExpressCraft.Helper.empty(this.gridBody);ExpressCraft.Helper.appendChildren(this.gridBody,[this.rightOfTable,this.bottonOfTable])},clearGrid:function(){this.clearHeader();this.clearBody()},setupColumn:function(se,index){se.setAttribute("i",System.Convert.toString(index));se.setAttribute("draggable","true");se.onclick=this.onColumnOnClick;se.ondragstart=this.onColumnDragStart;se.ondragover=this.onColumnDragOver;se.ondrop=this.onColumnDrop;se.onmousedown=this.onColumnMouseDown;se.onmousemove=this.onColumnMouseMove;se.onmouseleave=this.onColumnMouseLeave},processBlur:function(){this.prevScroll!==this.gridBodyContainer.scrollTop&&(this.gridBody.classList.add("blur"),this.lastId!==-1&&(Bridge.global.clearTimeout(this.lastId),this.lastId=-1),this.lastId=Bridge.global.setTimeout(Bridge.fn.bind(this,$asm.$.ExpressCraft.GridView.f26),100));this.prevScroll=this.gridBodyContainer.scrollTop},renderGrid:function(){var x,Cols,uboundRowCount,x1,sortImage,x2,Found,i,DataRowhandle,Rows,i1,DataRowhandle1,dr,x3,dr1,x4,col2,apparence2,cell1,tx,rows,i2;if(this.gridHeaderContainer.scrollLeft=this.gridBodyContainer.scrollLeft,ExpressCraft.Settings.gridViewBlurOnScroll&&this.processBlur(),this.validateGridSize(),this.columnCount()===0){this.clearGrid();return}var RawLeftCellIndex=0,RawLeftCellScrollPadding=0,RawLeftCellCount=this.columns.getCount(),LeftLocation=0,foundLeftLocation=!1,foundRightLocation=!1,ClientWidth=this.gridBodyContainer.clientWidth,ViewWidth=this.gridBodyContainer.scrollLeft+ClientWidth|0,_columnAutoWidthSingle=0;for(this._columnAutoWidth&&(_columnAutoWidthSingle=ClientWidth===0?0:Bridge.Int.div(ClientWidth,this.columns.getCount())|0),x=0;x<this.columns.getCount();x=x+1|0)if(this.columns.getItem(x).cachedX=LeftLocation,LeftLocation+=this._columnAutoWidth?_columnAutoWidthSingle:this.columns.getItem(x).getWidth(),!foundLeftLocation&&LeftLocation>=this.gridBodyContainer.scrollLeft&&(foundLeftLocation=!0,RawLeftCellIndex=x,RawLeftCellScrollPadding=LeftLocation-this.gridBodyContainer.scrollLeft),foundLeftLocation&&!foundRightLocation&&LeftLocation>=ViewWidth){foundRightLocation=!0;RawLeftCellCount=x+1|0;break}if(Cols=new(System.Collections.Generic.List$1(HTMLSpanElement)),uboundRowCount=RawLeftCellCount-1|0,this._columnHeadersVisible)for(x1=RawLeftCellIndex;x1<RawLeftCellCount;x1=x1+1|0){if(x1>=this.columns.getCount())break;var gcol=this.columns.getItem(x1),colIndex=x1,apparence=gcol.headingApparence,col=ExpressCraft.Control.label$3(gcol.caption,this._columnAutoWidth?gcol.cachedX:gcol.cachedX,0,(this._columnAutoWidth?_columnAutoWidthSingle:gcol.getWidth())-(x1===uboundRowCount?0:1),apparence.isBold,!1,"heading",apparence.alignment,apparence.forecolor);gcol.sortedMode!==ExpressCraft.GridViewSortMode.None&&(sortImage=ExpressCraft.Control.div(),ExpressCraft.Helper.setBounds(sortImage,"calc(100% - 13px)","11px","9px","5px"),sortImage.style.background=ExpressCraft.Control.getImageString(gcol.sortedMode===ExpressCraft.GridViewSortMode.Asc?ExpressCraft.GridView.SortUpBase64:ExpressCraft.GridView.SortDownBase64),col.appendChild(sortImage));this.setupColumn(col,x1,gcol);Cols.add(col)}if(this._dataSource==null||this._dataSource.getRowCount()===0||this._dataSource.getColumnCount()===0){this.clearGrid();ExpressCraft.Helper.appendChildren(this.gridHeader,Cols.toArray());return}var ppr=this.pixelsPerRow(this._dataSource.getRowCount()),RawTopRowIndex=this.getRawTopRowIndex(),RawTopRowScrollPadding=RawTopRowIndex%1,RawVisibleRowCount=this.getRawVisibleRowCount(),Length=Bridge.Int.clip32(RawVisibleRowCount+RawTopRowIndex)+1|0,start=Bridge.Int.clip32(RawTopRowIndex);for(x2=this.selectedRows.softList.getCount()-1|0;x2>=0;x2=x2-1|0){for(Found=!1,i=start;i<Length;i=i+1|0)if(i<this.getDataSource().getRowCount()&&(DataRowhandle=this.getDataSourceRow(i),this.selectedRows.getIndexValueByHardListIndex(this.selectedRows.softList.getItem(x2)).index===DataRowhandle)){Found=!0;break}Found||this.selectedRows.softList.removeAt(x2)}Rows=new(System.Collections.Generic.List$1(HTMLDivElement));ExpressCraft.Settings.gridViewRowScrollPadding>0&&(start=start-ExpressCraft.Settings.gridViewRowScrollPadding|0,Length=Length+ExpressCraft.Settings.gridViewRowScrollPadding|0);var Y=start*ppr-RawTopRowScrollPadding,Last=this.columns.getItem(RawLeftCellCount-1|0),MaxWidth=Last.cachedX+Last.getWidth();for(this.getShowAutoFilterRow()&&(Length=Length-1|0,Y+=ExpressCraft.GridView.UnitHeight),i1=start;i1<Length;i1=i1+1|0)if(i1<this.getDataSource().getRowCount()&&i1>=0){for(DataRowhandle1=this.getDataSourceRow(i1),dr=ExpressCraft.Control.div$1(System.String.concat(i1%2==0?"cellrow even":"cellrow",this.selectedRows.getValue(DataRowhandle1,!0)?" cellrow-selected":"",DataRowhandle1===this.getFocusedDataHandle()?" focusedrow":"")),ExpressCraft.Helper.setBounds(dr,0,Y,this._columnAutoWidth?ClientWidth:MaxWidth,ExpressCraft.GridView.UnitHeight),dr.setAttribute("i",System.Convert.toString(DataRowhandle1)),dr.onclick=this.onRowClick,ExpressCraft.Settings.isChrome&&(dr.ondblclick=this.onDoubleClick),x3=RawLeftCellIndex;x3<RawLeftCellCount;x3=x3+1|0){var col1=this.columns.getItem(x3),apparence1=col1.bodyApparence,useDefault=!1,cell;col1.cellDisplay==null||(useDefault=col1.cellDisplay.useDefaultElement)?(cell=ExpressCraft.Control.label$3(col1.getDisplayValueByDataRowHandle(DataRowhandle1),col1.cachedX,0,this._columnAutoWidth?_columnAutoWidthSingle:col1.getWidth(),apparence1.isBold,!1,"cell",apparence1.alignment,apparence1.forecolor),dr.appendChild(useDefault?col1.cellDisplay.onCreateDefault(cell,this,DataRowhandle1,x3):cell)):(cell=col1.cellDisplay.onCreate(this,DataRowhandle1,x3),ExpressCraft.Helper.setLocation(cell,col1.cachedX,0),cell.style.width=ExpressCraft.Helper.toPx$2(this._columnAutoWidth?_columnAutoWidthSingle:col1.getWidth()),dr.appendChild(cell));cell.setAttribute("i",x3.toString());cell.onmousedown=this.onCellRowMouseDown}this.getAllowRowDrag()&&(dr.setAttribute("draggable","true"),dr.ondragstart=this.onRowDragStart);Rows.add(dr);Y+=ExpressCraft.GridView.UnitHeight}if(this.getShowAutoFilterRow()){for(dr1=ExpressCraft.Control.div$1("cellrow"),ExpressCraft.Helper.setBounds(dr1,0,0,this._columnAutoWidth?ClientWidth:MaxWidth,ExpressCraft.GridView.UnitHeight),dr1.style.position="sticky",dr1.style.borderBottomColor="darkgray",dr1.style.borderBottomStyle="solid",dr1.style.borderBottomWidth="thin",x4=RawLeftCellIndex;x4<RawLeftCellCount;x4=x4+1|0)col2=this.columns.getItem(x4),apparence2=col2.bodyApparence,col2.filterEdit==null?(tx=new ExpressCraft.TextInput(col2.column.dataType===ExpressCraft.DataType.DateTime?"datetime":"text"),tx.content.classList.add("cell")):tx=col2.filterEdit,tx.setText(System.String.concat(col2.getFilterValue(),"")),tx.onTextChanged=this.filterRowOnChange,cell1=tx.content,ExpressCraft.Helper.setLocation(cell1,col2.cachedX,0),cell1.style.width=ExpressCraft.Helper.toPx$2(this._columnAutoWidth?_columnAutoWidthSingle:col2.getWidth()),dr1.appendChild(cell1),cell1.setAttribute("i",x4.toString());Rows.add(dr1)}if(this.clearGrid(),this.gridHeaderContainer.removeChild(this.gridHeader),ExpressCraft.Helper.appendChildren(this.gridHeader,Cols.toArray()),this.gridHeaderContainer.appendChild(this.gridHeader),Rows.getCount()>0){for(this.gridBodyContainer.removeChild(this.gridBody),rows=Rows.toArray(),ExpressCraft.Helper.appendChildren(this.gridBody,rows),i2=0;i2<rows.length;i2=i2+1|0)if(!Bridge.staticEquals(this.onCustomRowStyle,null))this.onCustomRowStyle(rows[i2],parseInt(rows[i2].getAttribute("i")));this.gridBodyContainer.appendChild(this.gridBody)}}});Bridge.ns("ExpressCraft.GridView",$asm.$);Bridge.apply($asm.$.ExpressCraft.GridView,{f1:function(ev){if(this.resizeIndex!==-1){var x=ev.pageX;x=this.columns.getItem(this.resizeIndex).getWidth()+(x-this.resizePageX|0)|0;x<24&&(x=24);this.columns.getItem(this.resizeIndex).setWidth(x);ExpressCraft.Form.setCursor("default");ev.preventDefault();ev.stopImmediatePropagation();ev.stopPropagation();this.resizeIndex=-1;this.resizeSpan=null}},f2:function(){this.delayedRenderGrid()},f3:function(){this.renderGrid()},f4:function(ev){this.setFocusedColumn(parseInt(ev.currentTarget.getAttribute("i")))},f5:function(ev){var ems,DataRowHandle,mev;if(!ExpressCraft.Settings.isChrome)if(this.clickTimeDiff==null)this.clickTimeDiff=System.Diagnostics.Stopwatch.startNew();else if(this.clickTimeDiff.stop(),ems=this.clickTimeDiff.milliseconds(),this.clickTimeDiff=null,ems.lt(System.Int64(200)))this.onDoubleClick(ev);if(DataRowHandle=parseInt(ev.currentTarget.getAttribute("i")),mev=ev,this.allowMultiSelection){if(mev.ctrlKey){this.selectedRows.addOrSet(!0,DataRowHandle,!0);this.renderGrid();return}if(mev.shiftKey)return}this.selectedRows.clearAndAddOrSet(!0,DataRowHandle,!0);DataRowHandle!==this._focusedDataHandle?this.setFocusedDataHandle(DataRowHandle):this.renderGrid()},f6:function(ev){var drh=parseInt(ev.currentTarget.getAttribute("i")),idr,fdre;if(!Bridge.staticEquals(this.onRowDoubleClick,null))this.onRowDoubleClick(drh);this._useEditForm&&(idr=this.getDataSource().getItem(drh),fdre=new ExpressCraft.DataRowEditForm(idr,this,!0),fdre.showDialog())},f7:function(ev){var kev=ev;this.allowMultiSelection&&kev.ctrlKey&&(kev.keyCode===65||kev.keyCode===97)&&this.selectAllRows()},f8:function(){this.getFocusedColumn()>-1&&this.sortColumn$1(this.columns.getItem(this.getFocusedColumn()),ExpressCraft.GridViewSortMode.Asc)},f9:function(){this.getFocusedColumn()>-1&&this.sortColumn$1(this.columns.getItem(this.getFocusedColumn()),ExpressCraft.GridViewSortMode.Desc)},f10:function(){this.clearSortColumn()},f11:function(){this.selectAllRows()},f12:function(){this.clearSelection()},f13:function(ev){this.contextMenu!=null&&(this.contextMenu.show(ExpressCraft.Helper.getClientMouseLocation(ev).$clone()),ev.preventDefault(),ev.stopPropagation())},f14:function(ev){var gcol,i;if(!(this.resizeIndex>=0)){for(gcol=this.columns.getItem(parseInt(ev.currentTarget.getAttribute("i"))),i=0;i<this.columnCount();i=i+1|0)Bridge.referenceEquals(this.columns.getItem(i),gcol)||(this.columns.getItem(i).sortedMode=ExpressCraft.GridViewSortMode.None);switch(gcol.sortedMode){default:case ExpressCraft.GridViewSortMode.None:this.sortColumn$1(gcol,ExpressCraft.GridViewSortMode.Asc);break;case ExpressCraft.GridViewSortMode.Asc:this.sortColumn$1(gcol,ExpressCraft.GridViewSortMode.Desc);break;case ExpressCraft.GridViewSortMode.Desc:this.sortColumn$1(gcol,ExpressCraft.GridViewSortMode.None)}}},f15:function(ev){ev.dataTransfer.setData("gridviewColumnDrag",ev.currentTarget.getAttribute("i"))},f16:function(ev){ev.preventDefault()},f17:function(ev){var target,HoverIndex,SelectedIndex,x,w,col,col1;ev.target!=null&&Bridge.is(ev.target,HTMLSpanElement)&&(target=ev.target,Bridge.referenceEquals(target.parentElement,this.gridHeader))&&(HoverIndex=parseInt(target.getAttribute("i")),SelectedIndex=parseInt(ev.dataTransfer.getData("gridviewColumnDrag")),SelectedIndex!==HoverIndex)&&(HoverIndex<0||(x=ev.layerX,x=x-target.clientLeft|0,w=Bridge.Int.div(target.clientWidth,2)|0,HoverIndex===(SelectedIndex-1|0)&&x>w)||HoverIndex===(SelectedIndex+1|0)&&x<w||(this.dragIndex=x<w?HoverIndex:HoverIndex+1|0,this.dragIndex<0||SelectedIndex<0)||(col=this.columns.getItem(SelectedIndex),this.dragIndex===this.columns.getCount()?(this.columns.remove(col),this.columns.add(col)):(col1=this.columns.getItem(this.dragIndex),this.columns.remove(col),this.columns.insert(this.columns.indexOf(col1),col)),this.renderGrid()))},f18:function(ev){var x=ev.layerX,target=ev.target;x=x-target.clientLeft|0;this.resizePageX=ev.pageX;this.setFocusedColumn(parseInt(ev.currentTarget.getAttribute("i")));x>=(target.clientWidth-2|0)?(this.resizeIndex=parseInt(target.getAttribute("i")),this.resizeSpan=target,ExpressCraft.Form.setCursor("ew-resize"),ev.preventDefault()):(this.resizeSpan=null,this.resizeIndex=-1)},f19:function(ev){if(this.resizeIndex===-1){var x=ev.layerX,target=ev.target;if(x=x-target.clientLeft|0,x>=(target.clientWidth-2|0)){ExpressCraft.Form.setCursor("ew-resize");return}ExpressCraft.Form.setCursor("default")}},f20:function(){this.resizeIndex===-1&&ExpressCraft.Form.setCursor("default")},f21:function(ev){ev.dataTransfer.setData("gridviewRowDrag",JSON.stringify(this.getDataSource().getItem(parseInt(ev.currentTarget.getAttribute("i"))).getOfflineDataRow()))},f22:function(te){this.columns.getItem(parseInt(te.content.getAttribute("i"))).setFilterValue(te.getText())},f23:function(x){return x.value},f24:function(x){return x.key},f25:function(){this.renderGrid()},f26:function(){this.gridBody.classList.remove("blur")}});Bridge.define("ExpressCraft.GridViewCellDisplayCheckBox",{inherits:[ExpressCraft.GridViewCellDisplay],statics:{resource_checked:"checked"},onCreate:function(gridView,dataRowIndex,columnIndex){var value=gridView.getRowCellValue$2(dataRowIndex,columnIndex),cell=ExpressCraft.Control.div$1("cell"),input=ExpressCraft.Control.input("","checkbox");return ExpressCraft.Helper.setBoundsFull(input),ExpressCraft.Helper.setChecked(input,value),input.style.margin="0",cell.appendChild(input),cell}});Bridge.define("ExpressCraft.GridViewCellDisplayImage",{inherits:[ExpressCraft.GridViewCellDisplay],useBase64Resource:!1,onCreate:function(gridView,dataRowIndex,columnIndex){var src=ExpressCraft.Helper.htmlUrlEscape(System.String.concat(gridView.getRowCellValue$2(dataRowIndex,columnIndex),"")),imgDiv=ExpressCraft.Control.div$1("cell");return ExpressCraft.Helper.setImage(imgDiv,src,!this.useBase64Resource),imgDiv}});Bridge.define("ExpressCraft.ProgressControl",{inherits:[ExpressCraft.Control],position:0,internalProgressControl:null,maximum:0,step:1,disableUpdate:!1,ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"progressbar");this.internalProgressControl=ExpressCraft.Control.div$1("progressbarbody")},getMaximum:function(){return this.maximum},setMaximum:function(value){value<1&&(value=1);value<this.position&&(this.position=value);this.maximum=value;this.disableUpdate||this.update()},getPosition:function(){return this.position},setPosition:function(value){value<0?value=0:value>this.maximum&&(value=this.maximum);this.position=value;this.disableUpdate||this.update()},nextStep:function(){this.setPosition(this.getPosition()+this.step|0)},render:function(){ExpressCraft.Control.prototype.render.call(this);this.content.appendChild(this.internalProgressControl);this.update()},update:function(){if(!this.disableUpdate&&this.internalProgressControl!=null)if(this.maximum===0||this.position===0)this.internalProgressControl.style.width="0%";else{var source=this.position/this.maximum*100+"%";this.internalProgressControl.style.width=System.String.concat("calc(",source," - 2px)")}}});Bridge.define("ExpressCraft.RibbonButton",{inherits:[ExpressCraft.Control],_icon:"",_iconURL:"",_caption:"",beginGroup:!1,isSmallCaption:!1,onItemClick:null,enabled:!0,captionDiv:null,imageDiv:null,ctor:function(caption,_isSmallCaption){caption===void 0&&(caption="");_isSmallCaption===void 0&&(_isSmallCaption=!1);this.$initialize();ExpressCraft.Control.$ctor1.call(this,_isSmallCaption?"ribbonbuttonsmall":"ribbonbutton");this._caption=caption;this.isSmallCaption=_isSmallCaption},getIcon:function(){return this._icon},setIcon:function(value){Bridge.referenceEquals(this._icon,value)||(this._icon=value,this.processImage())},getIconURL:function(){return this._iconURL},setIconURL:function(value){Bridge.referenceEquals(this._iconURL,value)||(this._iconURL=value,this.processImage())},getCaption:function(){return this._caption},setCaption:function(value){Bridge.referenceEquals(this._caption,value)||(this._caption=value,this.processCaption())},getEnabled:function(){return this.enabled},setEnabled:function(value){this.enabled=value;this.setEnabled$1(value)},setEnabled$1:function(value){this.changeState(value);value?(this.imageDiv!=null&&this.imageDiv.classList.remove("disabled"),this.captionDiv!=null&&this.captionDiv.classList.remove("disabled")):(this.imageDiv!=null&&this.imageDiv.classList.add("disabled"),this.captionDiv!=null&&this.captionDiv.classList.add("disabled"))},render:function(){this.setHasRendered(!0);ExpressCraft.Helper.empty(this.content);this.content.onclick=Bridge.fn.bind(this,$asm.$.ExpressCraft.RibbonButton.f1);this.processCaption();this.processImage();this.setEnabled$1(this.enabled)},processCaption:function(){System.String.isNullOrWhiteSpace(this.getCaption())?this.captionDiv!=null&&this.captionDiv.remove():(this.captionDiv=ExpressCraft.Control.div$1(this.isSmallCaption?"ribbonbuttonsmallcaption":"ribbonbuttoncaption"),this.captionDiv.innerHTML=this.getCaption(),this.content.appendChild(this.captionDiv))},processImage:function(){this.imageDiv==null?System.String.isNullOrWhiteSpace(this.getIcon())?System.String.isNullOrWhiteSpace(this.getIconURL())||(this.imageDiv=ExpressCraft.Control.div$1(this.isSmallCaption?"ribbonbuttonsmallicon":"ribbonbuttonicon"),this.imageDiv.style.background=ExpressCraft.Control.getImageStringURI(this.getIconURL()),this.content.appendChild(this.imageDiv)):(this.imageDiv=ExpressCraft.Control.div$1(this.isSmallCaption?"ribbonbuttonsmallicon":"ribbonbuttonicon"),this.imageDiv.style.background=ExpressCraft.Control.getImageString(this.getIcon()),this.content.appendChild(this.imageDiv)):System.String.isNullOrWhiteSpace(this.getIcon())?System.String.isNullOrWhiteSpace(this.getIconURL())||(this.imageDiv.style.background=ExpressCraft.Control.getImageStringURI(this.getIconURL())):this.imageDiv.style.background=ExpressCraft.Control.getImageString(this.getIcon());this.imageDiv!=null?(this.imageDiv.style.backgroundSize="100% 100%",this.captionDiv!=null&&this.isSmallCaption&&(this.captionDiv.style.left="28px")):this.captionDiv!=null&&this.isSmallCaption&&(this.captionDiv.style.left="6px")}});Bridge.ns("ExpressCraft.RibbonButton",$asm.$);Bridge.apply($asm.$.ExpressCraft.RibbonButton,{f1:function(ev){if(this.enabled&&!Bridge.staticEquals(this.onItemClick,null))this.onItemClick(this);ev.stopPropagation()}});Bridge.define("ExpressCraft.RibbonControl",{inherits:[ExpressCraft.Control],iconURL:"fav.ico",type:0,applicationIcon:null,onSelectedPageChange:null,selectedindex:-1,config:{properties:{RibbonPages:null},init:function(){this.RibbonPages=new(System.Collections.Generic.List$1(ExpressCraft.RibbonPage))}},ctor:function(type){type===void 0&&(type=0);this.$initialize();ExpressCraft.Control.$ctor1.call(this,System.String.concat("ribboncontrol",type===ExpressCraft.RibbonControl.RibbonType.Full?"":" ribboncontrol-compact"));this.type=type;this.content.oncontextmenu=$asm.$.ExpressCraft.RibbonControl.f1},getSelectedIndex:function(){return this.selectedindex},setSelectedIndex:function(value){if(value<0&&(value=0),this.selectedindex>=this.getRibbonPages().getCount()&&(this.selectedindex=this.getRibbonPages().getCount()-1|0),this.selectedindex!==value&&(this.selectedindex=value,!Bridge.staticEquals(this.onSelectedPageChange,null)))this.onSelectedPageChange(this.selectedindex,this.getRibbonPages().getItem(this.selectedindex));this.setSelectedIndex$1(value)},addRibbonPages:function(pages){pages===void 0&&(pages=[]);pages!=null&&this.getRibbonPages().addRange(pages)},setSelectedIndex$1:function(index){if(this.getRibbonPages()!=null&&this.getRibbonPages().getCount()>0)for(var i=0;i<this.getRibbonPages().getCount();i=i+1|0)this.getRibbonPages().getItem(i).ribbonHeader!=null&&(this.getRibbonPages().getItem(i).ribbonHeader.classList.remove("ribbonpageheader-hidden"),this.getRibbonPages().getItem(i).ribbonHeader.classList.remove("ribbonpageheader-active"),i===index?(this.getRibbonPages().getItem(i).ribbonHeader.classList.add("ribbonpageheader-active"),this.getRibbonPages().getItem(i).content.style.visibility="visible"):(this.getRibbonPages().getItem(i).ribbonHeader.classList.add("ribbonpageheader-hidden"),this.getRibbonPages().getItem(i).content.style.visibility="hidden"))},render:function(){var appIconImage,width,i;if(this.setHasRendered(!0),this.type===ExpressCraft.RibbonControl.RibbonType.Full&&(this.applicationIcon!=null&&ExpressCraft.Helper.delete(this.applicationIcon),this.applicationIcon=ExpressCraft.Control.div$1("application-icon"),appIconImage=ExpressCraft.Control.div$1("fav-icon"),appIconImage.style.background=ExpressCraft.Control.getImageStringURI(this.iconURL),appIconImage.style.backgroundSize="100% 100%",this.applicationIcon.appendChild(appIconImage),this.content.appendChild(this.applicationIcon)),this.getRibbonPages()!=null&&this.getRibbonPages().getCount()>0)for(width=58,i=0;i<this.getRibbonPages().getCount();i=i+1|0)(function(){var index,inwidth;this.content.contains(ExpressCraft.Control.op_Implicit(this.getRibbonPages().getItem(i)))&&(ExpressCraft.Helper.delete(this.getRibbonPages().getItem(i).content),ExpressCraft.Helper.delete(this.getRibbonPages().getItem(i).ribbonHeader));this.getRibbonPages().getItem(i).render();this.type===ExpressCraft.RibbonControl.RibbonType.Compact?System.String.contains(this.getRibbonPages().getItem(i).content.className,"ribbonpage-compact")||this.getRibbonPages().getItem(i).content.classList.add("ribbonpage-compact"):System.String.contains(this.getRibbonPages().getItem(i).content.className,"ribbonpage-compact")&&this.getRibbonPages().getItem(i).content.classList.remove("ribbonpage-compact");index=i;i===this.selectedindex?(this.getRibbonPages().getItem(i).ribbonHeader=ExpressCraft.Control.div$1(System.String.concat("ribbonpageheader ribbonpageheader-active",this.type===ExpressCraft.RibbonControl.RibbonType.Full?"":" ribbonpageheader-compact")),this.getRibbonPages().getItem(i).content.style.visibility="visible"):(this.getRibbonPages().getItem(i).ribbonHeader=ExpressCraft.Control.div$1(System.String.concat("ribbonpageheader ribbonpageheader-hidden",this.type===ExpressCraft.RibbonControl.RibbonType.Full?"":" ribbonpageheader-compact")),this.getRibbonPages().getItem(i).content.style.visibility="hidden");this.getRibbonPages().getItem(i).ribbonHeader.onmousedown=Bridge.fn.bind(this,function(){this.setSelectedIndex(index)});this.getRibbonPages().getItem(i).ribbonHeader.ontouchstart=Bridge.fn.bind(this,function(){this.setSelectedIndex(index)});this.getRibbonPages().getItem(i).ribbonHeader.innerHTML=this.getRibbonPages().getItem(i).getCaption();inwidth=24;System.String.isNullOrEmpty(this.getRibbonPages().getItem(i).getCaption())||(inwidth=inwidth+Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(this.getRibbonPages().getItem(i).getCaption(),ExpressCraft.Settings.defaultFont))|0);this.getRibbonPages().getItem(i).ribbonHeader.style.left=width+"px";this.getRibbonPages().getItem(i).ribbonHeader.style.width=inwidth+"px";this.content.appendChild(this.getRibbonPages().getItem(i).ribbonHeader);this.content.appendChild(ExpressCraft.Control.op_Implicit(this.getRibbonPages().getItem(i)));width=width+inwidth|0}).call(this);this.setSelectedIndex(this.selectedindex)}});Bridge.ns("ExpressCraft.RibbonControl",$asm.$);Bridge.apply($asm.$.ExpressCraft.RibbonControl,{f1:function(ev){ev.stopPropagation();ev.preventDefault()}});Bridge.define("ExpressCraft.RibbonGroup",{inherits:[ExpressCraft.Control],enabled:!0,captionDiv:null,riList:null,config:{properties:{Caption:null,Buttons:null}},ctor:function(_caption){_caption===void 0&&(_caption="");this.$initialize();ExpressCraft.Control.$ctor1.call(this,"ribbongroup");this.setCaption(_caption);this.setButtons(new(System.Collections.Generic.List$1(ExpressCraft.RibbonButton)))},$ctor1:function(_caption,buttons){buttons===void 0&&(buttons=[]);this.$initialize();ExpressCraft.Control.$ctor1.call(this,"ribbongroup");this.setCaption(_caption);this.setButtons(new(System.Collections.Generic.List$1(ExpressCraft.RibbonButton)));buttons!=null&&this.getButtons().addRange(buttons)},getEnabled:function(){return this.enabled},setEnabled:function(value){this.enabled=value;this.setEnabled$1(value)},setEnabled$1:function(value){if(this.getButtons().getCount()>0)for(var i=0;i<this.getButtons().getCount();i=i+1|0)value?this.getButtons().getItem(i).setEnabled$1(this.getButtons().getItem(i).getEnabled()):this.getButtons().getItem(i).setEnabled$1(value);this.changeState(value);value?this.captionDiv!=null&&this.captionDiv.classList.remove("disabled"):this.captionDiv!=null&&this.captionDiv.classList.add("disabled")},createVerticalLine:function(height){var htmlDiv=ExpressCraft.Control.div$1("ribbonseperator");return height!==58&&(htmlDiv.style.height=height+"px"),htmlDiv},generateRList:function(){var ri=null,i;if(this.riList==null){for(this.riList=new(System.Collections.Generic.List$1(ExpressCraft.RibbonGroup.RenderInfo)),i=0;i<this.getButtons().getCount();i=i+1|0)ri==null?(ri=new ExpressCraft.RibbonGroup.RenderInfo,ri.firstButton=this.getButtons().getItem(i),ri.isSmall=ri.firstButton.isSmallCaption):ri.isSmall!==this.getButtons().getItem(i).isSmallCaption||this.getButtons().getItem(i).beginGroup||!this.getButtons().getItem(i).isSmallCaption||ri.firstButton!=null&&ri.secondButton!=null&&ri.thirdButton!=null?(this.riList.add(ri),ri=new ExpressCraft.RibbonGroup.RenderInfo,ri.firstButton=this.getButtons().getItem(i),ri.isSmall=this.getButtons().getItem(i).isSmallCaption,ri.beginGroup=this.getButtons().getItem(i).beginGroup):ri.secondButton==null?ri.secondButton=this.getButtons().getItem(i):ri.thirdButton=this.getButtons().getItem(i);ri!=null&&(this.riList.add(ri),ri=null)}},render:function(){var width,i,ri,vlbg,MaxWidth,inwidth,j,minWidth,vl;for(this.setHasRendered(!0),this.generateRList(),ExpressCraft.Helper.empty(this.content),width=0,i=0;i<this.riList.getCount();i=i+1|0)if(ri=this.riList.getItem(i),ri.beginGroup&&(width=width+3|0,vlbg=this.createVerticalLine(58),vlbg.style.left=width+"px",this.content.appendChild(vlbg)),width=width+3|0,ri.isSmall)ri.thirdButton==null?ri.secondButton==null?(MaxWidth=Math.max((Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.firstButton.getCaption(),ExpressCraft.Settings.defaultFont))+28|0)+6|0,64),ri.firstButton.render(),ri.firstButton.content.style.left=width+"px",ri.firstButton.content.style.width=MaxWidth+"px",ri.firstButton.content.style.top="26px",this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.firstButton))):(MaxWidth=Math.max((Math.max(Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.firstButton.getCaption(),ExpressCraft.Settings.defaultFont)),Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.secondButton.getCaption(),ExpressCraft.Settings.defaultFont)))+28|0)+6|0,64),ri.firstButton.render(),ri.secondButton.render(),ri.firstButton.content.style.left=width+"px",ri.secondButton.content.style.left=width+"px",ri.firstButton.content.style.top="21px",ri.firstButton.content.style.width=MaxWidth+"px",ri.secondButton.content.style.width=MaxWidth+"px",ri.firstButton.content.style.top="11px",ri.secondButton.content.style.top="41px",this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.firstButton)),this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.secondButton))):(MaxWidth=Math.max((Math.max(Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.firstButton.getCaption(),ExpressCraft.Settings.defaultFont)),Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.secondButton.getCaption(),ExpressCraft.Settings.defaultFont)),Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.thirdButton.getCaption(),ExpressCraft.Settings.defaultFont)))+28|0)+6|0,64),ri.firstButton.render(),ri.secondButton.render(),ri.thirdButton.render(),ri.firstButton.content.style.left=width+"px",ri.secondButton.content.style.left=width+"px",ri.thirdButton.content.style.left=width+"px",ri.firstButton.content.style.width=MaxWidth+"px",ri.secondButton.content.style.width=MaxWidth+"px",ri.thirdButton.content.style.width=MaxWidth+"px",ri.firstButton.content.style.top="3px",ri.secondButton.content.style.top="26px",ri.thirdButton.content.style.top="49px",this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.firstButton)),this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.secondButton)),this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.thirdButton))),width=width+MaxWidth|0;else{if(ri.firstButton.render(),ri.firstButton.content.style.left=width+"px",inwidth=0,System.String.contains(ri.firstButton.getCaption()," ")){var strings=ri.firstButton.getCaption().split(" "),builder=new System.Text.StringBuilder,length=Bridge.Int.div(ri.firstButton.getCaption().length,2)|0;for(j=0;j<strings.length;j=j+1|0){if(builder.getLength()>length){inwidth=Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(builder.toString(),ExpressCraft.Settings.defaultFont))+20|0;break}builder.getLength()>0?builder.append(System.String.concat(" ",strings[j])):builder.append(strings[j])}inwidth===0&&(inwidth=Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(builder.toString(),ExpressCraft.Settings.defaultFont))+20|0)}else inwidth=Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(ri.firstButton.getCaption(),ExpressCraft.Settings.defaultFont))+20|0;inwidth<44&&(inwidth=44);ri.firstButton.content.style.width=inwidth+"px";width=width+inwidth|0;this.content.appendChild(ExpressCraft.Control.op_Implicit(ri.firstButton))}minWidth=Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(this.getCaption(),ExpressCraft.Settings.defaultFont))+20|0;width<minWidth&&(width=minWidth);width=width+3|0;vl=this.createVerticalLine(80);vl.style.left=(width-1|0)+"px";this.content.appendChild(vl);this.content.style.width=width+"px";System.String.isNullOrWhiteSpace(this.getCaption())||(this.captionDiv=ExpressCraft.Control.div$1("ribbongroupcaption"),this.captionDiv.innerHTML=this.getCaption(),this.content.appendChild(this.captionDiv));this.setEnabled$1(this.enabled)}});Bridge.define("ExpressCraft.RibbonPage",{inherits:[ExpressCraft.Control],ribbonHeader:null,config:{properties:{Caption:null,RibbonGroups:null},init:function(){this.RibbonGroups=new(System.Collections.Generic.List$1(ExpressCraft.RibbonGroup))}},ctor:function(_caption){_caption===void 0&&(_caption="");this.$initialize();ExpressCraft.Control.$ctor1.call(this,"ribbonpage");this.setCaption(_caption)},addRibbonGroups:function(pages){pages===void 0&&(pages=[]);pages!=null&&this.getRibbonGroups().addRange(pages)},render:function(){var width,i;if(this.setHasRendered(!0),this.getRibbonGroups()!=null&&this.getRibbonGroups().getCount()!==0)for(width=0,i=0;i<this.getRibbonGroups().getCount();i=i+1|0)this.getRibbonGroups().getItem(i).render(),this.getRibbonGroups().getItem(i).content.style.left=width+"px",width=width+parseInt(this.getRibbonGroups().getItem(i).content.style.width)|0,this.content.appendChild(ExpressCraft.Control.op_Implicit(this.getRibbonGroups().getItem(i)))}});Bridge.define("ExpressCraft.SimpleButton",{inherits:[ExpressCraft.Control],itemClick:null,parentForm:null,dialogResult:0,enabled:!0,ctor:function(button){button===void 0&&(button=2);this.$initialize();ExpressCraft.Control.$ctor2.call(this,"simplebutton",button);this.content.oncontextmenu=$asm.$.ExpressCraft.SimpleButton.f1;ExpressCraft.Helper.setSize$1(this,"69px","20px");this.content.onclick=Bridge.fn.bind(this,$asm.$.ExpressCraft.SimpleButton.f2);this.content.ondblclick=$asm.$.ExpressCraft.SimpleButton.f3;this.content.onmousedown=$asm.$.ExpressCraft.SimpleButton.f3;this.content.onmouseup=$asm.$.ExpressCraft.SimpleButton.f3},getText:function(){return this.content.innerHTML},setText:function(value){this.content.innerHTML=value},getEnabled:function(){return this.enabled},setEnabled:function(value){this.enabled=value;this.enabled?this.content.removeAttribute("disabled"):this.content.setAttribute("disabled",System.Boolean.toString(!this.enabled))}});Bridge.ns("ExpressCraft.SimpleButton",$asm.$);Bridge.apply($asm.$.ExpressCraft.SimpleButton,{f1:function(ev){ev.stopPropagation();ev.preventDefault()},f2:function(ev){this.enabled&&(this.content.blur(),this.dialogResult!==ExpressCraft.DialogResultEnum.None&&this.parentForm!=null&&this.parentForm.isDialog()&&(this.parentForm.dialogResult=this.dialogResult),Bridge.staticEquals(this.itemClick,null)||this.itemClick(this),this.dialogResult!==ExpressCraft.DialogResultEnum.None&&this.parentForm.dialogResult!==ExpressCraft.DialogResultEnum.None&&this.parentForm!=null&&this.parentForm.isDialog()&&this.parentForm.close());ev.stopPropagation();ev.stopImmediatePropagation()},f3:function(ev){ev.stopPropagation();ev.stopImmediatePropagation()}});Bridge.define("ExpressCraft.SplitControlContainer",{inherits:[ExpressCraft.Control],panel1:null,panel2:null,splitter:null,_prevClientRect:null,isMouseDown:!1,_startingSplitterPos:0,_splitterPosition:-1,fixedSplitterPostion:0,splitterResizable:!0,horizontal:!1,config:{init:function(){this._mouseDownVector=new ExpressCraft.Vector2;this._currentMouseDownVector=new ExpressCraft.Vector2}},ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"splitcontrol");this.panel1=Bridge.merge(new ExpressCraft.Control.ctor,{setLocation:new ExpressCraft.Vector2.$ctor1(0,0)});this.panel2=new ExpressCraft.Control.ctor;this.splitter=new ExpressCraft.Control.ctor;this.splitter.content.onmousedown=Bridge.fn.bind(this,$asm.$.ExpressCraft.SplitControlContainer.f1);this.onResize=Bridge.fn.bind(this,$asm.$.ExpressCraft.SplitControlContainer.f2);this.content.onmousemove=Bridge.fn.bind(this,$asm.$.ExpressCraft.SplitControlContainer.f3);this.content.onmouseup=Bridge.fn.bind(this,$asm.$.ExpressCraft.SplitControlContainer.f4);ExpressCraft.Helper.appendChildren$2(this,[this.panel1,this.splitter,this.panel2])},getFixedSplitterPostion:function(){return this.fixedSplitterPostion},setFixedSplitterPostion:function(value){this.fixedSplitterPostion=value;this.renderControls()},getSplitterPosition:function(){return this._splitterPosition},setSplitterPosition:function(value){value<0&&(value=0);this._splitterPosition=value;this.renderControls()},getHorizontal:function(){return this.horizontal},setHorizontal:function(value){value!==this.horizontal&&(this.renderControls(),this.horizontal=value)},render:function(){ExpressCraft.Control.prototype.render.call(this);this.renderControls()},resizeChildren:function(){this.linkedForm!=null&&this.content!=null&&this.linkedForm.resizeChildren(this.content)},getMaxSplitterSize:function(){var maxSize=Bridge.Int.clip32(this.getHorizontal()?this.content.getBoundingClientRect().height:this.content.getBoundingClientRect().width)-12|0;return maxSize<0&&(maxSize=0),maxSize},renderControls:function(){var sp=this.getSplitterPosition(),maxSize=this.getMaxSplitterSize();this._prevClientRect!=null&&sp>maxSize&&(sp=maxSize);this.getHorizontal()?(ExpressCraft.Helper.exchangeClass$1(this.panel1,"splitvertical","splithorizontal"),ExpressCraft.Helper.exchangeClass$1(this.panel2,"splitvertical","splithorizontal"),ExpressCraft.Helper.exchangeClass$1(this.splitter,"splitvertical","splitvertical"),this.panel1.setWidth(""),this.splitter.setWidth(""),this.panel2.setWidth(""),this.fixedSplitterPostion!==ExpressCraft.FixedSplitterPosition.Panel2?(this.splitter.setLocation(new ExpressCraft.Vector2.$ctor1(0,sp)),this.panel1.setHeight(sp),this.panel2.setLocation(new ExpressCraft.Vector2.$ctor1(0,sp+12|0)),this.panel2.setHeight("calc(100% - "+(sp+12|0)+"px)")):(this.splitter.setLocation(new ExpressCraft.Vector2.$ctor1(0,"calc(100% - "+sp+"px)")),this.panel1.setHeight("calc(100% - "+sp+"px)"),this.panel2.setHeight(sp),this.panel2.setLocation(new ExpressCraft.Vector2.$ctor1(0,"calc(100% - "+sp+12+"px)")))):(ExpressCraft.Helper.exchangeClass$1(this.panel1,"splithorizontal","splitvertical"),ExpressCraft.Helper.exchangeClass$1(this.panel2,"splithorizontal","splitvertical"),ExpressCraft.Helper.exchangeClass$1(this.splitter,"splitterhorizontal","splittervertical"),this.panel1.setHeight(""),this.splitter.setHeight(""),this.panel2.setHeight(""),this.fixedSplitterPostion!==ExpressCraft.FixedSplitterPosition.Panel2?(this.splitter.setLocation(new ExpressCraft.Vector2.$ctor1(sp,0)),this.panel1.setWidth(sp),this.panel2.setWidth("calc(100% - "+(sp+12|0)+"px)"),this.panel2.setLocation(new ExpressCraft.Vector2.$ctor1(sp+12|0,0))):(this.splitter.setLocation(new ExpressCraft.Vector2.$ctor1("calc(100% - "+sp+"px)",0)),this.panel1.setWidth("calc(100% - "+sp+"px)"),this.panel2.setWidth(sp),this.panel2.setLocation(new ExpressCraft.Vector2.$ctor1("calc(100% - "+sp+12+"px)",0))))}});Bridge.ns("ExpressCraft.SplitControlContainer",$asm.$);Bridge.apply($asm.$.ExpressCraft.SplitControlContainer,{f1:function(ev){if(this.splitterResizable){this.isMouseDown=!0;this._mouseDownVector=ExpressCraft.Helper.getClientMouseLocation(ev).$clone();var maxSize=this.getMaxSplitterSize();this._startingSplitterPos=this._splitterPosition>maxSize?maxSize:this._splitterPosition;ev.stopImmediatePropagation()}},f2:function(){var clientRec;if(this.linkedForm==null||this.linkedForm.isVisible()){if(clientRec=this.content.getBoundingClientRect(),this._prevClientRect==null&&(this._prevClientRect=clientRec),this.fixedSplitterPostion===ExpressCraft.FixedSplitterPosition.None){var V1=0,V2=0,dirty=!1;this.getHorizontal()?clientRec.height!==this._prevClientRect.height&&(V1=clientRec.height,V2=this._prevClientRect.height,dirty=!0):clientRec.width!==this._prevClientRect.width&&(V1=clientRec.width,V2=this._prevClientRect.width,dirty=!0);dirty&&this.setSplitterPosition(V1===0||V2===0?0:Bridge.Int.clip32(this.getSplitterPosition()*(V1/V2)))}this._prevClientRect=clientRec;this.renderControls();this.resizeChildren()}},f3:function(ev){if(this.isMouseDown){this._currentMouseDownVector=ExpressCraft.Helper.getClientMouseLocation(ev).$clone();var x,m=this.horizontal?this._mouseDownVector.getYi()-this._currentMouseDownVector.getYi()|0:this._mouseDownVector.getXi()-this._currentMouseDownVector.getXi()|0,y=this.getMaxSplitterSize();(x=this.fixedSplitterPostion===ExpressCraft.FixedSplitterPosition.Panel2?this._startingSplitterPos+m|0:this._startingSplitterPos-m|0)>y&&(x=y);this.setSplitterPosition(x);this._currentMouseDownVector=this._mouseDownVector.$clone();this.resizeChildren()}},f4:function(){this.isMouseDown=!1;this.renderControls()}});Bridge.define("ExpressCraft.TabControl",{inherits:[ExpressCraft.Control],showClosedButton:!1,selectedindex:0,config:{properties:{TabPages:null},init:function(){this.TabPages=new(System.Collections.Generic.List$1(ExpressCraft.TabControlPage))}},ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"tabcontrol");this.content.oncontextmenu=$asm.$.ExpressCraft.TabControl.f1},getShowClosedButton:function(){return this.showClosedButton},setShowClosedButton:function(value){value!==this.showClosedButton&&(this.showClosedButton=value,this.resizeTabHeaders())},getSelectedIndex:function(){return this.selectedindex},setSelectedIndex:function(value){var i,page;if(value<0&&(value=0),this.selectedindex=value,this.getTabPages()!=null&&this.getTabPages().getCount()>0)for(i=0;i<this.getTabPages().getCount();i=i+1|0)page={v:this.getTabPages().getItem(i)},this.tabControlActiveStyleChange(i,page),this.getTabPages().setItem(i,page.v)},addPages:function(Pages){Pages===void 0&&(Pages=[]);this.getTabPages().addRange(Pages);this.getHasRendered()&&this.resizeTabHeaders()},tabControlActiveStyleChange:function(i,page){var Isselected=i===this.selectedindex,state=Isselected?"active":"hidden";page.v.tabPageHeader!=null?(page.v.tabPageHeader.classList.remove("tabcontrolpageheader-hidden"),page.v.tabPageHeader.classList.remove("tabcontrolpageheader-active"),page.v.tabPageHeader.classList.add(System.String.concat("tabcontrolpageheader-",state))):(page.v.tabPageHeader=ExpressCraft.Control.div$1(System.String.concat("tabcontrolpageheader tabcontrolpageheader-",state)),page.v.tabPageHeader.setAttribute("i",i.toString()));this.showClosedButton?page.v.tabPageHeaderClose==null&&(page.v.tabPageHeaderClose=ExpressCraft.Control.div$1("tabcontrolpageheader-closebutton"),page.v.tabPageHeader.appendChild(page.v.tabPageHeaderClose)):page.v.tabPageHeaderClose!=null&&page.v.tabPageHeader.removeChild(page.v.tabPageHeaderClose);page.v.content.style.visibility=Isselected?"inherit":"collapse"},resizeTabHeaders:function(){var width,i,page,inwidth;if(this.getTabPages()!=null&&this.getTabPages().getCount()>0)for(width=2,i=0;i<this.getTabPages().getCount();i=i+1|0)page={v:this.getTabPages().getItem(i)},page.v.render(),page.v.tabPageHeader==null&&(this.tabControlActiveStyleChange(i,page),Bridge.Browser.isAndroid||Bridge.Browser.iOS?page.v.tabPageHeader.ontouchstart=Bridge.fn.bind(this,$asm.$.ExpressCraft.TabControl.f2):page.v.tabPageHeader.onmousedown=Bridge.fn.bind(this,$asm.$.ExpressCraft.TabControl.f2),this.content.appendChild(page.v.content),this.content.appendChild(page.v.tabPageHeader)),inwidth=24,System.String.isNullOrEmpty(page.v.getCaption())||(inwidth=inwidth+Bridge.Int.clip32(ExpressCraft.Control.getTextWidth(page.v.getCaption(),ExpressCraft.Settings.defaultFont))|0),this.showClosedButton?(inwidth=inwidth+19|0,page.v.tabPageHeader.innerHTML=System.String.concat("<span>",page.v.getCaption(),"<\/span>")):page.v.tabPageHeader.innerHTML=page.v.getCaption(),page.v.tabPageHeader.style.left=width+"px",page.v.tabPageHeader.style.width=inwidth+"px",width=width+(inwidth+2|0)|0,this.getTabPages().setItem(i,page.v)},render:function(){this.setHasRendered(!0);this.resizeTabHeaders()}});Bridge.ns("ExpressCraft.TabControl",$asm.$);Bridge.apply($asm.$.ExpressCraft.TabControl,{f1:function(ev){ev.stopPropagation();ev.preventDefault()},f2:function(ev){this.setSelectedIndex(parseInt(ev.target.getAttribute("i")))}});Bridge.define("ExpressCraft.TabControlPage",{inherits:[ExpressCraft.Control],index:0,tabPageHeader:null,tabPageHeaderClose:null,config:{properties:{Caption:null}},ctor:function(){this.$initialize();ExpressCraft.Control.$ctor1.call(this,"tabcontrolpage")}});Bridge.define("ExpressCraft.TextInput",{inherits:[ExpressCraft.Control],prevText:"",onTextChanged:null,onKeyDown:null,onKeyUp:null,onKeyPress:null,type:"button",enabled:!0,_readonly:!1,ctor:function(type){type===void 0&&(type=19);this.$initialize();ExpressCraft.Control.$ctor3.call(this,"inputcontrol",type);this.type=type;this.content.onchange=Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f1);this.content.oncontextmenu=$asm.$.ExpressCraft.TextInput.f2;this.content.onkeypress=Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f3);this.content.onkeydown=Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f4);this.content.onkeyup=Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f5);this.content.addEventListener("paste",Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f6));this.content.addEventListener("cut",Bridge.fn.bind(this,$asm.$.ExpressCraft.TextInput.f6))},getText:function(){return this.type==="checkbox"?System.Boolean.toString(this.content.checked):this.content.value},setText:function(value){this.type==="checkbox"?(value=value.toLowerCase(),this.content.checked=ExpressCraft.Helper.isTrue(value)===1):this.content.value=value;this.checkTextChanged()},getEnabled:function(){return this.enabled},setEnabled:function(value){this.enabled=value;this.content.setAttribute("disabled",System.Boolean.toString(!this.enabled))},getReadonly:function(){return this._readonly},setReadonly:function(value){this._readonly=value;this._readonly?this.content.setAttribute("readonly",System.Boolean.toString(this._readonly)):this.content.removeAttribute("readonly")},checkTextChanged:function(){if(!Bridge.referenceEquals(this.getText(),this.prevText)){if(!Bridge.staticEquals(this.onTextChanged,null))this.onTextChanged(this);this.prevText=this.getText()}},render:function(){ExpressCraft.Control.prototype.render.call(this);this.prevText=this.getText()},setDate:function(date){var obj=this.content,dt;date!=null?(dt={},obj.value=Bridge.Date.tryParse(date,null,dt)&&!Bridge.equals(dt.v,new Date(-864e13))?Bridge.Date.format(dt.v,"yyyy-MM-dd"):null):obj.value=null},getDate:function(){var obj=this.content,str=obj.value,dt={};return Bridge.Date.tryParse(str,null,dt)?Bridge.Date.format(dt.v,"yyyy-MM-dd"):"0001-01-01"}});Bridge.ns("ExpressCraft.TextInput",$asm.$);Bridge.apply($asm.$.ExpressCraft.TextInput,{f1:function(){this.checkTextChanged()},f2:function(ev){ev.stopPropagation()},f3:function(ev){if(this.checkTextChanged(),!Bridge.staticEquals(this.onKeyPress,null))this.onKeyPress(this,ev)},f4:function(ev){if(this.checkTextChanged(),!Bridge.staticEquals(this.onKeyDown,null))this.onKeyDown(this,ev)},f5:function(ev){if(this.checkTextChanged(),!Bridge.staticEquals(this.onKeyUp,null))this.onKeyUp(this,ev)},f6:function(){this.checkTextChanged()}});Bridge.define("ExpressCraft.ConsoleForm",{inherits:[ExpressCraft.Form],statics:{consoleVisible:!1,_consoleForm:null,log:function(source,logType){logType===void 0&&(logType=0);ExpressCraft.ConsoleForm.consoleVisible||(ExpressCraft.ConsoleForm._consoleForm=new ExpressCraft.ConsoleForm,ExpressCraft.ConsoleForm._consoleForm.show());ExpressCraft.ConsoleForm._consoleForm.internalLog(source,logType)},clear:function(){ExpressCraft.ConsoleForm.consoleVisible||(ExpressCraft.ConsoleForm._consoleForm=new ExpressCraft.ConsoleForm,ExpressCraft.ConsoleForm._consoleForm.show());ExpressCraft.ConsoleForm._consoleForm.internalClear()}},logContent:null,ctor:function(){this.$initialize();ExpressCraft.Form.ctor.call(this);this.logContent=ExpressCraft.Control.div$1("console-body");this.getBody().appendChild(this.logContent);this.getBody().style.background=ExpressCraft.Color.op_Implicit$1(ExpressCraft.Color.getBlack().$clone());this.getBody().style.overflowY="scroll";this.setText(System.String.concat(document.title," - Console"));this.startPosition=ExpressCraft.FormStartPosition.Center;this.setSize(new ExpressCraft.Vector2.$ctor1(979,512))},internalClear:function(){ExpressCraft.Helper.empty(this.logContent)},internalLog:function(source,logType){logType===void 0&&(logType=0);var para=Bridge.merge(document.createElement("p"),{className:"console-para"});switch(logType){case ExpressCraft.ConsoleLogType.Debug:para.style.color=ExpressCraft.Color.op_Implicit$1(ExpressCraft.Color.getForestGreen().$clone());break;case ExpressCraft.ConsoleLogType.Error:para.style.color=ExpressCraft.Color.op_Implicit$1(ExpressCraft.Color.getRed().$clone())}para.innerHTML=source;this.logContent.appendChild(para);this.logContent.children.length>1e3&&this.logContent.removeChild(this.logContent.children[0])},onShowed:function(){ExpressCraft.Form.prototype.onShowed.call(this);ExpressCraft.ConsoleForm.consoleVisible=!0},onClosed:function(){ExpressCraft.Form.prototype.onClosed.call(this);ExpressCraft.ConsoleForm.consoleVisible=!1}});Bridge.define("ExpressCraft.DialogForm",{inherits:[ExpressCraft.Form],_buttonCollection:null,buttonSection:null,ctor:function(text){text===void 0&&(text="");this.$initialize();ExpressCraft.Form.ctor.call(this);this.setText(text);this.getBody().style.backgroundColor="white";this.buttonSection=ExpressCraft.Control.div$1("dialogbuttonsection")},onShowing:function(){this.getBody().appendChild(this.buttonSection);ExpressCraft.Form.prototype.onShowing.call(this)}});Bridge.define("ExpressCraft.Network.NetworkProgressForm",{inherits:[ExpressCraft.Form],progressControl:null,buttonCancel:null,ctor:function(_text){_text===void 0&&(_text="Loading...");this.$initialize();ExpressCraft.Form.ctor.call(this);this.setText(_text);this.setWidth("400px");this.setHeight("200px");this.progressControl=new ExpressCraft.ProgressControl;ExpressCraft.Helper.setBounds$1(this.progressControl,"50px","50px","calc(100% - 100px)","23px");this.buttonCancel=Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Cancel),{setText:"Cancel"});ExpressCraft.Helper.setLocation$1(this.buttonCancel,"calc(100% - 78px)","calc(100% - 26px)");this.buttonCancel.content.tabIndex=0;ExpressCraft.Helper.appendChildren$1(this.getBody(),[this.buttonCancel,this.progressControl]);this.allowSizeChange=!1}});Bridge.define("ExpressCraft.PDFPreviewForm",{inherits:[ExpressCraft.Form],source:null,pDFSourceType:0,pdfViewer:null,ctor:function(source,pdfSourceType){pdfSourceType===void 0&&(pdfSourceType=0);this.$initialize();ExpressCraft.Form.ctor.call(this);this.source=source;this.pDFSourceType=pdfSourceType;this.pdfViewer=document.createElement(Bridge.Browser.isIE?"iframe":pdfSourceType===ExpressCraft.PdfSourceType.Url?"embed":"object");this.pdfViewer.className="control";ExpressCraft.Helper.setBounds(this.pdfViewer,0,0,"100%","100%");this.pdfViewer.setAttribute("alt","pdf");this.pdfViewer.setAttribute("type","application/pdf");this.getBody().appendChild(this.pdfViewer)},onShowing:function(){ExpressCraft.Form.prototype.onShowing.call(this);this.pDFSourceType===ExpressCraft.PdfSourceType.Url?this.pdfViewer.setAttribute("Src",this.source):this.pdfViewer.setAttribute("data",ExpressCraft.Control.getPdfString(this.source))}});Bridge.define("ExpressCraft.SimpleDialogButton",{inherits:[ExpressCraft.SimpleButton],ctor:function(parentForm,dialogResult){dialogResult===void 0&&(dialogResult=0);this.$initialize();ExpressCraft.SimpleButton.ctor.call(this);this.parentForm=parentForm;this.dialogResult=dialogResult;ExpressCraft.Helper.setSize$1(this,75,23)}});Bridge.define("ExpressCraft.DataRowEditForm",{inherits:[ExpressCraft.DialogForm],liveData:!1,gridView:null,dataRow:null,panel:null,prevData:null,ctor:function(_dataRow,_gridView,_liveData){_liveData===void 0&&(_liveData=!0);this.$initialize();ExpressCraft.DialogForm.ctor.call(this);this.prevData=System.Array.init(_dataRow.parentTable.getColumnCount(),null,Object);for(var i=0;i<_dataRow.parentTable.getColumnCount();i=i+1|0)this.prevData[i]=_dataRow.getItem(i);this.dataRow=_dataRow;this.gridView=_gridView;this.liveData=_liveData;this.setText("Row Edit Form");this.setWidth("400px");this.setHeight("600px");this.getBody().style.overflowY="auto";this.panel=ExpressCraft.Control.div();this.panel.style.overflowY="auto";ExpressCraft.Helper.setBounds(this.panel,"0","0","100%","calc(100% - 60px)");this.getBody().style.backgroundColor="white";this._buttonCollection=Bridge.fn.bind(this,function(_o2){return _o2.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Cancel),{setText:"Cancel",itemClick:Bridge.fn.bind(this,function(){for(var i1=0;i1<this.dataRow.parentTable.getColumnCount();i1=i1+1|0)_dataRow.setItem(i1,this.prevData[i1]);this.gridView.renderGrid()})})),_o2.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.OK),{setText:"OK"})),_o2})(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(100% - 85px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(1),"calc(100% - 170px)","calc(100% - 35px)");ExpressCraft.Helper.appendChildrenTabIndex(this.buttonSection,this._buttonCollection.toArray());this.getBody().appendChild(this.panel);this.allowSizeChange=!1},onClosed:function(){this.gridView.getDataSource().endDataUpdate();ExpressCraft.DialogForm.prototype.onClosed.call(this)},onShowed:function(){ExpressCraft.DialogForm.prototype.onShowed.call(this);this.dataRow==null?(this.dialogResult=ExpressCraft.DialogResultEnum.Cancel,this.close()):(this.gridView.getDataSource().beginDataUpdate(),this.generateForm())},generateForm:function(){var $t,i;ExpressCraft.Helper.empty(this.panel);var length=this.gridView.columnCount(),col=0,height=25,defaultHeight=54,defaultHeight2X=defaultHeight*3|0,incrementHeight=defaultHeight,eachWidth=113;for(i=0;i<length;i=i+1|0)$t=function(){var grCol,dtCol,dtIndex,lbldate,inputDate,lblnmb,inputNum,lblstr,inputstr;if(incrementHeight=defaultHeight,grCol=this.gridView.getColumn(i),!grCol.allowEdit)return{jump:1};dtCol=grCol.column;dtIndex=grCol.getDataColumnIndex();Bridge.referenceEquals(grCol.column.fieldName.toLowerCase(),"cntr")&&(grCol.readOnly=!0);switch(dtCol.dataType){case ExpressCraft.DataType.DateTime:lbldate=ExpressCraft.Control.label(grCol.caption,25+((col*eachWidth|0)+(col*3|0)|0)|0,height);inputDate=new ExpressCraft.TextInput("date");ExpressCraft.Helper.setBounds$1(inputDate,25+((col*eachWidth|0)+(col*3|0)|0)|0,(height+16|0)+3|0,eachWidth,24);inputDate.setDate(System.Convert.toString(this.dataRow.getItem(dtIndex)));inputDate.setReadonly(grCol.readOnly);grCol.readOnly||(inputDate.onTextChanged=Bridge.fn.bind(this,function(){this.dataRow.setItem(dtIndex,inputDate.getDate());this.liveData&&this.gridView.renderGrid()}));ExpressCraft.Helper.appendChildren(this.panel,[lbldate,ExpressCraft.Control.op_Implicit(inputDate)]);break;case ExpressCraft.DataType.Integer:case ExpressCraft.DataType.Long:case ExpressCraft.DataType.Float:case ExpressCraft.DataType.Double:case ExpressCraft.DataType.Decimal:case ExpressCraft.DataType.Bool:case ExpressCraft.DataType.Byte:case ExpressCraft.DataType.Short:lblnmb=ExpressCraft.Control.label(grCol.caption,25+((col*eachWidth|0)+(col*3|0)|0)|0,height);Bridge.is(grCol.cellDisplay,ExpressCraft.GridViewCellDisplayCheckBox)?(inputNum=new ExpressCraft.TextInput("checkbox"),ExpressCraft.Helper.setChecked$1(inputNum,this.dataRow.getItem(dtIndex))):(inputNum=new ExpressCraft.TextInput("number"),inputNum.setText(System.Convert.toString(this.dataRow.getItem(dtIndex))));ExpressCraft.Helper.setBounds$1(inputNum,25+((col*eachWidth|0)+(col*3|0)|0)|0,(height+16|0)+3|0,eachWidth,24);inputNum.setReadonly(grCol.readOnly);grCol.readOnly||(inputNum.onTextChanged=Bridge.fn.bind(this,function(){inputNum.type==="checkbox"?this.dataRow.setItem(dtIndex,ExpressCraft.Helper.isTrue(inputNum.getText())===1):this.dataRow.setItem(dtIndex,inputNum.getText());this.liveData&&this.gridView.renderGrid()}));ExpressCraft.Helper.appendChildren(this.panel,[lblnmb,ExpressCraft.Control.op_Implicit(inputNum)]);break;default:case ExpressCraft.DataType.Object:case ExpressCraft.DataType.String:lblstr=ExpressCraft.Control.label(grCol.caption,25+((col*eachWidth|0)+(col*3|0)|0)|0,height);inputstr=new ExpressCraft.TextInput("text");ExpressCraft.Helper.setBounds$1(inputstr,25+((col*eachWidth|0)+(col*3|0)|0)|0,(height+16|0)+3|0,eachWidth,24);inputstr.setText(System.Convert.toString(this.dataRow.getItem(dtIndex)));inputstr.setReadonly(grCol.readOnly);grCol.readOnly||(inputstr.onTextChanged=Bridge.fn.bind(this,function(){this.dataRow.setItem(dtIndex,inputstr.getText());this.liveData&&this.gridView.renderGrid()}));ExpressCraft.Helper.appendChildren(this.panel,[lblstr,ExpressCraft.Control.op_Implicit(inputstr)])}col===2?(height=height+(incrementHeight+3|0)|0,col=0):col=col+1|0}.call(this)||{},$t.jump==1}});Bridge.define("ExpressCraft.InputDialogBase",{inherits:[ExpressCraft.DialogForm],config:{properties:{QuestionSize:0,Wrapper:null,QuestionDiv:null,AnswerDiv:null,ImageDiv:null}},ctor:function(title,width,question){this.$initialize();ExpressCraft.DialogForm.ctor.call(this,title);this.setWidth(ExpressCraft.Helper.toPx$1(width));this.setWrapper(ExpressCraft.Control.div());this.setQuestionDiv(ExpressCraft.Control.div());this.setAnswerDiv(ExpressCraft.Control.div());this._buttonCollection=Bridge.fn.bind(this,$asm.$.ExpressCraft.InputDialogBase.f1)(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));this.getWrapper().style.overflowY="hidden";ExpressCraft.Helper.setBounds(this.getWrapper(),"0px","0px","100%","calc(100% - 60px)");this.getQuestionDiv().style.position="relative";this.getQuestionDiv().style.height="auto";this.getQuestionDiv().style.marginLeft="10px";this.getQuestionDiv().style.marginRight="10px";this.getQuestionDiv().style.marginTop="10px";this.getAnswerDiv().style.position="relative";this.getAnswerDiv().style.height="auto";ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(100% - 170px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(1),"calc(100% - 85px)","calc(100% - 35px)");var tb=new ExpressCraft.TextBlock(question,width-25|0);tb.computeString();tb.elelemtsOverMax||(width=(Bridge.Int.clip32(tb.maxCalculatedWidth)+65|0)+37|0,width<ExpressCraft.Settings.messageFormMinimumWidthInPx&&(width=ExpressCraft.Settings.messageFormMinimumWidthInPx));tb.computedHeight>ExpressCraft.Settings.messageFormTextMaximumHeightInPx&&(tb.computedHeight=ExpressCraft.Settings.messageFormTextMaximumHeightInPx);tb.computedHeight<ExpressCraft.Settings.messageFormTextMinimumHeightInPx&&(tb.computedHeight=ExpressCraft.Settings.messageFormTextMinimumHeightInPx);this.getQuestionDiv().innerHTML=question;this.setQuestionSize(System.Convert.toInt32(tb.computedHeight))},create:function(height){this.getWrapper().appendChild(this.getQuestionDiv());this.getWrapper().appendChild(document.createElement("br"));this.getWrapper().appendChild(this.getAnswerDiv());this.getBody().appendChild(this.getWrapper());ExpressCraft.Helper.appendChildrenTabIndex(this.buttonSection,this._buttonCollection.toArray());this.setHeight(ExpressCraft.Helper.toPx$1(height));this.allowSizeChange=!1}});Bridge.ns("ExpressCraft.InputDialogBase",$asm.$);Bridge.apply($asm.$.ExpressCraft.InputDialogBase,{f1:function(_o1){return _o1.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.OK),{setText:"Accept"})),_o1.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Cancel),{setText:"Cancel"})),_o1}});Bridge.define("ExpressCraft.MessageBoxForm",{inherits:[ExpressCraft.DialogForm],statics:{audio_beek:"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=",snd:null,beep:function(){ExpressCraft.Settings.messageFormBeep&&(ExpressCraft.MessageBoxForm.snd==null&&(ExpressCraft.MessageBoxForm.snd=new Audio(ExpressCraft.MessageBoxForm.audio_beek)),ExpressCraft.MessageBoxForm.snd.play())}},_buttons:0,ctor:function(prompt,ui){ExpressCraft.MessageBoxForm.$ctor2.call(this,prompt,ui,ExpressCraft.MessageBoxButtons.Auto,System.Enum.toString(ExpressCraft.MessageBoxLayout,ui))},$ctor3:function(prompt,ui,title){ExpressCraft.MessageBoxForm.$ctor2.call(this,prompt,ui,ExpressCraft.MessageBoxButtons.Auto,title)},$ctor1:function(prompt,ui,buttons){ExpressCraft.MessageBoxForm.$ctor2.call(this,prompt,ui,buttons,System.Enum.toString(ExpressCraft.MessageBoxLayout,ui))},$ctor2:function(prompt,ui,buttons,title){var tb,width;this.$initialize();ExpressCraft.DialogForm.ctor.call(this,title);var section=ExpressCraft.Control.div(),pic=ExpressCraft.Control.div$1("image32"),textContent=ExpressCraft.Control.div$1("messag-box-content");this._buttons=buttons;switch(ui){case ExpressCraft.MessageBoxLayout.Exclamation:this._buttons===ExpressCraft.MessageBoxButtons.Auto&&(this._buttons=ExpressCraft.MessageBoxButtons.Ok);pic.classList.add("imagewarning");break;case ExpressCraft.MessageBoxLayout.Information:this._buttons===ExpressCraft.MessageBoxButtons.Auto&&(this._buttons=ExpressCraft.MessageBoxButtons.Ok);pic.classList.add("imageinfo");break;case ExpressCraft.MessageBoxLayout.Question:this._buttons===ExpressCraft.MessageBoxButtons.Auto&&(this._buttons=ExpressCraft.MessageBoxButtons.YesNo);pic.classList.add("imageindex");break;case ExpressCraft.MessageBoxLayout.Error:this._buttons===ExpressCraft.MessageBoxButtons.Auto&&(this._buttons=ExpressCraft.MessageBoxButtons.AbortIgnoreRetry);pic.classList.add("imageerror");break;default:throw new System.ArgumentOutOfRangeException("ui",null,null,ui);}switch(this._buttons){case ExpressCraft.MessageBoxButtons.Ok:this._buttonCollection=Bridge.fn.bind(this,$asm.$.ExpressCraft.MessageBoxForm.f1)(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(50% - 37.5px)","calc(100% - 35px)");break;case ExpressCraft.MessageBoxButtons.YesNo:this._buttonCollection=Bridge.fn.bind(this,$asm.$.ExpressCraft.MessageBoxForm.f2)(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(100% - 85px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(1),"calc(100% - 170px)","calc(100% - 35px)");break;case ExpressCraft.MessageBoxButtons.YesNoCancel:this._buttonCollection=Bridge.fn.bind(this,$asm.$.ExpressCraft.MessageBoxForm.f3)(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(100% - 85px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(1),"calc(100% - 170px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(2),"calc(100% - 255px)","calc(100% - 35px)");break;case ExpressCraft.MessageBoxButtons.AbortIgnoreRetry:this._buttonCollection=Bridge.fn.bind(this,$asm.$.ExpressCraft.MessageBoxForm.f4)(new(System.Collections.Generic.List$1(ExpressCraft.SimpleDialogButton)));ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(0),"calc(100% - 85px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(1),"calc(100% - 170px)","calc(100% - 35px)");ExpressCraft.Helper.setLocation$1(this._buttonCollection.getItem(2),"calc(100% - 255px)","calc(100% - 35px)");break;default:throw new System.ArgumentOutOfRangeException;}tb=new ExpressCraft.TextBlock(prompt,455);tb.computeString();width=480;tb.elelemtsOverMax||(width=(Bridge.Int.clip32(tb.maxCalculatedWidth)+65|0)+37|0,width<ExpressCraft.Settings.messageFormMinimumWidthInPx&&(width=ExpressCraft.Settings.messageFormMinimumWidthInPx));this._buttonCollection.getCount()>2&&width<320&&(width=320);textContent.innerHTML=prompt;section.style.overflowY="auto";section.style.height="100%";section.style.maxHeight=ExpressCraft.Helper.toPx$1(ExpressCraft.Settings.messageFormTextMaximumHeightInPx);section.appendChild(textContent);section.style.top="32px";section.style.width="90%";ExpressCraft.Helper.appendChildren(this.getBody(),[pic,section]);tb.computedHeight>ExpressCraft.Settings.messageFormTextMaximumHeightInPx&&(tb.computedHeight=ExpressCraft.Settings.messageFormTextMaximumHeightInPx);tb.computedHeight<ExpressCraft.Settings.messageFormTextMinimumHeightInPx&&(tb.computedHeight=ExpressCraft.Settings.messageFormTextMinimumHeightInPx);ExpressCraft.Helper.appendChildrenTabIndex(this.buttonSection,this._buttonCollection.toArray());this.setHeight(System.Single.format(tb.computedHeight+77+29+32,"G")+"px");this.setWidth(ExpressCraft.Helper.toPx$1(width));this.allowSizeChange=!1},onShowed:function(){ExpressCraft.MessageBoxForm.beep();ExpressCraft.DialogForm.prototype.onShowed.call(this);this._buttonCollection.getItem(0).content.focus()}});Bridge.ns("ExpressCraft.MessageBoxForm",$asm.$);Bridge.apply($asm.$.ExpressCraft.MessageBoxForm,{f1:function(_o3){return _o3.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.OK),{setText:"Ok"})),_o3},f2:function(_o4){return _o4.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.No),{setText:"No"})),_o4.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Yes),{setText:"Yes"})),_o4},f3:function(_o5){return _o5.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Cancel),{setText:"Cancel"})),_o5.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.No),{setText:"No"})),_o5.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Yes),{setText:"Yes"})),_o5},f4:function(_o6){return _o6.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Abort),{setText:"Abort"})),_o6.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Retry),{setText:"Retry"})),_o6.add(Bridge.merge(new ExpressCraft.SimpleDialogButton(this,ExpressCraft.DialogResultEnum.Ignore),{setText:"Ignore"})),_o6}});Bridge.define("ExpressCraft.InputDialogCheckbox",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:!1}},ctor:function(title,question){ExpressCraft.InputDialogCheckbox.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","checkbox");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","40px");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.checked)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+40|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogColour",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogColour.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","color");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","40px");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.value)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+40|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogDate",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogDate.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","date");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.valueAsDate)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogDateTimeLocal",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null},init:function(){this.Result=new Date(-864e13)}},ctor:function(title,question){ExpressCraft.InputDialogDateTimeLocal.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);this.setResult(new Date);var input=ExpressCraft.Control.input("inputcontrol","datetime-local");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(Bridge.Date.parseExact(input.value,"yyyy-MM-ddTHH:mm",System.Globalization.CultureInfo.invariantCulture))});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogEmail",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogEmail.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","email");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.value)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogMonth",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogMonth.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","month");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.valueAsDate)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogNumber",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:0}},ctor:function(title,question){ExpressCraft.InputDialogNumber.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","number");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.valueAsNumber)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogText",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogText.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","text");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.value)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}});Bridge.define("ExpressCraft.InputDialogWeek",{inherits:[ExpressCraft.InputDialogBase],config:{properties:{Result:null}},ctor:function(title,question){ExpressCraft.InputDialogWeek.$ctor1.call(this,title,question,360)},$ctor1:function(title,question,size){this.$initialize();ExpressCraft.InputDialogBase.ctor.call(this,title,size,question);var input=ExpressCraft.Control.input("inputcontrol","week");input.id="DialogAnswerBox";ExpressCraft.Helper.setBounds(input,"10px","0px","90%","auto");input.onchange=Bridge.fn.bind(this,function(){this.setResult(input.value)});this.getAnswerDiv().appendChild(input);this.create(((this.getQuestionSize()+25|0)+25|0)+78|0)}})});