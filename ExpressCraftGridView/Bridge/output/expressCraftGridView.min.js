Bridge.assembly("ExpressCraftGridView",function($asm){"use strict";Bridge.define("ExpressCraftGridView.App",{$main:function(){ExpressCraft.Settings.showExceptionDialog=!1;ExpressCraft.Application.setApplicationDefinition(ExpressCraft.ApplicationDefitnion.BrowserConsole);ExpressCraft.Application.run(new ExpressCraftGridView.App.GridForm)}});Bridge.define("ExpressCraftGridView.App.GridForm",{inherits:[ExpressCraft.Form],gridView:null,addNewRowButton:null,add100000RowsButton:null,clearRowsButton:null,newFormButton:null,x:0,ctor:function(){var dataTable,i;for(this.$initialize(),ExpressCraft.Form.ctor.call(this),this.setWindowState(ExpressCraft.WindowState.Maximized),ExpressCraft.Settings.resourceURL="",ExpressCraft.Settings.gridViewAutoColumnFormatDates=!1,this.gridView=new ExpressCraft.GridView(!0,!1),dataTable=new ExpressCraft.DataTable,i=0;i<100;i=i+1|0)dataTable.addColumn(System.String.concat("Date",i.toString()),ExpressCraft.DataType.DateTime);this.gridView.setDataSource(dataTable);ExpressCraft.Helper.setBoundsFull(this.gridView);this.addNewRowButton=Bridge.merge(new ExpressCraft.SimpleButton,{setText:"Add New a Row"});ExpressCraft.Helper.setBounds(this.addNewRowButton,"3px","3px","auto","24px");this.add100000RowsButton=Bridge.merge(new ExpressCraft.SimpleButton,{setText:"Add 1000 Row's"});ExpressCraft.Helper.setBounds(this.add100000RowsButton,"98px","3px","auto","24px");this.clearRowsButton=Bridge.merge(new ExpressCraft.SimpleButton,{setText:"Clear Rows"});ExpressCraft.Helper.setBounds(this.clearRowsButton,"205px","3px","auto","24px");this.newFormButton=Bridge.merge(new ExpressCraft.SimpleButton,{setText:"New Form"});ExpressCraft.Helper.setBounds(this.newFormButton,"308px","3px","auto","24px");this.clearRowsButton.itemClick=Bridge.fn.bind(this,function(){dataTable.clearRows();this.gridView.renderGrid()});this.newFormButton.itemClick=$asm.$.ExpressCraftGridView.App.GridForm.f1;this.add100000RowsButton.itemClick=Bridge.fn.bind(this,function(){var i1,data,x;for(dataTable.beginDataUpdate(),i1=0;i1<1e3;i1=i1+1|0){for(data=System.Array.init(100,null,Object),x=0;x<100;x=x+1|0)data[x]=new Date;dataTable.addRow$1(data)}dataTable.endDataUpdate();this.gridView.renderGrid();this.gridView.scrollToBottom()});this.addNewRowButton.itemClick=Bridge.fn.bind(this,function(){var dr=dataTable.newRow(),fdre=new ExpressCraft.DataRowEditForm(dr,this.gridView,!0);fdre.showDialog([new ExpressCraft.DialogResult(ExpressCraft.DialogResultEnum.OK,Bridge.fn.bind(this,function(){dataTable.acceptNewRows();this.gridView.renderGrid()})),new ExpressCraft.DialogResult(ExpressCraft.DialogResultEnum.Cancel,function(){dataTable.rejectNewRows()})])});ExpressCraft.Helper.appendChildren$2(this.getHeading(),[this.addNewRowButton,this.add100000RowsButton,this.clearRowsButton,this.newFormButton]);this.getBody().appendChild(ExpressCraft.Control.op_Implicit(this.gridView));this.linkchildToForm(this.gridView);this.gridView.renderGrid()},onShowing:function(){ExpressCraft.Form.prototype.onShowing.call(this)}});Bridge.ns("ExpressCraftGridView.App.GridForm",$asm.$);Bridge.apply($asm.$.ExpressCraftGridView.App.GridForm,{f1:function(){(new ExpressCraft.Form).show()}})});